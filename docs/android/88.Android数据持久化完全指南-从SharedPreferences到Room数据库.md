---
title: Androidæ•°æ®æŒä¹…åŒ–å®Œå…¨æŒ‡å—-ä»SharedPreferencesåˆ°Roomæ•°æ®åº“
date: 2026-01-28
tags:
  - Androidå¼€å‘
  - æ•°æ®å­˜å‚¨
  - Roomæ•°æ®åº“
---

## å‰è¨€

å¤§å®¶å¥½ï¼æˆ‘æ˜¯Jorgenï¼Œä»Šå¤©æƒ³å’Œå¤§å®¶èŠä¸€èŠAndroidå¼€å‘ä¸­ä¸€ä¸ªéå¸¸é‡è¦ä½†åˆç»å¸¸è¢«å¿½è§†çš„è¯é¢˜â€”â€”æ•°æ®æŒä¹…åŒ–ã€‚ğŸ¤”

åœ¨å¼€å‘Androidåº”ç”¨æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¿å­˜ç”¨æˆ·æ•°æ®ã€åº”ç”¨é…ç½®æˆ–ç¼“å­˜ä¿¡æ¯ã€‚ä»ç®€å•çš„é”®å€¼å¯¹å­˜å‚¨åˆ°å¤æ‚çš„æ•°æ®åº“æ“ä½œï¼ŒAndroidæä¾›äº†å¤šç§æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆã€‚ä½†é¢å¯¹è¿™ä¹ˆå¤šé€‰æ‹©ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾æ„Ÿåˆ°å›°æƒ‘ï¼šä»€ä¹ˆæ—¶å€™è¯¥ç”¨SharedPreferencesï¼Ÿä»€ä¹ˆæ—¶å€™åˆè¯¥é€‰æ‹©Roomæ•°æ®åº“ï¼Ÿä»Šå¤©ï¼Œæˆ‘å°†å¸¦å¤§å®¶å…¨é¢äº†è§£Androidä¸­çš„æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ åœ¨å®é™…å¼€å‘ä¸­åšå‡ºæœ€ä½³é€‰æ‹©ã€‚

::: tip
æ•°æ®æŒä¹…åŒ–æ˜¯æ„å»ºå¥å£®Androidåº”ç”¨çš„åŸºç¡€ï¼Œåˆç†é€‰æ‹©å­˜å‚¨æ–¹æ¡ˆä¸ä»…èƒ½æå‡ç”¨æˆ·ä½“éªŒï¼Œè¿˜èƒ½ä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚
:::

## Androidæ•°æ®æŒä¹…åŒ–æ¦‚è¿°

åœ¨Androidä¸­ï¼Œæ•°æ®æŒä¹…åŒ–æŒ‡çš„æ˜¯å°†æ•°æ®ä¿å­˜åˆ°è®¾å¤‡å­˜å‚¨ä¸­ï¼Œä½¿å¾—å³ä½¿åº”ç”¨å…³é—­æˆ–è®¾å¤‡é‡å¯ï¼Œæ•°æ®ä»ç„¶å¯ä»¥è¢«è®¿é—®ã€‚Androidæä¾›äº†å¤šç§æ•°æ®æŒä¹…åŒ–æ–¹å¼ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯å’Œä¼˜ç¼ºç‚¹ã€‚

### æ•°æ®æŒä¹…åŒ–çš„ä¸»è¦æ–¹å¼

1. **SharedPreferences**ï¼šè½»é‡çº§çš„é”®å€¼å¯¹å­˜å‚¨
2. **å†…éƒ¨å­˜å‚¨**ï¼šåº”ç”¨ç§æœ‰æ–‡ä»¶å­˜å‚¨
3. **å¤–éƒ¨å­˜å‚¨**ï¼šå…±äº«æ–‡ä»¶å­˜å‚¨
4. **SQLiteæ•°æ®åº“**ï¼šå…³ç³»å‹æ•°æ®åº“å­˜å‚¨
5. **RoomæŒä¹…åŒ–åº“**ï¼šSQLiteçš„æŠ½è±¡å±‚
6. **å†…å®¹æä¾›è€…(ContentProvider)**ï¼šæ•°æ®å…±äº«æœºåˆ¶
7. **ç½‘ç»œå­˜å‚¨**ï¼šäº‘ç«¯æ•°æ®å­˜å‚¨

## SharedPreferencesè¯¦è§£

SharedPreferencesæ˜¯Androidä¸­æœ€ç®€å•çš„æ•°æ®æŒä¹…åŒ–æ–¹å¼ï¼Œé€‚ç”¨äºå­˜å‚¨å°‘é‡ç®€å•çš„é”®å€¼å¯¹æ•°æ®ã€‚

### åŸºæœ¬ç”¨æ³•

```kotlin
// è·å–SharedPreferenceså®ä¾‹
val sharedPreferences = getSharedPreferences("my_app_prefs", Context.MODE_PRIVATE)

// å­˜å‚¨æ•°æ®
val editor = sharedPreferences.edit()
editor.putString("username", "Jorgen")
editor.putInt("age", 25)
editor.putBoolean("is_logged_in", true)
editor.apply() // å¼‚æ­¥æäº¤

// è¯»å–æ•°æ®
val username = sharedPreferences.getString("username", "")
val age = sharedPreferences.getInt("age", 0)
val isLoggedIn = sharedPreferences.getBoolean("is_logged_in", false)
```

### SharedPreferencesçš„ä¼˜ç¼ºç‚¹

| ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|
| ä½¿ç”¨ç®€å•ï¼ŒAPIç›´è§‚ | ä¸é€‚åˆå­˜å‚¨å¤§é‡æ•°æ® |
| æ”¯æŒå¤šç§åŸºæœ¬æ•°æ®ç±»å‹ | ä¸æ”¯æŒå¤æ‚æŸ¥è¯¢ |
| è‡ªåŠ¨å¤„ç†çº¿ç¨‹å®‰å…¨ | ä¸é€‚åˆå­˜å‚¨ç»“æ„åŒ–æ•°æ® |
| é€‚åˆå­˜å‚¨ç”¨æˆ·è®¾ç½®å’Œåå¥½ | ä¸é€‚åˆå­˜å‚¨æ•æ„Ÿä¿¡æ¯ |

::: theorem
æœ€ä½³å®è·µï¼šSharedPreferencesé€‚åˆå­˜å‚¨åº”ç”¨é…ç½®ã€ç”¨æˆ·åå¥½è®¾ç½®ç­‰å°‘é‡ç®€å•æ•°æ®ï¼Œä¸é€‚åˆå­˜å‚¨å¤§é‡æˆ–å¤æ‚çš„æ•°æ®ç»“æ„ã€‚
:::

## SQLiteæ•°æ®åº“ä¸RoomæŒä¹…åŒ–åº“

å½“éœ€è¦å­˜å‚¨ç»“æ„åŒ–æ•°æ®æ—¶ï¼ŒSQLiteæ˜¯Androidä¸­çš„æ ‡å‡†é€‰æ‹©ã€‚è€ŒRoomæ˜¯Googleæä¾›çš„æŒä¹…åŒ–åº“ï¼Œå®ƒæ˜¯å¯¹SQLiteçš„æŠ½è±¡å±‚ï¼Œæä¾›äº†æ›´ä¾¿æ·çš„æ•°æ®è®¿é—®æ–¹å¼ã€‚

### RoomåŸºç¡€æ¶æ„

Roomä¸»è¦ç”±ä¸‰ä¸ªç»„ä»¶ç»„æˆï¼š

1. **Entity**ï¼šæ•°æ®åº“è¡¨
2. **DAO**ï¼šæ•°æ®è®¿é—®å¯¹è±¡
3. **Database**ï¼šæ•°æ®åº“æŒæœ‰è€…

### å®ç°æ­¥éª¤

#### 1. æ·»åŠ ä¾èµ–

```gradle
// build.gradle (Module: app)
dependencies {
    def room_version = "2.6.1"
    
    implementation "androidx.room:room-runtime:$room_version"
    kapt "androidx.room:room-compiler:$room_version"
    
    // Kotlin Extensions and Coroutines support for Room
    implementation "androidx.room:room-ktx:$room_version"
}
```

#### 2. å®šä¹‰Entity

```kotlin
@Entity(tableName = "users")
data class User(
    @PrimaryKey(autoGenerate = true) val id: Int = 0,
    @ColumnInfo(name = "name") val name: String,
    @ColumnInfo(name = "email") val email: String,
    @ColumnInfo(name = "age") val age: Int
)
```

#### 3. åˆ›å»ºDAO

```kotlin
@Dao
interface UserDao {
    @Insert
    suspend fun insert(user: User): Long

    @Query("SELECT * FROM users")
    fun getAllUsers(): Flow<List<User>>

    @Query("SELECT * FROM users WHERE id = :userId")
    suspend fun getUserById(userId: Int): User?

    @Update
    suspend fun update(user: User)

    @Delete
    suspend fun delete(user: User)
}
```

#### 4. åˆ›å»ºDatabase

```kotlin
@Database(entities = [User::class], version = 1)
abstract class AppDatabase : RoomDatabase() {
    abstract fun userDao(): UserDao
    
    companion object {
        @Volatile
        private var INSTANCE: AppDatabase? = null
        
        fun getDatabase(context: Context): AppDatabase {
            return INSTANCE ?: synchronized(this) {
                val instance = Room.databaseBuilder(
                    context.applicationContext,
                    AppDatabase::class.java,
                    "app_database"
                ).build()
                INSTANCE = instance
                instance
            }
        }
    }
}
```

#### 5. ä½¿ç”¨Roomæ•°æ®åº“

```kotlin
class UserRepository(private val userDao: UserDao) {
    val allUsers: Flow<List<User>> = userDao.getAllUsers()
    
    suspend fun insert(user: User) {
        userDao.insert(user)
    }
    
    // å…¶ä»–æ•°æ®åº“æ“ä½œ...
}

// åœ¨ViewModelä¸­ä½¿ç”¨
class UserViewModel(application: Application) : AndroidViewModel(application) {
    private val repository: UserRepository
    val allUsers: Flow<List<User>>
    
    init {
        val userDao = AppDatabase.getDatabase(application).userDao()
        repository = UserRepository(userDao)
        allUsers = repository.allUsers
    }
    
    fun insertUser(name: String, email: String, age: Int) {
        viewModelScope.launch {
            val user = User(name = name, email = email, age = age)
            repository.insert(user)
        }
    }
}
```

### Roomçš„é«˜çº§ç‰¹æ€§

#### 1. æ•°æ®è¿ç§»

```kotlin
@Database(entities = [User::class], version = 2)
abstract class AppDatabase : RoomDatabase() {
    // ...
}

// åˆ›å»ºMigrationç±»
val MIGRATION_1_2 = object : Migration(1, 2) {
    override fun migrate(database: SupportSQLiteDatabase) {
        // æ‰§è¡Œæ•°æ®åº“è¿ç§»é€»è¾‘
        database.execSQL("ALTER TABLE users ADD COLUMN phone TEXT")
    }
}

// åœ¨Databaseæ„å»ºæ—¶åº”ç”¨è¿ç§»
val db = Room.databaseBuilder(
    context.applicationContext,
    AppDatabase::class.java, "database-name"
)
    .addMigrations(MIGRATION_1_2)
    .build()
```

#### 2. ç±»å‹è½¬æ¢å™¨

```kotlin
class Converters {
    @TypeConverter
    fun fromTimestamp(value: Long?): Date? {
        return value?.let { Date(it) }
    }

    @TypeConverter
    fun dateToTimestamp(date: Date?): Long? {
        return date?.time
    }
}

// åœ¨Databaseç±»ä¸­åº”ç”¨è½¬æ¢å™¨
@Database(entities = [User::class], version = 1)
@TypeConverters(Converters::class)
abstract class AppDatabase : RoomDatabase() {
    // ...
}
```

::: right
"Roomä¸ä»…ç®€åŒ–äº†æ•°æ®åº“æ“ä½œï¼Œè¿˜æä¾›äº†ç¼–è¯‘æ—¶SQLéªŒè¯ï¼Œå¤§å¤§å‡å°‘äº†è¿è¡Œæ—¶é”™è¯¯ã€‚"
:::

## å…¶ä»–æ•°æ®æŒä¹…åŒ–æ–¹å¼

### å†…éƒ¨å­˜å‚¨ä¸å¤–éƒ¨å­˜å‚¨

#### å†…éƒ¨å­˜å‚¨

```kotlin
// ä¿å­˜æ–‡ä»¶
val file = File(context.filesDir, "my_file.txt")
file.writeText("Hello, Android!")

// è¯»å–æ–‡ä»¶
val content = File(context.filesDir, "my_file.txt").readText()
```

#### å¤–éƒ¨å­˜å‚¨

```kotlin
// æ£€æŸ¥å¤–éƒ¨å­˜å‚¨æƒé™
if (ContextCompat.checkSelfPermission(context, Manifest.permission.WRITE_EXTERNAL_STORAGE) 
    != PackageManager.PERMISSION_GRANTED) {
    // è¯·æ±‚æƒé™
}

// ä¿å­˜æ–‡ä»¶åˆ°å¤–éƒ¨å­˜å‚¨
val externalDir = context.getExternalFilesDir(Environment.DIRECTORY_PICTURES)
val file = File(externalDir, "my_image.jpg")
file.writeBytes(imageBytes)
```

### å†…å®¹æä¾›è€…(ContentProvider)

å†…å®¹æä¾›è€…å…è®¸åº”ç”¨å°†æ•°æ®å…±äº«ç»™å…¶ä»–åº”ç”¨ï¼Œæ˜¯Androidä¸­å®ç°æ•°æ®å…±äº«çš„æ ‡å‡†æ–¹å¼ã€‚

```kotlin
// å®šä¹‰å†…å®¹æä¾›è€…
class UserProvider : ContentProvider() {
    override fun query(uri: Uri, projection: Array<String>?, selection: String?,
                       selectionArgs: Array<String>?, sortOrder: String?): Cursor? {
        // å®ç°æŸ¥è¯¢é€»è¾‘
    }
    
    override fun insert(uri: Uri, values: ContentValues?): Uri? {
        // å®ç°æ’å…¥é€»è¾‘
    }
    
    override fun update(uri: Uri, values: ContentValues?, selection: String?,
                       selectionArgs: Array<String>?): Int {
        // å®ç°æ›´æ–°é€»è¾‘
    }
    
    override fun delete(uri: Uri, selection: String?, selectionArgs: Array<String>?): Int {
        // å®ç°åˆ é™¤é€»è¾‘
    }
    
    override fun getType(uri: Uri): String? {
        // è¿”å›MIMEç±»å‹
    }
}
```

## æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆé€‰æ‹©æŒ‡å—

é¢å¯¹å¤šç§æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼Œå¦‚ä½•åšå‡ºæœ€ä½³é€‰æ‹©ï¼Ÿä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„å†³ç­–æŒ‡å—ï¼š

### æ•°æ®é‡ä¸å¤æ‚åº¦

| æ•°æ®é‡ | æ•°æ®å¤æ‚åº¦ | æ¨èæ–¹æ¡ˆ |
|--------|------------|----------|
| å°‘é‡ | ç®€å•é”®å€¼å¯¹ | SharedPreferences |
| ä¸­ç­‰ | ç»“æ„åŒ–æ•°æ® | Roomæ•°æ®åº“ |
| å¤§é‡ | å¤æ‚æ•°æ®å…³ç³» | Roomæ•°æ®åº“+ç´¢å¼•ä¼˜åŒ– |
| æ–‡ä»¶ | å›¾ç‰‡ã€éŸ³é¢‘ç­‰ | å†…éƒ¨/å¤–éƒ¨å­˜å‚¨ |
| éœ€è¦å…±äº« | è·¨åº”ç”¨æ•°æ® | ContentProvider |

### æ€§èƒ½è€ƒè™‘

- **è¯»å–é€Ÿåº¦**ï¼šå†…å­˜ > SharedPreferences > Room > æ–‡ä»¶å­˜å‚¨
- **å†™å…¥é€Ÿåº¦**ï¼šSharedPreferences > å†…å­˜ > Room > æ–‡ä»¶å­˜å‚¨
- **æŸ¥è¯¢èƒ½åŠ›**ï¼šRoom > æ–‡ä»¶å­˜å‚¨ > SharedPreferences

### å®‰å…¨æ€§è€ƒè™‘

- **æ•æ„Ÿæ•°æ®**ï¼šä½¿ç”¨åŠ å¯†å­˜å‚¨ï¼Œå¦‚EncryptedSharedPreferences
- **ç”¨æˆ·éšç§**ï¼šéµå¾ªæœ€å°æƒé™åŸåˆ™ï¼Œé¿å…ä¸å¿…è¦çš„æ•°æ®æ”¶é›†

::: tip
åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¸¸å¸¸éœ€è¦ç»„åˆä½¿ç”¨å¤šç§æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼Œä»¥æ»¡è¶³ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚ã€‚
:::

## å®æˆ˜æ¡ˆä¾‹ï¼šæ„å»ºå®Œæ•´çš„æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆ

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…æ¡ˆä¾‹ï¼Œå±•ç¤ºå¦‚ä½•æ„å»ºä¸€ä¸ªå®Œæ•´çš„æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆã€‚

### åœºæ™¯æè¿°

å‡è®¾æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªç¬”è®°åº”ç”¨ï¼Œéœ€è¦å­˜å‚¨ä»¥ä¸‹æ•°æ®ï¼š
1. ç”¨æˆ·è®¾ç½®ï¼ˆä¸»é¢˜ã€å­—ä½“å¤§å°ç­‰ï¼‰
2. ç¬”è®°åˆ—è¡¨ï¼ˆæ ‡é¢˜ã€åˆ›å»ºæ—¶é—´ç­‰ï¼‰
3. ç¬”è®°å†…å®¹ï¼ˆå¯Œæ–‡æœ¬å†…å®¹ï¼‰
4. ç¬”è®°é™„ä»¶ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ç­‰ï¼‰

### æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆè®¾è®¡

| æ•°æ®ç±»å‹ | å­˜å‚¨æ–¹æ¡ˆ | ç†ç”± |
|----------|----------|------|
| ç”¨æˆ·è®¾ç½® | SharedPreferences | å°‘é‡é”®å€¼å¯¹ï¼Œéœ€è¦å¿«é€Ÿè®¿é—® |
| ç¬”è®°åˆ—è¡¨ | Roomæ•°æ®åº“ | ç»“æ„åŒ–æ•°æ®ï¼Œéœ€è¦æŸ¥è¯¢å’Œæ’åº |
| ç¬”è®°å†…å®¹ | Roomæ•°æ®åº“ + æ–‡ä»¶å­˜å‚¨ | å¯Œæ–‡æœ¬å†…å®¹è¾ƒå¤§ï¼Œéƒ¨åˆ†å­˜å‚¨åœ¨æ–‡ä»¶ä¸­ |
| ç¬”è®°é™„ä»¶ | å¤–éƒ¨å­˜å‚¨ | æ–‡ä»¶è¾ƒå¤§ï¼Œéœ€è¦ç‹¬ç«‹ç®¡ç† |

### å®ç°æ­¥éª¤

#### 1. å®šä¹‰æ•°æ®æ¨¡å‹

```kotlin
@Entity(tableName = "note_settings")
data class NoteSettings(
    @PrimaryKey val id: Int = 0,
    @ColumnInfo(name = "theme") val theme: String = "light",
    @ColumnInfo(name = "font_size") val fontSize: Int = 16,
    @ColumnInfo(name = "auto_save") val autoSave: Boolean = true
)

@Entity(tableName = "notes")
data class Note(
    @PrimaryKey(autoGenerate = true) val id: Int = 0,
    @ColumnInfo(name = "title") val title: String,
    @ColumnInfo(name = "content") val content: String,
    @ColumnInfo(name = "created_at") val createdAt: Long = System.currentTimeMillis(),
    @ColumnInfo(name = "updated_at") val updatedAt: Long = System.currentTimeMillis(),
    @ColumnInfo(name = "has_attachments") val hasAttachments: Boolean = false
)
```

#### 2. å®ç°æ•°æ®è®¿é—®å±‚

```kotlin
@Dao
interface NoteSettingsDao {
    @Query("SELECT * FROM note_settings WHERE id = 0")
    suspend fun getSettings(): NoteSettings
    
    @Update
    suspend fun updateSettings(settings: NoteSettings)
}

@Dao
interface NoteDao {
    @Insert
    suspend fun insert(note: Note): Long
    
    @Query("SELECT * FROM notes ORDER BY updated_at DESC")
    fun getAllNotes(): Flow<List<Note>>
    
    @Query("SELECT * FROM notes WHERE id = :noteId")
    suspend fun getNoteById(noteId: Int): Note?
    
    @Update
    suspend fun update(note: Note)
    
    @Delete
    suspend fun delete(note: Note)
}
```

#### 3. å®ç°æ–‡ä»¶å­˜å‚¨ç®¡ç†

```kotlin
class NoteFileManager(private val context: Context) {
    private val notesDir = File(context.filesDir, "notes")
    
    init {
        if (!notesDir.exists()) {
            notesDir.mkdirs()
        }
    }
    
    fun saveNoteContent(noteId: Int, content: String) {
        val file = File(notesDir, "note_$noteId.txt")
        file.writeText(content)
    }
    
    fun getNoteContent(noteId: Int): String {
        val file = File(notesDir, "note_$noteId.txt")
        return if (file.exists()) file.readText() else ""
    }
    
    fun saveAttachment(noteId: Int, fileName: String, bytes: ByteArray) {
        val attachmentDir = File(notesDir, "note_$noteId")
        if (!attachmentDir.exists()) {
            attachmentDir.mkdirs()
        }
        val file = File(attachmentDir, fileName)
        file.writeBytes(bytes)
    }
    
    fun getAttachmentPath(noteId: Int, fileName: String): String {
        return File(notesDir, "note_$noteId", fileName).absolutePath
    }
}
```

#### 4. ä»“åº“æ¨¡å¼å®ç°

```kotlin
class NoteRepository(
    private val noteSettingsDao: NoteSettingsDao,
    private val noteDao: NoteDao,
    private val fileManager: NoteFileManager
) {
    val allNotes: Flow<List<Note>> = noteDao.getAllNotes()
    
    suspend fun getSettings(): NoteSettings {
        return noteSettingsDao.getSettings()
    }
    
    suspend fun updateSettings(settings: NoteSettings) {
        noteSettingsDao.updateSettings(settings)
    }
    
    suspend fun saveNote(note: Note, content: String): Long {
        val noteId = if (note.id == 0) {
            noteDao.insert(note)
        } else {
            noteDao.update(note)
            note.id
        }
        
        // ä¿å­˜ç¬”è®°å†…å®¹åˆ°æ–‡ä»¶
        fileManager.saveNoteContent(noteId.toInt(), content)
        
        return noteId.toLong()
    }
    
    suspend fun getNoteWithContent(noteId: Int): Pair<Note, String> {
        val note = noteDao.getNoteById(noteId) ?: throw Exception("Note not found")
        val content = fileManager.getNoteContent(noteId)
        return Pair(note, content)
    }
    
    // å…¶ä»–æ–¹æ³•...
}
```

## ç»“è¯­

é€šè¿‡ä»Šå¤©çš„åˆ†äº«ï¼Œæˆ‘ä»¬å…¨é¢äº†è§£äº†Androidä¸­çš„æ•°æ®æŒä¹…åŒ–æ–¹æ¡ˆï¼Œä»ç®€å•çš„SharedPreferencesåˆ°å¤æ‚çš„Roomæ•°æ®åº“ï¼Œä»¥åŠæ–‡ä»¶å­˜å‚¨å’Œå†…å®¹æä¾›è€…ã€‚ğŸ‰

åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ²¡æœ‰ä¸€ç§å­˜å‚¨æ–¹æ¡ˆæ˜¯ä¸‡èƒ½çš„ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆï¼Œæˆ–è€…ç»„åˆä½¿ç”¨å¤šç§æ–¹æ¡ˆã€‚è®°ä½ä»¥ä¸‹å…³é”®åŸåˆ™ï¼š

1. **ç®€å•æ•°æ®ç”¨SharedPreferences**ï¼šé€‚åˆå­˜å‚¨é…ç½®å’Œå°‘é‡é”®å€¼å¯¹
2. **ç»“æ„åŒ–æ•°æ®ç”¨Room**ï¼šæä¾›ç±»å‹å®‰å…¨ã€ç¼–è¯‘æ—¶æ£€æŸ¥å’Œå¼ºå¤§çš„æŸ¥è¯¢èƒ½åŠ›
3. **å¤§æ–‡ä»¶ç”¨æ–‡ä»¶å­˜å‚¨**ï¼šå›¾ç‰‡ã€éŸ³é¢‘ç­‰å¤§æ–‡ä»¶åº”ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨
4. **è·¨åº”ç”¨å…±äº«ç”¨ContentProvider**ï¼šéœ€è¦ä¸å…¶ä»–åº”ç”¨å…±äº«æ•°æ®æ—¶ä½¿ç”¨

åˆç†çš„æ•°æ®æŒä¹…åŒ–è®¾è®¡ä¸ä»…èƒ½æå‡åº”ç”¨æ€§èƒ½ï¼Œè¿˜èƒ½æ”¹å–„ç”¨æˆ·ä½“éªŒã€‚å¸Œæœ›ä»Šå¤©çš„åˆ†äº«å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚ğŸ˜Š

> æ•°æ®æŒä¹…åŒ–æ˜¯Androidå¼€å‘çš„åŸºç¡€æŠ€èƒ½ï¼ŒæŒæ¡å®ƒå°†å¸®åŠ©ä½ æ„å»ºæ›´ç¨³å®šã€æ›´é«˜æ•ˆçš„åº”ç”¨ã€‚è®°ä½ï¼Œé€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹æ¡ˆï¼Œå°±åƒé€‰æ‹©åˆé€‚çš„å·¥å…·ä¸€æ ·é‡è¦ã€‚

---

æ„Ÿè°¢é˜…è¯»ï¼å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ç‚¹èµå’Œå…³æ³¨å“¦ï¼ğŸ‘