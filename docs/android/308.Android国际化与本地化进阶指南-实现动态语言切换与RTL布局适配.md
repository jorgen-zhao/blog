---
title: Androidå›½é™…åŒ–ä¸æœ¬åœ°åŒ–è¿›é˜¶æŒ‡å—-å®ç°åŠ¨æ€è¯­è¨€åˆ‡æ¢ä¸RTLå¸ƒå±€é€‚é…
date: 2026-02-05
tags: ["Android", "å›½é™…åŒ–", "UI/UX"]
---

## å‰è¨€

åœ¨å…¨çƒåŒ–æ—¥ç›Šæ·±å…¥çš„ä»Šå¤©ï¼Œä¸ºAndroidåº”ç”¨æä¾›è‰¯å¥½çš„å›½é™…åŒ–ä¸æœ¬åœ°åŒ–æ”¯æŒå·²ç»æˆä¸ºå¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚ğŸŒ è™½ç„¶å¤§å¤šæ•°å¼€å‘è€…éƒ½çŸ¥é“å¦‚ä½•ä¸ºåº”ç”¨æ·»åŠ å¤šè¯­è¨€èµ„æºï¼Œä½†å®ç°åŠ¨æ€è¯­è¨€åˆ‡æ¢å’ŒRTLï¼ˆä»å³åˆ°å·¦ï¼‰å¸ƒå±€é€‚é…ä»ç„¶æ˜¯è®¸å¤šå›¢é˜Ÿé¢ä¸´çš„æŒ‘æˆ˜ã€‚

æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Androidåº”ç”¨å›½é™…åŒ–çš„é«˜çº§æŠ€æœ¯ï¼Œé‡ç‚¹è®²è§£å¦‚ä½•å®ç°æµç•…çš„åŠ¨æ€è¯­è¨€åˆ‡æ¢å’Œå®Œç¾çš„RTLå¸ƒå±€é€‚é…ï¼Œå¸®åŠ©ä½ çš„åº”ç”¨æ›´å¥½åœ°æœåŠ¡å…¨çƒç”¨æˆ·ã€‚

## Androidå›½é™…åŒ–åŸºç¡€

åœ¨æ·±å…¥æ¢è®¨é«˜çº§ä¸»é¢˜ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¿«é€Ÿå›é¡¾ä¸€ä¸‹Androidå›½é™…åŒ–çš„åŸºç¡€çŸ¥è¯†ã€‚

### èµ„æºæ–‡ä»¶å¤¹ç»“æ„

Androidä½¿ç”¨ç‰¹å®šçš„æ–‡ä»¶å¤¹ç»“æ„æ¥ç®¡ç†ä¸åŒè¯­è¨€çš„èµ„æºï¼š

```
res/
  â”œâ”€â”€ values/
  â”‚   â””â”€â”€ strings.xml
  â”œâ”€â”€ values-zh/
  â”‚   â””â”€â”€ strings.xml
  â”œâ”€â”€ values-ar/
  â”‚   â””â”€â”€ strings.xml
  â””â”€â”€ values-en-rUS/
      â””â”€â”€ strings.xml
```

::: tip
èµ„æºå‘½åè§„åˆ™éµå¾ª`values-[language]-[region]`æ ¼å¼ï¼Œå¦‚`values-zh-rCN`ä»£è¡¨ç®€ä½“ä¸­æ–‡ï¼Œ`values-ar`ä»£è¡¨é˜¿æ‹‰ä¼¯è¯­ã€‚
:::

### è·å–å½“å‰è¯­è¨€

```java
// è·å–ç³»ç»Ÿé»˜è®¤è¯­è¨€
String defaultLanguage = Locale.getDefault().getLanguage();

// è·å–åº”ç”¨å½“å‰è¯­è¨€
Resources resources = getResources();
Configuration config = resources.getConfiguration();
Locale currentLocale = config.locale;
```

## åŠ¨æ€è¯­è¨€åˆ‡æ¢å®ç°

å®ç°åº”ç”¨è¿è¡Œæ—¶è¯­è¨€åˆ‡æ¢æ˜¯å›½é™…åŒ–å¼€å‘ä¸­çš„ä¸€ä¸ªå¸¸è§éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦æ ¹æ®ç”¨æˆ·åå¥½å³æ—¶åˆ‡æ¢è¯­è¨€çš„åº”ç”¨ä¸­ã€‚

### åŸºæœ¬å®ç°æ–¹æ¡ˆ

æœ€ç®€å•çš„è¯­è¨€åˆ‡æ¢æ–¹å¼æ˜¯é‡å¯Activityï¼š

```java
public void changeLanguage(String language) {
    Locale locale = new Locale(language);
    Locale.setDefault(locale);
    
    Configuration config = new Configuration();
    config.locale = locale;
    
    getBaseContext().getResources().updateConfiguration(config, 
        getBaseContext().getResources().getDisplayMetrics());
    
    // é‡å¯Activity
    Intent intent = new Intent(this, MainActivity.class);
    startActivity(intent);
    finish();
}
```

### é«˜çº§å®ç°æ–¹æ¡ˆ - æ— éœ€é‡å¯Activity

é‡å¯Activityä¼šå¯¼è‡´ç”¨æˆ·ä½“éªŒä¸­æ–­ï¼Œæ›´ä¼˜é›…çš„æ–¹æ¡ˆæ˜¯åŠ¨æ€æ›´æ–°è¯­è¨€è€Œä¸é‡å¯Activityï¼š

```java
public class LocaleUtils {
    
    private static final String LANGUAGE_KEY = "language";
    private static final String DEFAULT_LANGUAGE = "en";
    
    public static void setLanguage(Context context, String language) {
        // ä¿å­˜ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€
        SharedPreferences preferences = context.getSharedPreferences("language_prefs", Context.MODE_PRIVATE);
        preferences.edit().putString(LANGUAGE_KEY, language).apply();
        
        // æ›´æ–°åº”ç”¨è¯­è¨€
        Locale locale = new Locale(language);
        Locale.setDefault(locale);
        
        Configuration config = new Configuration();
        config.locale = locale;
        
        context.getResources().updateConfiguration(config, 
            context.getResources().getDisplayMetrics());
    }
    
    public static String getLanguage(Context context) {
        SharedPreferences preferences = context.getSharedPreferences("language_prefs", Context.MODE_PRIVATE);
        return preferences.getString(LANGUAGE_KEY, DEFAULT_LANGUAGE);
    }
}
```

### åœ¨Applicationç±»ä¸­åˆå§‹åŒ–è¯­è¨€

```java
public class MyApplication extends Application {
    
    @Override
    public void onCreate() {
        super.onCreate();
        
        // åˆå§‹åŒ–åº”ç”¨è¯­è¨€
        String savedLanguage = LocaleUtils.getLanguage(this);
        LocaleUtils.setLanguage(this, savedLanguage);
    }
}
```

### é€‚é…Fragmentå’ŒView

å½“è¯­è¨€åˆ‡æ¢æ—¶ï¼ŒFragmentå’Œè‡ªå®šä¹‰Viewä¹Ÿéœ€è¦æ›´æ–°ï¼š

```java
public class MyFragment extends Fragment {
    
    @Override
    public void onActivityCreated(@Nullable Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);
        updateViews();
    }
    
    private void updateViews() {
        // æ›´æ–°Fragmentä¸­çš„æ‰€æœ‰æ–‡æœ¬è§†å›¾
        TextView textView = getView().findViewById(R.id.my_text_view);
        textView.setText(R.string.updated_text);
    }
}
```

## RTLå¸ƒå±€é€‚é…

RTLï¼ˆRight-to-Leftï¼‰å¸ƒå±€é€‚é…æ˜¯æ”¯æŒé˜¿æ‹‰ä¼¯è¯­ã€å¸Œä¼¯æ¥è¯­ç­‰ä»å³åˆ°å·¦è¯­è¨€çš„å…³é”®ã€‚

### å¯ç”¨RTLæ”¯æŒ

åœ¨AndroidManifest.xmlä¸­æ·»åŠ ï¼š

```xml
<application
    android:supportsRtl="true"
    ...>
```

### ä½¿ç”¨å¸ƒå±€å±æ€§

åœ¨å¸ƒå±€æ–‡ä»¶ä¸­ä½¿ç”¨`start`å’Œ`end`ä»£æ›¿`left`å’Œ`right`ï¼š

```xml
<LinearLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="horizontal">
    
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/back"
        android:layout_marginStart="16dp"
        android:layout_marginEnd="8dp" />
    
    <Button
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="@string/next"
        android:layout_marginStart="8dp"
        android:layout_marginEnd="16dp" />
</LinearLayout>
```

### ä½¿ç”¨Gravityå±æ€§

```xml
<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/example"
    android:gravity="start" />
```

### å¤„ç†å›¾æ ‡å’Œå›¾ç‰‡

å¯¹äºéœ€è¦RTLé€‚é…çš„å›¾æ ‡ï¼Œå¯ä»¥ä½¿ç”¨`android:autoMirrored="true"`å±æ€§ï¼š

```xml
<ImageView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/ic_arrow_back"
    android:autoMirrored="true" />
```

### ç¼–ç¨‹å¼RTLé€‚é…

```java
// æ£€æŸ¥å½“å‰æ˜¯å¦ä¸ºRTLå¸ƒå±€
boolean isRTL = ViewCompat.getLayoutDirection(view) == ViewCompat.LAYOUT_DIRECTION_RTL;

// è®¾ç½®å¸ƒå±€æ–¹å‘
ViewCompat.setLayoutDirection(view, ViewCompat.LAYOUT_DIRECTION_RTL);
```

## æœ€ä½³å®è·µ

### 1. é¿å…ç¡¬ç¼–ç å­—ç¬¦ä¸²

å§‹ç»ˆä½¿ç”¨èµ„æºæ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸²ï¼Œé¿å…åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å­—ç¬¦ä¸²ï¼š

```java
// é”™è¯¯æ–¹å¼
Toast.makeText(context, "Hello, world!", Toast.LENGTH_SHORT).show();

// æ­£ç¡®æ–¹å¼
Toast.makeText(context, R.string.hello_world, Toast.LENGTH_SHORT).show();
```

### 2. å¤„ç†å¤æ•°å’Œæ€§åˆ«

ä½¿ç”¨`plurals`èµ„æºå¤„ç†å¤æ•°ï¼š

```xml
<!-- plurals.xml -->
<plurals name="item_count">
    <item quantity="one">%d item</item>
    <item quantity="other">%d items</item>
</plurals>
```

ä½¿ç”¨`string-array`å¤„ç†ä¸åŒæ€§åˆ«çš„å­—ç¬¦ä¸²ï¼š

```xml
<!-- arrays.xml -->
<string-array name="greetings">
    <item>Hello</item>  <!-- ç”·æ€§ -->
    <item>Hi</item>     <!-- å¥³æ€§ -->
</string-array>
```

### 3. å¤„ç†æ—¥æœŸå’Œæ•°å­—æ ¼å¼åŒ–

```java
// æ—¥æœŸæ ¼å¼åŒ–
String formattedDate = String.format(Locale.getDefault(), "%tF", new Date());

// æ•°å­—æ ¼å¼åŒ–
NumberFormat numberFormat = NumberFormat.getInstance(Locale.getDefault());
String formattedNumber = numberFormat.format(1234567.89);
```

### 4. å¤„ç†æ–‡æœ¬æ–¹å‘

å¯¹äºéœ€è¦ç‰¹å®šæ–‡æœ¬æ–¹å‘çš„æ–‡æœ¬ï¼Œå¯ä»¥ä½¿ç”¨`android:textDirection`å±æ€§ï¼š

```xml
<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:text="@string/example"
    android:textDirection="locale" />
```

## æµ‹è¯•ç­–ç•¥

### ä½¿ç”¨æ¨¡æ‹Ÿå™¨æµ‹è¯•ä¸åŒè¯­è¨€

1. åœ¨Android Studioçš„AVD Managerä¸­åˆ›å»ºä¸åŒè¯­è¨€çš„æ¨¡æ‹Ÿå™¨
2. æˆ–è€…åœ¨å·²å®‰è£…çš„æ¨¡æ‹Ÿå™¨ä¸­æ›´æ”¹ç³»ç»Ÿè¯­è¨€è®¾ç½®

### ä½¿ç”¨Locale Emulatoræ’ä»¶

Android Studioçš„Locale Emulatoræ’ä»¶å¯ä»¥æ–¹ä¾¿åœ°æµ‹è¯•ä¸åŒè¯­è¨€ç¯å¢ƒï¼š

1. å®‰è£…Locale Emulatoræ’ä»¶
2. åœ¨è¿è¡Œåº”ç”¨æ—¶é€‰æ‹©ä¸åŒçš„è¯­è¨€

### è‡ªåŠ¨åŒ–æµ‹è¯•

```java
@Test
public void testTextDirection() {
    // æµ‹è¯•RTLå¸ƒå±€
    Locale arabicLocale = new Locale("ar");
    Context arabicContext = ContextWrapper.wrap(context);
    Resources resources = context.getResources();
    
    Configuration config = resources.getConfiguration();
    config.locale = arabicLocale;
    resources.updateConfiguration(config, resources.getDisplayMetrics());
    
    // éªŒè¯æ–‡æœ¬æ–¹å‘
    TextView textView = findViewById(R.id.test_text);
    assertEquals(ViewCompat.LAYOUT_DIRECTION_RTL, ViewCompat.getLayoutDirection(textView));
}
```

## å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 1. WebViewä¸­çš„è¯­è¨€åˆ‡æ¢

WebViewä¸­çš„å†…å®¹ä¸ä¼šéšåº”ç”¨è¯­è¨€åˆ‡æ¢è€Œè‡ªåŠ¨æ›´æ–°ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†ï¼š

```java
// åœ¨è¯­è¨€åˆ‡æ¢åé‡æ–°åŠ è½½WebView
webView.reload();
```

### 2. ç¬¬ä¸‰æ–¹åº“çš„å›½é™…åŒ–

ä¸€äº›ç¬¬ä¸‰æ–¹åº“å¯èƒ½ä¸æ”¯æŒåŠ¨æ€è¯­è¨€åˆ‡æ¢ï¼Œéœ€è¦é¢å¤–å¤„ç†ï¼š

```java
// ä¸ºç¬¬ä¸‰æ–¹åº“è®¾ç½®è¯­è¨€
Locale.setDefault(new Locale(targetLanguage));
```

### 3. å­—ä½“é€‚é…

æŸäº›è¯­è¨€å¯èƒ½éœ€è¦ç‰¹æ®Šçš„å­—ä½“æ”¯æŒï¼š

```xml
<!-- åœ¨strings.xmlä¸­ä¸ºä¸åŒè¯­è¨€æŒ‡å®šä¸åŒå­—ä½“ -->
<string name="hello"><font name="font_for_specific_language">Hello</font></string>
```

## ç»“è¯­

å›½é™…åŒ–ä¸æœ¬åœ°åŒ–æ˜¯Androidåº”ç”¨å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä¸ä»…å…³ç³»åˆ°ç”¨æˆ·ä½“éªŒï¼Œæ›´ä½“ç°äº†å¼€å‘è€…çš„ä¸“ä¸šç´ å…»ã€‚ğŸŒ é€šè¿‡æœ¬æ–‡ä»‹ç»çš„æŠ€æœ¯ï¼Œä½ å¯ä»¥å®ç°æµç•…çš„åŠ¨æ€è¯­è¨€åˆ‡æ¢å’Œå®Œç¾çš„RTLå¸ƒå±€é€‚é…ï¼Œè®©ä½ çš„åº”ç”¨æ›´å¥½åœ°æœåŠ¡å…¨çƒç”¨æˆ·ã€‚

è®°ä½ï¼Œå›½é™…åŒ–ä¸æ˜¯ä¸€æ¬¡æ€§çš„å·¥ä½œï¼Œè€Œæ˜¯åº”è¯¥è´¯ç©¿æ•´ä¸ªå¼€å‘è¿‡ç¨‹ã€‚ä»é¡¹ç›®åˆæœŸå°±è€ƒè™‘å›½é™…åŒ–éœ€æ±‚ï¼Œå¯ä»¥é¿å…åæœŸå¤§é‡çš„é‡æ„å·¥ä½œã€‚ğŸš€

> "ä¼˜ç§€çš„å›½é™…åŒ–è®¾è®¡æ˜¯æ— å½¢çš„ï¼Œç”¨æˆ·ä¸ä¼šæ³¨æ„åˆ°å®ƒï¼Œä½†ä¼šæ„Ÿå—åˆ°å®ƒå¸¦æ¥çš„ä¾¿åˆ©ã€‚"

å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°å®ç°Androidåº”ç”¨çš„å›½é™…åŒ–ä¸æœ¬åœ°åŒ–ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ğŸ˜Š