---
title: TypeScriptï¼šä¸ºJavaScriptæ·»åŠ ç±»å‹å®‰å…¨
date: 2023-10-15 14:30:00
categories: 
  - å‰ç«¯æŠ€æœ¯
tags:
  - TypeScript
  - JavaScript
  - ç±»å‹ç³»ç»Ÿ
author: 
  name: Jorgen
  link: https://github.com/jorgen-zhao
---

## å‰è¨€

åœ¨JavaScriptçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼š~~ä¼ ç€ä¼ ç€å‚æ•°å°±ä¸¢äº†ç±»å‹~~ã€‚ğŸ˜‚ ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬æ—¢äº«å—JSçš„çµæ´»ï¼Œåˆå¸¸å¸¸è¢«å…¶åŠ¨æ€ç±»å‹å‘å¾—è‹¦ä¸å ªè¨€ã€‚ä»Šå¤©æˆ‘è¦èŠèŠTypeScriptâ€”â€”è¿™ä¸ªè®©JSä»£ç å˜å¾—"æœ‰è§„çŸ©"çš„ç¥å™¨ï¼

> "TypeScript is JavaScript that scales" â€”â€” å¾®è½¯å®˜æ–¹æ ‡è¯­

::: tip
TypeScriptæ˜¯JavaScriptçš„è¶…é›†ï¼Œæ·»åŠ äº†å¯é€‰çš„é™æ€ç±»å‹ç³»ç»Ÿå’ŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç‰¹æ€§ã€‚
:::

## ä¸ºä»€ä¹ˆéœ€è¦TypeScriptï¼Ÿ

### åŠ¨æ€ç±»å‹çš„ç—›ç‚¹

```javascript
// ğŸ¤” çœ‹ä¼¼æ²¡é—®é¢˜ï¼Œä½†è¿è¡Œæ—¶æ‰ä¼šå‘ç°é”™è¯¯
function calculateTotal(items) {
  return items.reduce((sum, item) => sum + item.price, 0);
}

// è°ƒç”¨æ–¹å¼1ï¼šæ­£å¸¸å·¥ä½œ
const products = [{ price: 10 }, { price: 20 }];
console.log(calculateTotal(products)); // 30

// è°ƒç”¨æ–¹å¼2ï¼šğŸ’¥ è¿è¡Œæ—¶é”™è¯¯
const mixed = [{ price: 5 }, { name: "å…è´¹å•†å“" }];
console.log(calculateTotal(mixed)); // NaN
```

### TypeScriptå¦‚ä½•è§£å†³

```typescript
// ç±»å‹æ³¨è§£è®©é”™è¯¯åœ¨ç¼–è¯‘æ—¶å°±è¢«å‘ç°
interface Product {
  price: number;
}

function calculateTotal(items: Product[]): number {
  return items.reduce((sum, item) => sum + item.price, 0);
}

// ç¼–è¯‘å™¨ä¼šç«‹å³æŠ¥é”™ï¼šç±»å‹ä¸åŒ¹é…
const mixed: Product[] = [{ price: 5 }, { name: "å…è´¹å•†å“" }];
// ~~~~~~~~~~~ è¿™é‡Œä¼šæŠ¥é”™ï¼šç¼ºå°‘priceå±æ€§
```

## TypeScriptæ ¸å¿ƒæ¦‚å¿µ

### 1. åŸºæœ¬ç±»å‹

```typescript
// åŸå§‹ç±»å‹
let id: number = 123;
let username: string = "Jorgen";
let isActive: boolean = true;
let data: any = "å¯ä»¥æ˜¯ä»»æ„ç±»å‹"; // é¿å…æ»¥ç”¨any!

// æ•°ç»„ç±»å‹
const numbers: number[] = [1, 2, 3];
const fruits: Array<string> = ["apple", "banana"];

// å…ƒç»„ï¼ˆå›ºå®šé•¿åº¦æ•°ç»„ï¼‰
const userInfo: [string, number] = ["Jorgen", 28];
```

::: theorem
TypeScriptçš„ç±»å‹ç³»ç»Ÿæ˜¯ç»“æ„åŒ–çš„ï¼Œä¸æ˜¯åä¹‰åŒ–çš„ã€‚è¿™æ„å‘³ç€åªè¦ç»“æ„åŒ¹é…ï¼Œç±»å‹å°±å…¼å®¹ã€‚
:::

### 2. æ¥å£ä¸ç±»å‹åˆ«å

```typescript
// æ¥å£å®šä¹‰å¯¹è±¡ç»“æ„
interface User {
  id: number;
  name: string;
  readonly email: string; // åªè¯»å±æ€§
  optionalProp?: string; // å¯é€‰å±æ€§
}

// ç±»å‹åˆ«å
type ID = string | number;

// å®ç°æ¥å£
const user: User = {
  id: 1,
  name: "Jorgen",
  email: "jorgen@example.com"
};

// å°è¯•ä¿®æ”¹åªè¯»å±æ€§ä¼šæŠ¥é”™
// user.email = "new@example.com"; // âŒ é”™è¯¯
```

### 3. å‡½æ•°ç±»å‹

```typescript
// æ˜ç¡®å‚æ•°å’Œè¿”å›å€¼ç±»å‹
function add(a: number, b: number): number {
  return a + b;
}

// ç®­å¤´å‡½æ•°
const multiply = (x: number, y: number): number => x * y;

// å‡½æ•°é‡è½½
function parseValue(value: string): number;
function parseValue(value: number): string;
function parseValue(value: string | number): string | number {
  return typeof value === 'string' ? parseInt(value) : value.toString();
}
```

## å®æˆ˜ï¼šä»JSè¿ç§»åˆ°TS

### 1. æ¸è¿›å¼è¿ç§»

```bash
# å®‰è£…TypeScript
npm install -g typescript

# åˆå§‹åŒ–é…ç½®
tsc --init

# ç”Ÿæˆtsconfig.json
```

### 2. ç±»å‹å£°æ˜æ–‡ä»¶

```typescript
// å½“ä½¿ç”¨ç¬¬ä¸‰æ–¹JSåº“æ—¶ï¼Œæ·»åŠ ç±»å‹å£°æ˜
// @types/lodash å®‰è£…ç±»å‹å®šä¹‰
import _ from 'lodash';

// ä½¿ç”¨å¸¦ç±»å‹æç¤ºçš„lodash
const users = [{ id: 1, name: "Jorgen" }];
const user = _.find(users, { id: 1 });
```

### 3. å·¥å…·é›†æˆ

- **VS Code**ï¼šå¼€ç®±å³ç”¨çš„TypeScriptæ”¯æŒ
- **Webpack**ï¼šä½¿ç”¨`ts-loader`
- **Vite**ï¼šåŸç”Ÿæ”¯æŒTypeScript

```typescript
// vite.config.ts
import { defineConfig } from 'vite'

export default defineConfig({
  // TypeScripté…ç½®
  resolve: {
    alias: {
      '@': '/src'
    }
  }
})
```

## ç»“è¯­

TypeScriptä¸æ˜¯è¦å–ä»£JavaScriptï¼Œè€Œæ˜¯è®©å®ƒå˜å¾—æ›´å¥½ã€‚é€šè¿‡æ·»åŠ ç±»å‹ç³»ç»Ÿï¼Œæˆ‘ä»¬è·å¾—äº†ï¼š

1. **æ›´æ—©çš„é”™è¯¯æ•è·**ï¼šåœ¨å¼€å‘é˜¶æ®µå‘ç°æ½œåœ¨é—®é¢˜
2. **æ›´å¥½çš„IDEæ”¯æŒ**ï¼šæ™ºèƒ½æç¤ºå’Œé‡æ„
3. **æ›´æ¸…æ™°çš„ä»£ç æ–‡æ¡£**ï¼šç±»å‹æœ¬èº«å°±æ˜¯æ–‡æ¡£
4. **æ›´è‡ªä¿¡çš„é‡æ„**ï¼šç±»å‹æ£€æŸ¥ç¡®ä¿é‡æ„å®‰å…¨

> "TypeScriptä¸æ˜¯è´Ÿæ‹…ï¼Œè€Œæ˜¯æŠ•èµ„çš„æœªæ¥" â€”â€” æˆ‘çš„å¿ƒå¾—

åˆšå¼€å§‹å­¦ä¹ æ—¶å¯èƒ½ä¼šè§‰å¾—ç±»å‹çº¦æŸç¹çï¼Œä½†å½“ä½ ä½“éªŒåˆ°å¤§å‹é¡¹ç›®ä¸­ç±»å‹ç³»ç»Ÿå¸¦æ¥çš„å®‰å…¨æ„Ÿæ—¶ï¼Œå°±ä¼šæ˜ç™½è¿™ä¸ªé€‰æ‹©å¤šä¹ˆæ˜æ™ºã€‚ğŸš€

::: right
â€”â€” Jorgenï¼Œ2023å¹´10æœˆ
:::
```