```yaml
---
title: Webpackä»å…¥é—¨åˆ°å®è·µï¼šæ„å»ºç°ä»£å‰ç«¯åº”ç”¨
date: 2023-11-15 10:30:00
permalink: /pages/webpack-practice/
categories: 
  - å‰ç«¯å¼€å‘
tags:
  - Webpack
  - å‰ç«¯å·¥ç¨‹åŒ–
  - æ„å»ºå·¥å…·
author: 
  name: Jorgen
  link: https://github.com/jorgen-zhao
---
```

## å‰è¨€

åœ¨å‰ç«¯å¼€å‘çš„æ—…ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°å„ç§å·¥å…·å’Œæ¡†æ¶ã€‚Vue.jsè®©æˆ‘ä»¬èƒ½å¤Ÿæ„å»ºå“åº”å¼çš„ç”¨æˆ·ç•Œé¢ï¼Œå¾®ä¿¡å°ç¨‹åºè®©æˆ‘ä»¬èƒ½å¤Ÿå¼€å‘è·¨å¹³å°çš„åº”ç”¨ï¼Œè€ŒWebAssemblyåˆ™è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨æµè§ˆå™¨ä¸­è¿è¡Œæ¥è¿‘åŸç”Ÿæ€§èƒ½çš„ä»£ç ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ä¸ªå·¥å…·ï¼Œå®ƒé»˜é»˜åœ°ç«™åœ¨å¹•åï¼Œå°†æˆ‘ä»¬çš„ä»£ç ã€æ ·å¼å’Œèµ„æºæ‰“åŒ…æˆæµè§ˆå™¨å¯ä»¥ç†è§£çš„å½¢å¼ï¼Œé‚£å°±æ˜¯Webpackã€‚

ğŸ— Webpackæ˜¯ç°ä»£å‰ç«¯å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„æ„å»ºå·¥å…·ï¼Œå®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å™¨ï¼Œæ›´æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å‰ç«¯å·¥ç¨‹åŒ–è§£å†³æ–¹æ¡ˆã€‚æ— è®ºä½ æ˜¯åˆå­¦è€…è¿˜æ˜¯æœ‰ç»éªŒçš„å¼€å‘è€…ï¼ŒæŒæ¡Webpackéƒ½èƒ½è®©ä½ çš„å¼€å‘æ•ˆç‡æå‡ä¸€ä¸ªæ¡£æ¬¡ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å¸¦ä½ ä»é›¶å¼€å§‹ï¼Œé€æ­¥äº†è§£Webpackçš„æ ¸å¿ƒæ¦‚å¿µã€å®‰è£…é…ç½®ã€å¸¸ç”¨åŠ è½½å™¨å’Œæ’ä»¶ï¼Œä»¥åŠä¼˜åŒ–ç­–ç•¥ã€‚æœ€åï¼Œæˆ‘ä»¬è¿˜ä¼šé€šè¿‡ä¸€ä¸ªå®æˆ˜æ¡ˆä¾‹ï¼Œå°†æ‰€å­¦çŸ¥è¯†åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­ã€‚

::: tip
"å­¦ä¼šWebpackï¼Œä½ å°†èƒ½å¤Ÿæ›´å¥½åœ°ç†è§£å’Œæ§åˆ¶è‡ªå·±çš„å‰ç«¯é¡¹ç›®ï¼Œè€Œä¸æ˜¯è¢«å·¥å…·æ‰€æ§åˆ¶ã€‚"
:::

## WebpackåŸºç¡€æ¦‚å¿µ

åœ¨æ·±å…¥Webpackä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€äº›æ ¸å¿ƒæ¦‚å¿µã€‚è¿™äº›æ¦‚å¿µæ˜¯ç†è§£Webpackå·¥ä½œåŸç†çš„åŸºç¡€ã€‚

### å…¥å£(Entry)

å…¥å£æ˜¯Webpackæ„å»ºçš„èµ·ç‚¹ï¼ŒWebpackä»è¿™é‡Œå¼€å§‹æŸ¥æ‰¾å’Œæ„å»ºä¾èµ–å…³ç³»ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆåº”ç”¨ç¨‹åºçš„"ä¸»æ–‡ä»¶"ã€‚

```javascript
// å•ä¸ªå…¥å£
module.exports = {
  entry: './src/index.js'
};

// å¤šä¸ªå…¥å£
module.exports = {
  entry: {
    app: './src/app.js',
    admin: './src/admin.js'
  }
};
```

### å‡ºå£(Output)

å‡ºå£æ˜¯Webpackæ„å»ºåæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ï¼Œå®ƒå‘Šè¯‰Webpackåœ¨å“ªé‡Œä»¥åŠå¦‚ä½•å‘½åç”Ÿæˆçš„æ–‡ä»¶ã€‚

```javascript
module.exports = {
  output: {
    filename: 'bundle.js',
    path: __dirname + '/dist'
  }
};
```

### åŠ è½½å™¨(Loader)

Webpackæœ¬èº«åªèƒ½ç†è§£JavaScriptå’ŒJSONæ–‡ä»¶ã€‚åŠ è½½å™¨å…è®¸Webpackå¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºæœ‰æ•ˆçš„æ¨¡å—ï¼Œç„¶åæ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ã€‚

```javascript
module.exports = {
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader']
      }
    ]
  }
};
```

### æ’ä»¶(Plugin)

æ’ä»¶å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ï¼Œä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ï¼Œä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ã€‚æ’ä»¶æ˜¯Webpackçš„æ”¯æŸ±åŠŸèƒ½ã€‚

```javascript
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html',
      filename: 'index.html'
    })
  ]
};
```

### æ¨¡å¼(Mode)

é€šè¿‡é€‰æ‹©`development`, `production`æˆ–`none`ä¹‹ä¸­çš„ä¸€ä¸ªï¼Œæ¥è®¾ç½®`mode`å‚æ•°ï¼Œä½ å¯ä»¥å¯ç”¨Webpackå†…ç½®çš„ä¼˜åŒ–ã€‚é»˜è®¤å€¼ä¸º`production`ã€‚

```javascript
module.exports = {
  mode: 'production'
};
```

## Webpackå®‰è£…ä¸é…ç½®

äº†è§£äº†åŸºæœ¬æ¦‚å¿µåï¼Œè®©æˆ‘ä»¬å¼€å§‹å®‰è£…å’Œé…ç½®Webpackã€‚

### å®‰è£…Webpack

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ç›®å½•å¹¶åˆå§‹åŒ–npmï¼š

```bash
mkdir webpack-demo
cd webpack-demo
npm init -y
```

ç„¶åï¼Œå®‰è£…Webpackå’Œå®ƒçš„CLIå·¥å…·ï¼š

```bash
npm install webpack webpack-cli --save-dev
```

### åŸºæœ¬é…ç½®

åˆ›å»ºä¸€ä¸ª`src`ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸ª`index.js`æ–‡ä»¶ï¼š

```javascript
// src/index.js
function component() {
  const element = document.createElement('div');
  
  // Lodashï¼ˆç›®å‰é€šè¿‡ä¸€ä¸ª script å¼•å…¥ï¼‰
  element.innerHTML = _.join(['Hello', 'Webpack'], ' ');
  
  return element;
}

document.body.appendChild(component());
```

åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…lodashä½œä¸ºä¾èµ–ï¼š

```bash
npm install lodash
```

åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„Webpacké…ç½®æ–‡ä»¶`webpack.config.js`ï¼š

```javascript
// webpack.config.js
const path = require('path');

module.exports = {
  entry: './src/index.js',
  output: {
    filename: 'main.js',
    path: path.resolve(__dirname, 'dist'),
  },
};
```

è¿è¡ŒWebpackæ„å»ºï¼š

```bash
npx webpack --config webpack.config.js
```

è¿™å°†ç”Ÿæˆä¸€ä¸ª`dist/main.js`æ–‡ä»¶ï¼ŒåŒ…å«äº†æˆ‘ä»¬çš„åº”ç”¨ä»£ç å’Œlodashã€‚

### ä½¿ç”¨NPMè„šæœ¬

ä¸ºäº†ç®€åŒ–å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨`package.json`ä¸­æ·»åŠ ä¸€ä¸ªè„šæœ¬ï¼š

```json
"scripts": {
  "build": "webpack --config webpack.config.js"
}
```

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡`npm run build`æ¥è¿è¡ŒWebpackã€‚

## å¸¸ç”¨åŠ è½½å™¨ä»‹ç»

åŠ è½½å™¨æ˜¯Webpackå¤„ç†ä¸åŒç±»å‹æ–‡ä»¶çš„å…³é”®ã€‚è®©æˆ‘ä»¬ä»‹ç»ä¸€äº›å¸¸ç”¨çš„åŠ è½½å™¨ã€‚

### å¤„ç†CSSæ–‡ä»¶

è¦å¤„ç†CSSæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…`style-loader`å’Œ`css-loader`ï¼š

```bash
npm install --save-dev style-loader css-loader
```

ç„¶åæ›´æ–°`webpack.config.js`ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  module: {
    rules: [
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader']
      }
    ]
  }
};
```

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨JavaScriptä¸­å¯¼å…¥CSSæ–‡ä»¶ï¼š

```javascript
import './styles.css';
```

### å¤„ç†å›¾ç‰‡å’Œå­—ä½“

è¦å¤„ç†å›¾ç‰‡å’Œå­—ä½“ç­‰é™æ€èµ„æºï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`file-loader`æˆ–`url-loader`ï¼š

```bash
npm install --save-dev file-loader
```

ç„¶åæ·»åŠ é…ç½®ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  module: {
    rules: [
      {
        test: /\.(png|svg|jpg|gif)$/,
        use: [
          {
            loader: 'file-loader',
            options: {
              name: '[name].[ext]',
              outputPath: 'images/'
            }
          }
        ]
      },
      {
        test: /\.(woff|woff2|eot|ttf|otf)$/,
        use: [
          {
            loader: 'file-loader',
            options: {
              name: '[name].[ext]',
              outputPath: 'fonts/'
            }
          }
        ]
      }
    ]
  }
};
```

### å¤„ç†Babel

ä¸ºäº†ä½¿ç”¨ES6+çš„æ–°ç‰¹æ€§ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Babelæ¥è½¬æ¢æˆ‘ä»¬çš„JavaScriptä»£ç ï¼š

```bash
npm install --save-dev babel-loader @babel/core @babel/preset-env
```

ç„¶åæ·»åŠ é…ç½®ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  module: {
    rules: [
      {
        test: /\.js$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env']
          }
        }
      }
    ]
  }
};
```

### å¤„ç†TypeScript

å¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨TypeScriptï¼Œä½ éœ€è¦å®‰è£…ç›¸åº”çš„åŠ è½½å™¨ï¼š

```bash
npm install --save-dev typescript ts-loader
```

ç„¶åæ·»åŠ é…ç½®ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  module: {
    rules: [
      {
        test: /\.tsx?$/,
        use: 'ts-loader',
        exclude: /node_modules/
      }
    ]
  },
  resolve: {
    extensions: ['.tsx', '.ts', '.js']
  }
};
```

## å¸¸ç”¨æ’ä»¶ä»‹ç»

æ’ä»¶å¯ä»¥æ‰©å±•Webpackçš„åŠŸèƒ½ã€‚è®©æˆ‘ä»¬ä»‹ç»ä¸€äº›å¸¸ç”¨çš„æ’ä»¶ã€‚

### HtmlWebpackPlugin

è¿™ä¸ªæ’ä»¶ä¼šè‡ªåŠ¨ç”ŸæˆHTMLæ–‡ä»¶ï¼Œå¹¶å°†æ‰“åŒ…åçš„JavaScriptæ–‡ä»¶è‡ªåŠ¨å¼•å…¥ã€‚

```bash
npm install --save-dev html-webpack-plugin
```

ç„¶åæ·»åŠ é…ç½®ï¼š

```javascript
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  // ...å…¶ä»–é…ç½®
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html',
      filename: 'index.html'
    })
  ]
};
```

### CleanWebpackPlugin

è¿™ä¸ªæ’ä»¶ä¼šåœ¨æ¯æ¬¡æ„å»ºå‰æ¸…ç†`dist`ç›®å½•ï¼š

```bash
npm install --save-dev clean-webpack-plugin
```

ç„¶åæ·»åŠ é…ç½®ï¼š

```javascript
const { CleanWebpackPlugin } = require('clean-webpack-plugin');

module.exports = {
  // ...å…¶ä»–é…ç½®
  plugins: [
    new CleanWebpackPlugin()
  ]
};
```

### MiniCssExtractPlugin

è¿™ä¸ªæ’ä»¶å°†CSSæå–åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ï¼š

```bash
npm install --save-dev mini-css-extract-plugin
```

ç„¶åæ·»åŠ é…ç½®ï¼š

```javascript
const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = {
  // ...å…¶ä»–é…ç½®
  module: {
    rules: [
      {
        test: /\.css$/,
        use: [MiniCssExtractPlugin.loader, 'css-loader']
      }
    ]
  },
  plugins: [
    new MiniCssExtractPlugin({
      filename: 'styles.css'
    })
  ]
};
```

### DefinePlugin

è¿™ä¸ªæ’ä»¶å…è®¸ä½ åœ¨ç¼–è¯‘æ—¶åˆ›å»ºå…¨å±€å¸¸é‡ï¼š

```javascript
const webpack = require('webpack');

module.exports = {
  // ...å…¶ä»–é…ç½®
  plugins: [
    new webpack.DefinePlugin({
      'process.env.NODE_ENV': JSON.stringify('production')
    })
  ]
};
```

## ä¼˜åŒ–ç­–ç•¥

éšç€é¡¹ç›®è§„æ¨¡çš„å¢å¤§ï¼ŒWebpackæ„å»ºå¯èƒ½ä¼šå˜æ…¢ã€‚ä¸‹é¢æ˜¯ä¸€äº›ä¼˜åŒ–ç­–ç•¥ã€‚

### å¼€å‘ç¯å¢ƒä¼˜åŒ–

#### ä½¿ç”¨source map

source mapå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å¼€å‘æ—¶è°ƒè¯•ä»£ç ï¼Œå®šä½åˆ°åŸå§‹æºç ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  devtool: 'eval-cheap-module-source-map'
};
```

#### ä½¿ç”¨webpack-dev-server

`webpack-dev-server`æä¾›äº†ä¸€ä¸ªç®€å•çš„webæœåŠ¡å™¨ï¼Œå¹¶æ”¯æŒçƒ­æ¨¡å—æ›¿æ¢(HMR)ï¼š

```bash
npm install --save-dev webpack-dev-server
```

ç„¶åæ·»åŠ é…ç½®ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  devServer: {
    static: './dist',
    hot: true
  }
};
```

å¹¶æ›´æ–°`package.json`ä¸­çš„è„šæœ¬ï¼š

```json
"scripts": {
  "start": "webpack serve --open",
  "build": "webpack --config webpack.config.js"
}
```

### ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

#### ä»£ç åˆ†å‰²

ä»£ç åˆ†å‰²å¯ä»¥å°†ä»£ç åˆ†å‰²æˆå¤šä¸ªåŒ…ï¼ŒæŒ‰éœ€åŠ è½½æˆ–å¹¶è¡ŒåŠ è½½ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  optimization: {
    splitChunks: {
      chunks: 'all'
    }
  }
};
```

#### æ‡’åŠ è½½

ä½¿ç”¨åŠ¨æ€å¯¼å…¥å®ç°æ‡’åŠ è½½ï¼š

```javascript
function getComponent() {
  return import(/* webpackChunkName: "lodash" */ 'lodash').then(({ default: _ }) => {
    const element = document.createElement('div');
    element.innerHTML = _.join(['Hello', 'Webpack'], ' ');
    return element;
  });
}
```

#### å‹ç¼©ä»£ç 

ä½¿ç”¨`TerserPlugin`å‹ç¼©JavaScriptä»£ç ï¼š

```javascript
const TerserPlugin = require('terser-webpack-plugin');

module.exports = {
  // ...å…¶ä»–é…ç½®
  optimization: {
    minimizer: [
      new TerserPlugin()
    ]
  }
};
```

#### ç¼“å­˜

åˆ©ç”¨ç¼“å­˜æé«˜æ„å»ºé€Ÿåº¦ï¼š

```javascript
module.exports = {
  // ...å…¶ä»–é…ç½®
  output: {
    filename: '[name].[contenthash].js',
    path: path.resolve(__dirname, 'dist')
  }
};
```

## å®æˆ˜æ¡ˆä¾‹

è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…é¡¹ç›®æ¥æ¼”ç¤ºWebpackçš„ä½¿ç”¨ã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„Reactåº”ç”¨ï¼Œå¹¶ä½¿ç”¨Webpackè¿›è¡Œæ„å»ºã€‚

### é¡¹ç›®åˆå§‹åŒ–

é¦–å…ˆï¼Œåˆ›å»ºé¡¹ç›®ç›®å½•å¹¶åˆå§‹åŒ–npmï¼š

```bash
mkdir react-webpack-demo
cd react-webpack-demo
npm init -y
```

å®‰è£…å¿…è¦çš„ä¾èµ–ï¼š

```bash
npm install react react-dom
npm install --save-dev webpack webpack-cli @babel/core @babel/preset-env @babel/preset-react babel-loader html-webpack-plugin css-loader style-loader
```

### é¡¹ç›®ç»“æ„

åˆ›å»ºä»¥ä¸‹ç›®å½•ç»“æ„ï¼š

```
react-webpack-demo/
â”œâ”€â”€ dist/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.css
â”‚   â”œâ”€â”€ App.js
â”‚   â”œâ”€â”€ index.css
â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ index.html
â”œâ”€â”€ webpack.config.js
â””â”€â”€ package.json
```

### ç¼–å†™ä»£ç 

ç¼–å†™`src/index.js`ï¼š

```javascript
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
import App from './App';

ReactDOM.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
  document.getElementById('root')
);
```

ç¼–å†™`src/App.js`ï¼š

```javascript
import React from 'react';
import './App.css';

function App() {
  return (
    <div className="App">
      <header className="App-header">
        <h1>Hello, React + Webpack!</h1>
        <p>è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨Webpackæ„å»ºçš„Reactåº”ç”¨</p>
      </header>
    </div>
  );
}

export default App;
```

ç¼–å†™æ ·å¼æ–‡ä»¶`src/index.css`å’Œ`src/App.css`ï¼š

```css
/* src/index.css */
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}
```

```css
/* src/App.css */
.App {
  text-align: center;
}

.App-header {
  background-color: #282c34;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: calc(10px + 2vmin);
  color: white;
}
```

ç¼–å†™`src/index.html`ï¼š

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>React + Webpack Demo</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
```

### é…ç½®Webpack

ç¼–å†™`webpack.config.js`ï¼š

```javascript
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');

module.exports = {
  entry: './src/index.js',
  output: {
    filename: 'bundle.js',
    path: path.resolve(__dirname, 'dist'),
    clean: true,
  },
  module: {
    rules: [
      {
        test: /\.jsx?$/,
        exclude: /node_modules/,
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env', '@babel/preset-react']
          }
        }
      },
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader']
      }
    ]
  },
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/index.html',
      filename: 'index.html'
    })
  ],
  devServer: {
    static: './dist',
    hot: true
  }
};
```

### é…ç½®Babel

åˆ›å»º`.babelrc`æ–‡ä»¶ï¼š

```json
{
  "presets": ["@babel/preset-env", "@babel/preset-react"]
}
```

### æ·»åŠ è„šæœ¬

æ›´æ–°`package.json`ä¸­çš„è„šæœ¬ï¼š

```json
"scripts": {
  "start": "webpack serve --open",
  "build": "webpack"
}
```

### è¿è¡Œé¡¹ç›®

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡`npm start`å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œæˆ–è€…é€šè¿‡`npm run build`æ„å»ºç”Ÿäº§ç‰ˆæœ¬ã€‚

## ç»“è¯­

é€šè¿‡æœ¬æ–‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬äº†è§£äº†Webpackçš„æ ¸å¿ƒæ¦‚å¿µã€å®‰è£…é…ç½®ã€å¸¸ç”¨åŠ è½½å™¨å’Œæ’ä»¶ï¼Œä»¥åŠä¼˜åŒ–ç­–ç•¥ã€‚æˆ‘ä»¬è¿˜é€šè¿‡ä¸€ä¸ªå®æˆ˜æ¡ˆä¾‹ï¼Œå­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨Webpackæ„å»ºä¸€ä¸ªReactåº”ç”¨ã€‚

ğŸ¤” Webpackè™½ç„¶å¼ºå¤§ï¼Œä½†ä¹Ÿå¯èƒ½è®©äººæ„Ÿåˆ°å¤æ‚ã€‚è®°ä½ï¼Œå­¦ä¹ Webpackæ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œä»ç®€å•çš„é…ç½®å¼€å§‹ï¼Œé€æ­¥æ¢ç´¢æ›´é«˜çº§çš„åŠŸèƒ½ã€‚

::: right
"å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚" - æŒæ¡Webpackï¼Œè®©ä½ çš„å‰ç«¯å¼€å‘æ›´åŠ é«˜æ•ˆã€‚
::>

> Webpackä¸ä»…ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒä»£è¡¨äº†ä¸€ç§ç°ä»£å‰ç«¯å¼€å‘çš„æ€ç»´æ–¹å¼ã€‚é€šè¿‡æ¨¡å—åŒ–ã€ç»„ä»¶åŒ–å’Œå·¥ç¨‹åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæ›´åŠ å¯ç»´æŠ¤ã€å¯æ‰©å±•çš„åº”ç”¨ã€‚

å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨Webpackã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼