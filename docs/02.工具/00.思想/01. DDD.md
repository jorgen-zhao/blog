---
title:  DDD
date: 2023-02-09 23:43:24
permalink: /pages/ef5f6a/
categories:
  - 工具
  - 思想
tags:
  - DDD 
author: 
  name: Jorgen
  link: https://gitee.com/jorgenme
---
# Pro
DDD, or Domain-Driven Design, is an architectural development approach focused on creating a domain-specific model that accounts for the various components of a software system. It is based on the principle of separating the domain model from the application model and focusing on the core domain that the software is meant to serve. This approach allows developers to create software that is more maintainable and extensible, while still providing a powerful set of features. By focusing on the domain-specific model, developers can ensure that their software is more efficient and better suited to their particular use case.


# What is DDD?
1. When done sensibly, it's about taking a craftsman-like approach to building software, and recognizing the need to reduce the cognitive friction between development teams and the businesses they are building software for.One of the most important practices is to have a layer in which the domain vocabulary used by the software team and the business team matches as closely as possible. You build this layer iteratively as you come to understand the business problem that you are trying to solve. When business logic is sensibly encoded in this layer, isolated from all the convoluted dependencies that enterprise applications typically have by factoring interactions with those systems out to interfaces, the language used in the actual domain layer eventually becomes fairly concise, obvious, and readable. When you review your model with the business, they will often correct you, and you gradually refactor to a deeper understanding of the domain.
2. DDD acknowledges that systems rarely exist in isolation. DDD includes coping patterns for legacy systems (Anti-corruption layer, bounded contexts, to name a couple).

# Componet
- **应用层{application}**
    - 应用服务位于应用层。用来表述应用和用户行为，负责服务的组合、编排和转发，负责处理业务用例的执行顺序以及结果的拼装。
    - 应用层的服务包括应用服务和领域事件相关服务。
    - 应用服务可对微服务内的领域服务以及微服务外的应用服务进行组合和编排，或者对基础层如文件、缓存等数据直接操作形成应用服务，对外提供粗粒度的服务。
    - 领域事件服务包括两类：领域事件的发布和订阅。通过事件总线和消息队列实现异步数据传输，实现微服务之间的解耦。
- **领域层{domain}**
    - 领域服务位于领域层，为完成领域中跨实体或值对象的操作转换而封装的服务，领域服务以与实体和值对象相同的方式参与实施过程。
    - 领域服务对同一个实体的一个或多个方法进行组合和封装，或对多个不同实体的操作进行组合或编排，对外暴露成领域服务。领域服务封装了核心的业务逻辑。实体自身的行为在实体类内部实现，向上封装成领域服务暴露。
    - 为隐藏领域层的业务逻辑实现，所有领域方法和服务等均须通过领域服务对外暴露。
    - 为实现微服务内聚合之间的解耦，原则上禁止跨聚合的领域服务调用和跨聚合的数据相互关联。
- **基础层{infrastructure}**
    - 基础服务位于基础层。为各层提供资源服务（如数据库、缓存等），实现各层的解耦，降低外部资源变化对业务逻辑的影响。
    - 基础服务主要为仓储服务，通过依赖反转的方式为各层提供基础资源服务，领域服务和应用服务调用仓储服务接口，利用仓储实现持久化数据对象或直接访问基础资源。
- **接口层{interfaces}**
    - 接口服务位于用户接口层，用于处理用户发送的Restful请求和解析用户输入的配置文件等，并将信息传递给应用层。