---
title: flink第二弹
date: 2024-01-28 16:22:19
permalink: /pages/726e8d/
categories:
  - Geek Explore
tags:
  - 
author: 
  name: Jorgen
  link: https://github.com/jorgen-zhao
---
## flink 架构
Flink采取master - worker的结构架构，主要包括两个组件
1. Master: Flink作业的主进程，它主要起协调管理的作用
2. TaskManager: 执行计算任务的进程，拥有CPU，内存等资源。Flink需要将计算任务发往多个taskmanger上并行执行任务。

### Flink作业提交的过程
在一个作业提交前，master与taskmanager需要首先被启动。单机版flink直接使用`bin/start-cluser`命令进行启动，taskmanger启动后向Resource manger注册。这个流程在用户提交jar包前执行。
1. 用户通过SDK编写好的程序，通过client进行提交。现在通常使用Java语言编写，构建逻辑视角数据流图。代码和相关配置文件进行打包编译构建，通过客户端提交到dispatcher，形成一个作业Job.
2. Dispatcher收到这个作业之后，会启动Jobmanager，负责协调本次的工作。
3. Jobmanger向Resource manager申请本次作业所需要的资源。
4. 在整个flink刚启动时，taskmanger已经向resource manger注册，此时，闲置的taskmanager将会反馈给jobmanager。
5. jobmanager将用户作业中的逻辑视图转换为物理执行图，将计算任务分发给多个taskmager。
一个Flink job开始执行！！！

### client jobmanager taskmanager

### 任务执行 资源划分

## time 

### watermark

### window