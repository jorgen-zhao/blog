(window.webpackJsonp=window.webpackJsonp||[]).push([[255],{605:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),t("p",[s._v("ä½œä¸ºä¸€åAndroidå¼€å‘è€…ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾é™·å…¥è¿™æ ·çš„å›°å¢ƒï¼š")]),s._v(" "),t("blockquote",[t("p",[s._v('"è¿™ä¸ªç±»éœ€è¦å¦ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œæˆ‘åº”è¯¥åœ¨å“ªé‡Œåˆ›å»ºå®ƒï¼Ÿç›´æ¥åœ¨æ„é€ å‡½æ•°é‡Œnewå—ï¼Ÿè¿˜æ˜¯é€šè¿‡æŸä¸ªå·¥å‚æ–¹æ³•ï¼Ÿ"')])]),s._v(" "),t("p",[s._v("æˆ–è€…æ›´ç³Ÿçš„æ˜¯ï¼š")]),s._v(" "),t("blockquote",[t("p",[s._v('"è¿™ä¸ªç±»çš„ä¾èµ–å¤ªå¤æ‚äº†ï¼Œæ„é€ å‡½æ•°å‚æ•°å·²ç»å¤šåˆ°æ•°ä¸æ¸…äº†..."')])]),s._v(" "),t("p",[s._v("è¿™äº›é—®é¢˜å…¶å®éƒ½æŒ‡å‘åŒä¸€ä¸ªè§£å†³æ–¹æ¡ˆâ€”â€”ä¾èµ–æ³¨å…¥(Dependency Injection, DI)ã€‚ğŸ¤”")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),t("p",[s._v("ä¾èµ–æ³¨å…¥æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œå®ƒå°†ç»„ä»¶çš„ä¾èµ–å…³ç³»ä»ç»„ä»¶å†…éƒ¨è½¬ç§»åˆ°å¤–éƒ¨ï¼Œé€šè¿‡å¤–éƒ¨æä¾›ä¾èµ–çš„æ–¹å¼ï¼Œä½¿ç»„ä»¶æ›´åŠ è§£è€¦ã€å¯æµ‹è¯•å’Œå¯ç»´æŠ¤ã€‚")])]),s._v(" "),t("p",[s._v("åœ¨Androidå¼€å‘ä¸­ï¼Œä¾èµ–æ³¨å…¥æ¡†æ¶å¸®åŠ©æˆ‘ä»¬ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œä¾èµ–å…³ç³»ï¼Œè®©ä»£ç æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨Androidä¸­æœ€æµè¡Œçš„ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼šä»Daggeråˆ°Hiltçš„è¿›åŒ–ä¹‹è·¯ã€‚")]),s._v(" "),t("h2",{attrs:{id:"ä¾èµ–æ³¨å…¥çš„åŸºæœ¬æ¦‚å¿µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¾èµ–æ³¨å…¥çš„åŸºæœ¬æ¦‚å¿µ"}},[s._v("#")]),s._v(" ä¾èµ–æ³¨å…¥çš„åŸºæœ¬æ¦‚å¿µ")]),s._v(" "),t("p",[s._v("åœ¨å¼€å§‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆç†è§£å‡ ä¸ªå…³é”®æ¦‚å¿µï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("ä¾èµ–(Dependency)")]),s._v("ï¼šä¸€ä¸ªç±»éœ€è¦å¦ä¸€ä¸ªç±»æ¥å®Œæˆå®ƒçš„åŠŸèƒ½ï¼Œè¿™ä¸ªè¢«éœ€è¦çš„ç±»å°±æ˜¯ä¾èµ–ã€‚")]),s._v(" "),t("li",[t("strong",[s._v("ä¾èµ–æ³¨å…¥(DI)")]),s._v('ï¼šä¸æ˜¯è®©ç±»è‡ªå·±åˆ›å»ºä¾èµ–ï¼Œè€Œæ˜¯ç”±å¤–éƒ¨æ¡†æ¶å°†ä¾èµ–"æ³¨å…¥"åˆ°ç±»ä¸­ã€‚')])]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¼ ç»Ÿæ–¹å¼ - ç±»è‡ªå·±åˆ›å»ºä¾èµ–")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" UserRepository "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" apiService "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" RetrofitClient"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("createApiService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetchData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¾èµ–æ³¨å…¥æ–¹å¼ - ä¾èµ–ç”±å¤–éƒ¨æä¾›")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserRepository")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetchData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[s._v("é€šè¿‡è¿™ç§æ–¹å¼ï¼Œ"),t("code",[s._v("UserRepository")]),s._v("ä¸å†å…³å¿ƒ"),t("code",[s._v("ApiService")]),s._v("å¦‚ä½•åˆ›å»ºï¼Œåªéœ€ä¸“æ³¨äºè‡ªå·±çš„ä¸šåŠ¡é€»è¾‘ã€‚ğŸ¯")]),s._v(" "),t("h2",{attrs:{id:"dagger-ä¾èµ–æ³¨å…¥çš„ç‹è€…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dagger-ä¾èµ–æ³¨å…¥çš„ç‹è€…"}},[s._v("#")]),s._v(" Daggerï¼šä¾èµ–æ³¨å…¥çš„ç‹è€…")]),s._v(" "),t("p",[s._v("åœ¨Hiltå‡ºç°ä¹‹å‰ï¼ŒDaggeræ˜¯Androidå¼€å‘ä¸­æœ€æµè¡Œçš„ä¾èµ–æ³¨å…¥æ¡†æ¶ã€‚å®ƒæ˜¯Squareå…¬å¸åŸºäºJavaæ³¨è§£å¤„ç†å™¨å¼€å‘çš„é«˜æ€§èƒ½DIæ¡†æ¶ã€‚")]),s._v(" "),t("h3",{attrs:{id:"daggerçš„æ ¸å¿ƒç»„ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#daggerçš„æ ¸å¿ƒç»„ä»¶"}},[s._v("#")]),s._v(" Daggerçš„æ ¸å¿ƒç»„ä»¶")]),s._v(" "),t("p",[s._v("Daggerä¸»è¦ç”±ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç»„ä»¶ç»„æˆï¼š")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("@Module")]),s._v("ï¼šå®šä¹‰å¦‚ä½•æä¾›ä¾èµ–çš„ç±»")]),s._v(" "),t("li",[t("strong",[s._v("@Provides")]),s._v("ï¼šåœ¨@Moduleä¸­æ ‡è®°æä¾›ä¾èµ–çš„æ–¹æ³•")]),s._v(" "),t("li",[t("strong",[s._v("@Inject")]),s._v("ï¼šæ ‡è®°éœ€è¦ä¾èµ–çš„æ„é€ å‡½æ•°æˆ–å­—æ®µ")]),s._v(" "),t("li",[t("strong",[s._v("@Component")]),s._v("ï¼šè¿æ¥æä¾›æ–¹å’Œä½¿ç”¨æ–¹çš„æ¥å£")])]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" NetworkModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideApiService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Retrofit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Builder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("baseUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://api.example.com"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ApiService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Component")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("modules "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("NetworkModule"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" AppComponent "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("inject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("activity"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" MainActivity"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MainActivity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AppCompatActivity")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Inject")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lateinit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bundle"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" appComponent "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" DaggerAppComponent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        appComponent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("inject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br")])]),t("h3",{attrs:{id:"daggerçš„æŒ‘æˆ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#daggerçš„æŒ‘æˆ˜"}},[s._v("#")]),s._v(" Daggerçš„æŒ‘æˆ˜")]),s._v(" "),t("p",[s._v("å°½ç®¡DaggeråŠŸèƒ½å¼ºå¤§ï¼Œä½†åœ¨Androidé¡¹ç›®ä¸­ä½¿ç”¨å®ƒä¹Ÿé¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("é…ç½®å¤æ‚")]),s._v("ï¼šéœ€è¦ç¼–å†™å¤§é‡çš„Moduleå’ŒComponent")]),s._v(" "),t("li",[t("strong",[s._v("ç¼–è¯‘æ—¶é—´é•¿")]),s._v("ï¼šæ³¨è§£å¤„ç†éœ€è¦æ—¶é—´ï¼Œå¤§å‹é¡¹ç›®å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ")]),s._v(" "),t("li",[t("strong",[s._v("å­¦ä¹ æ›²çº¿é™¡å³­")]),s._v("ï¼šæ¦‚å¿µå¤šï¼Œé…ç½®å¤æ‚ï¼Œæ–°æ‰‹å®¹æ˜“è¿·å¤±")]),s._v(" "),t("li",[t("strong",[s._v("Androidç‰¹å®šæ”¯æŒä¸è¶³")]),s._v("ï¼šéœ€è¦é¢å¤–é…ç½®æ¥æ”¯æŒAndroidç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ")])]),s._v(" "),t("h2",{attrs:{id:"hilt-ä¸ºandroidé‡èº«å®šåˆ¶çš„diæ¡†æ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hilt-ä¸ºandroidé‡èº«å®šåˆ¶çš„diæ¡†æ¶"}},[s._v("#")]),s._v(" Hiltï¼šä¸ºAndroidé‡èº«å®šåˆ¶çš„DIæ¡†æ¶")]),s._v(" "),t("p",[s._v("é¢å¯¹Daggerçš„æŒ‘æˆ˜ï¼ŒGoogleä¸Squareåˆä½œå¼€å‘äº†Hiltâ€”â€”ä¸€ä¸ªåŸºäºDaggerçš„ã€ä¸“ä¸ºAndroidè®¾è®¡çš„ä¾èµ–æ³¨å…¥åº“ã€‚Hiltç®€åŒ–äº†Daggeråœ¨Androidä¸­çš„ä½¿ç”¨ï¼Œæä¾›äº†æ›´ç®€æ´çš„APIå’Œæ›´å¥½çš„Androidé›†æˆã€‚")]),s._v(" "),t("h3",{attrs:{id:"hiltçš„æ ¸å¿ƒä¼˜åŠ¿"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hiltçš„æ ¸å¿ƒä¼˜åŠ¿"}},[s._v("#")]),s._v(" Hiltçš„æ ¸å¿ƒä¼˜åŠ¿")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("è‡ªåŠ¨ç”Ÿæˆç»„ä»¶")]),s._v("ï¼šHiltè‡ªåŠ¨ä¸ºAndroidç»„ä»¶åˆ›å»ºç›¸åº”çš„Hiltç»„ä»¶")]),s._v(" "),t("li",[t("strong",[s._v("ç®€åŒ–é…ç½®")]),s._v("ï¼šå‡å°‘äº†å¤§é‡æ ·æ¿ä»£ç ")]),s._v(" "),t("li",[t("strong",[s._v("ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥")]),s._v("ï¼šè‡ªåŠ¨ç®¡ç†ä¾èµ–çš„ç”Ÿå‘½å‘¨æœŸ")]),s._v(" "),t("li",[t("strong",[s._v("ä½œç”¨åŸŸç»‘å®š")]),s._v("ï¼šå°†ä¾èµ–ä¸Androidç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»‘å®š")])]),s._v(" "),t("h3",{attrs:{id:"hiltçš„åŸºæœ¬ä½¿ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hiltçš„åŸºæœ¬ä½¿ç”¨"}},[s._v("#")]),s._v(" Hiltçš„åŸºæœ¬ä½¿ç”¨")]),s._v(" "),t("p",[s._v("è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨Hilté‡å†™ä¹‹å‰çš„ä¾‹å­ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å®šä¹‰æ¥å£")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" ApiService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å®ç°æ¥å£")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" ApiServiceImpl "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Inject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Data from API"')])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ViewModelä¸­ä½¿ç”¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@HiltViewModel")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MainViewModel "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Inject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetchData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨Activityä¸­ä½¿ç”¨")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@AndroidEntryPoint")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MainActivity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AppCompatActivity")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" viewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" MainViewModel "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("viewModels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bundle"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setContentView")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("R"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("layout"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("activity_main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        Log"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("d")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MainActivity"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" viewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fetchData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),t("p",[s._v("çœ‹åˆ°åŒºåˆ«äº†å—ï¼Ÿå‡ ä¹ä¸éœ€è¦ä»»ä½•é…ç½®ï¼Hiltä¼šè‡ªåŠ¨å¤„ç†ä¾èµ–çš„åˆ›å»ºå’Œæ³¨å…¥ã€‚ğŸš€")]),s._v(" "),t("h2",{attrs:{id:"hiltçš„å…³é”®ç»„ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hiltçš„å…³é”®ç»„ä»¶"}},[s._v("#")]),s._v(" Hiltçš„å…³é”®ç»„ä»¶")]),s._v(" "),t("h3",{attrs:{id:"_1-hiltandroidapp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-hiltandroidapp"}},[s._v("#")]),s._v(" 1. @HiltAndroidApp")]),s._v(" "),t("p",[s._v("è¿™æ˜¯Hiltçš„å…¥å£ç‚¹ï¼Œéœ€è¦åœ¨Applicationç±»ä¸Šæ·»åŠ ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@HiltAndroidApp")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MyApp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Application")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_2-androidentrypoint"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-androidentrypoint"}},[s._v("#")]),s._v(" 2. @AndroidEntryPoint")]),s._v(" "),t("p",[s._v("æ ‡è®°éœ€è¦ä¾èµ–æ³¨å…¥çš„Androidç»„ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@AndroidEntryPoint")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MainActivity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AppCompatActivity")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("æ”¯æŒçš„ç»„ä»¶åŒ…æ‹¬ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("Application")]),s._v(" "),t("li",[s._v("Activity")]),s._v(" "),t("li",[s._v("Fragment")]),s._v(" "),t("li",[s._v("View")]),s._v(" "),t("li",[s._v("Service")]),s._v(" "),t("li",[s._v("BroadcastReceiver")])]),s._v(" "),t("h3",{attrs:{id:"_3-module-å’Œ-installin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-module-å’Œ-installin"}},[s._v("#")]),s._v(" 3. @Module å’Œ @InstallIn")]),s._v(" "),t("p",[s._v("å®šä¹‰è‡ªå®šä¹‰ä¾èµ–æä¾›æ–¹å¼ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@InstallIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ActivityComponent"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é™å®šä½œç”¨åŸŸä¸ºActivity")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("object")]),s._v(" ActivityModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideString")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello from ActivityModule"')])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_4-viewmodelinject"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-viewmodelinject"}},[s._v("#")]),s._v(" 4. @ViewModelInject")]),s._v(" "),t("p",[s._v("åœ¨ViewModelä¸­æ³¨å…¥ä¾èµ–ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@HiltViewModel")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MyViewModel "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelInject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" repository"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" MyRepository\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_5-é™å®šç¬¦-qualifiers"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-é™å®šç¬¦-qualifiers"}},[s._v("#")]),s._v(" 5. é™å®šç¬¦(Qualifiers)")]),s._v(" "),t("p",[s._v("å½“æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„ä¾èµ–æ—¶ï¼Œä½¿ç”¨é™å®šç¬¦æ¥åŒºåˆ†ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Qualifier")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Retention")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AnnotationRetention"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("RUNTIME"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("annotation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" AuthInterceptor\n\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@InstallIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ActivityComponent"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("object")]),s._v(" NetworkModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@AuthInterceptor")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideAuthInterceptor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Interceptor "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Interceptor "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" chain "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" request "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" chain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("request")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newBuilder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addHeader")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Authorization"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Bearer token"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            chain"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("proceed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("request"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MyViewModel "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelInject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@AuthInterceptor")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" authInterceptor"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Interceptor\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("h2",{attrs:{id:"hiltçš„é«˜çº§ç‰¹æ€§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hiltçš„é«˜çº§ç‰¹æ€§"}},[s._v("#")]),s._v(" Hiltçš„é«˜çº§ç‰¹æ€§")]),s._v(" "),t("h3",{attrs:{id:"_1-ä½œç”¨åŸŸç»‘å®š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä½œç”¨åŸŸç»‘å®š"}},[s._v("#")]),s._v(" 1. ä½œç”¨åŸŸç»‘å®š")]),s._v(" "),t("p",[s._v("Hiltå°†ä¾èµ–ä¸Androidç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼š")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("æ³¨è§£")]),s._v(" "),t("th",[s._v("ç»‘å®šåˆ°çš„ç»„ä»¶")]),s._v(" "),t("th",[s._v("ç”Ÿå‘½å‘¨æœŸ")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("@Singleton")]),s._v(" "),t("td",[s._v("ApplicationComponent")]),s._v(" "),t("td",[s._v("Application")])]),s._v(" "),t("tr",[t("td",[s._v("@ActivityRetainedScoped")]),s._v(" "),t("td",[s._v("ActivityRetainingComponent")]),s._v(" "),t("td",[s._v("Activityçš„onCreateåˆ°onDestroy")])]),s._v(" "),t("tr",[t("td",[s._v("@ActivityScoped")]),s._v(" "),t("td",[s._v("ActivityComponent")]),s._v(" "),t("td",[s._v("Activityçš„onCreateåˆ°onDestroy")])]),s._v(" "),t("tr",[t("td",[s._v("@FragmentScoped")]),s._v(" "),t("td",[s._v("FragmentComponent")]),s._v(" "),t("td",[s._v("Fragmentçš„onAttachåˆ°onDetach")])]),s._v(" "),t("tr",[t("td",[s._v("@ViewScoped")]),s._v(" "),t("td",[s._v("ViewComponent")]),s._v(" "),t("td",[s._v("Viewçš„onCreateåˆ°onDestroy")])])])]),s._v(" "),t("h3",{attrs:{id:"_2-é¢„å®šä¹‰ç»‘å®š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-é¢„å®šä¹‰ç»‘å®š"}},[s._v("#")]),s._v(" 2. é¢„å®šä¹‰ç»‘å®š")]),s._v(" "),t("p",[s._v("Hiltä¸ºAndroidç»„ä»¶æä¾›äº†é¢„å®šä¹‰ç»‘å®šï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@AndroidEntryPoint")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MainActivity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AppCompatActivity")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–Applicationå®ä¾‹")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" application "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" inject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Application"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–Activity")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" activity "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" inject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Activity"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–ApplicationContext")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" context "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" inject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Context"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–Resources")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" resources "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" inject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Resources"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–SupportFragmentManager")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" supportFragmentManager "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" inject"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("FragmentManager"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bundle"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä½¿ç”¨è¿™äº›é¢„å®šä¹‰ç»‘å®š")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h3",{attrs:{id:"_3-å¤šç»‘å®š"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¤šç»‘å®š"}},[s._v("#")]),s._v(" 3. å¤šç»‘å®š")]),s._v(" "),t("p",[s._v("å°†å¤šä¸ªç›¸åŒç±»å‹çš„ä¾èµ–æ”¶é›†åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@InstallIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ActivityComponent"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("object")]),s._v(" BindingsModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Binds")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@IntoMap")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UserViewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bindUserViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("viewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserViewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ViewModel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" viewModel\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Binds")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@IntoMap")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SettingsViewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bindSettingsViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("viewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" SettingsViewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ViewModel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" viewModel\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@MapKey")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("annotation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModelKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" value"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" KClass"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("out")]),s._v(" ViewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@HiltViewModel")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" MainActivityViewModel "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelInject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("UserViewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" userViewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ViewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SettingsViewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" settingsViewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ViewModel\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("h2",{attrs:{id:"å®æˆ˜æ¡ˆä¾‹-ä½¿ç”¨hiltæ„å»ºmvvmæ¶æ„"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜æ¡ˆä¾‹-ä½¿ç”¨hiltæ„å»ºmvvmæ¶æ„"}},[s._v("#")]),s._v(" å®æˆ˜æ¡ˆä¾‹ï¼šä½¿ç”¨Hiltæ„å»ºMVVMæ¶æ„")]),s._v(" "),t("p",[s._v("è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹ï¼Œçœ‹çœ‹å¦‚ä½•ä½¿ç”¨Hiltæ„å»ºä¸€ä¸ªç°ä»£åŒ–çš„MVVMæ¶æ„åº”ç”¨ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_1-æ·»åŠ ä¾èµ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ·»åŠ ä¾èµ–"}},[s._v("#")]),s._v(" 1. æ·»åŠ ä¾èµ–")]),s._v(" "),t("p",[s._v("é¦–å…ˆï¼Œåœ¨appæ¨¡å—çš„build.gradleä¸­æ·»åŠ Hiltä¾èµ–ï¼š")]),s._v(" "),t("div",{staticClass:"language-gradle line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gradle"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("dependencies")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implementation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'com.google.dagger:hilt-android:2.45'")]),s._v("\n    kapt "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'com.google.dagger:hilt-compiler:2.45'")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœä½¿ç”¨Kotlin KAPT")]),s._v("\n    kapt "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'androidx.hilt:hilt-compiler:1.0.0'")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœä½¿ç”¨Navigation Component")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implementation")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'androidx.hilt:hilt-navigation-fragment:1.0.0'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"_2-åˆ›å»ºæ•°æ®å±‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-åˆ›å»ºæ•°æ®å±‚"}},[s._v("#")]),s._v(" 2. åˆ›å»ºæ•°æ®å±‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Repositoryæ¥å£")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" UserRepository "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("suspend")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Repositoryå®ç°")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" UserRepositoryImpl "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Inject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserDao\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserRepository "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("suspend")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å…ˆä»æ•°æ®åº“è·å–")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" cachedUsers "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAllUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cachedUsers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("isNotEmpty")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cachedUsers\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¦‚æœæ•°æ®åº“æ²¡æœ‰ï¼Œä»ç½‘ç»œè·å–")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" remoteUsers "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("insertAll")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("remoteUsers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" remoteUsers\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ApiService")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" ApiService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@GET")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"users"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("suspend")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// UserDao")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Dao")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" UserDao "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Query")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT * FROM users"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("suspend")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAllUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Insert")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("suspend")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("insertAll")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br")])]),t("h3",{attrs:{id:"_3-åˆ›å»ºviewmodel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ›å»ºviewmodel"}},[s._v("#")]),s._v(" 3. åˆ›å»ºViewModel")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@HiltViewModel")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" UserListViewModel "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ViewModelInject")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constructor")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" repository"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserRepository\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" _users "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MutableLiveData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" users"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" LiveData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" _users\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        viewModelScope"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("launch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            _users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" repository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"_4-åˆ›å»ºuiå±‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-åˆ›å»ºuiå±‚"}},[s._v("#")]),s._v(" 4. åˆ›å»ºUIå±‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@AndroidEntryPoint")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" UserListActivity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("AppCompatActivity")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lateinit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" binding"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ActivityUserListBinding\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" viewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserListViewModel "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("viewModels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Bundle"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onCreate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("savedInstanceState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        binding "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ActivityUserListBinding"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("inflate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("layoutInflater"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setContentView")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("binding"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setupRecyclerView")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("observeViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        binding"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("refreshLayout"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setOnRefreshListener")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            viewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setupRecyclerView")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        binding"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("recyclerView"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            layoutManager "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("LinearLayoutManager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token label symbol"}},[s._v("@UserListActivity")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            adapter "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserAdapter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("observeViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        viewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("observe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("binding"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("recyclerView"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("adapter "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" UserAdapter"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("submitList")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            binding"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("refreshLayout"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("isRefreshing "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("h3",{attrs:{id:"_5-é…ç½®hilt-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-é…ç½®hilt-modules"}},[s._v("#")]),s._v(" 5. é…ç½®Hilt Modules")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@InstallIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SingletonComponent"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("object")]),s._v(" AppModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Singleton")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideRetrofit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Retrofit "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Retrofit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Builder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("baseUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://jsonplaceholder.typicode.com/"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConverterFactory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GsonConverterFactory"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Singleton")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideApiService")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("retrofit"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Retrofit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" retrofit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ApiService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@InstallIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SingletonComponent"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("abstract")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" DatabaseModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Singleton")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideAppDatabase")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@ApplicationContext")]),s._v(" context"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AppDatabase "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Room"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("databaseBuilder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n            context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            AppDatabase"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"app_database"')])]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideUserDao")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("database"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" AppDatabase"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserDao "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" database"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userDao")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br")])]),t("h2",{attrs:{id:"daggerè¿ç§»åˆ°hiltçš„æœ€ä½³å®è·µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#daggerè¿ç§»åˆ°hiltçš„æœ€ä½³å®è·µ"}},[s._v("#")]),s._v(" Daggerè¿ç§»åˆ°Hiltçš„æœ€ä½³å®è·µ")]),s._v(" "),t("p",[s._v("å¦‚æœä½ å·²ç»åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Daggerå¹¶è®¡åˆ’è¿ç§»åˆ°Hiltï¼Œä»¥ä¸‹æ˜¯ä¸€äº›æœ€ä½³å®è·µï¼š")]),s._v(" "),t("h3",{attrs:{id:"_1-é€æ­¥è¿ç§»"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-é€æ­¥è¿ç§»"}},[s._v("#")]),s._v(" 1. é€æ­¥è¿ç§»")]),s._v(" "),t("p",[s._v("ä¸è¦ä¸€æ¬¡æ€§è¿ç§»æ•´ä¸ªé¡¹ç›®ï¼Œè€Œæ˜¯æŒ‰æ¨¡å—æˆ–åŠŸèƒ½é€æ­¥è¿ç§»ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å…ˆåœ¨Applicationç±»ä¸­æ·»åŠ "),t("code",[s._v("@HiltAndroidApp")])]),s._v(" "),t("li",[s._v("é€æ­¥å°†Androidç»„ä»¶è¿ç§»åˆ°"),t("code",[s._v("@AndroidEntryPoint")])]),s._v(" "),t("li",[s._v("å°†Dagger Moduleè½¬æ¢ä¸ºHilt Module")]),s._v(" "),t("li",[s._v("åˆ©ç”¨Hiltçš„é¢„å®šä¹‰ç»‘å®šç®€åŒ–ä»£ç ")])]),s._v(" "),t("h3",{attrs:{id:"_2-ä¿ç•™daggerç»„ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¿ç•™daggerç»„ä»¶"}},[s._v("#")]),s._v(" 2. ä¿ç•™Daggerç»„ä»¶")]),s._v(" "),t("p",[s._v("åœ¨è¿ç§»è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä¿ç•™Daggerç»„ä»¶ä½œä¸ºæ¡¥æ¢ï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Module")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@InstallIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ApplicationComponent"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("object")]),s._v(" DaggerBridgeModule "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Provides")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Singleton")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("provideLegacyDaggerComponent")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" LegacyDaggerComponent "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" DaggerLegacyDaggerComponent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"_3-åˆ©ç”¨hiltçš„æµ‹è¯•æ”¯æŒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ©ç”¨hiltçš„æµ‹è¯•æ”¯æŒ"}},[s._v("#")]),s._v(" 3. åˆ©ç”¨Hiltçš„æµ‹è¯•æ”¯æŒ")]),s._v(" "),t("p",[s._v("Hiltæä¾›äº†ä¼˜ç§€çš„æµ‹è¯•æ”¯æŒï¼š")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@RunWith")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AndroidJUnit4"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" UserViewModelTest "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@get:Rule")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" hiltRule "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("HiltAndroidRule")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Inject")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("lateinit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" repository"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" TestRepository\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Before")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        hiltRule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("inject")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Test")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers_whenRepositoryReturnsUsers_updatesUiState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" runTest "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æµ‹è¯•ä»£ç ")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h2",{attrs:{id:"ç»“è¯­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[s._v("#")]),s._v(" ç»“è¯­")]),s._v(" "),t("p",[s._v("ä»Daggeråˆ°Hiltï¼Œæˆ‘ä»¬çœ‹åˆ°ä¾èµ–æ³¨å…¥æ¡†æ¶åœ¨Androidå¼€å‘ä¸­çš„è¿›åŒ–ä¹‹è·¯ã€‚Hiltä¸ä»…ä¿ç•™äº†Daggerçš„å¼ºå¤§åŠŸèƒ½ï¼Œè¿˜é’ˆå¯¹Androidå¼€å‘åœºæ™¯è¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ï¼Œå¤§å¤§ç®€åŒ–äº†ä¾èµ–æ³¨å…¥çš„ä½¿ç”¨ã€‚")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v('"ä»£ç åº”è¯¥æ˜¯ç®€å•çš„ï¼Œè€Œä¸æ˜¯å¤æ‚çš„ã€‚ä¾èµ–æ³¨å…¥å¸®åŠ©æˆ‘ä»¬å®ç°è¿™ä¸€ç‚¹ã€‚"')])]),s._v(" "),t("p",[s._v("åœ¨ç°ä»£Androidå¼€å‘ä¸­ï¼ŒæŒæ¡Hiltå·²ç»ä¸å†æ˜¯åŠ åˆ†é¡¹ï¼Œè€Œæ˜¯å¿…å¤‡æŠ€èƒ½ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´åŠ æ¨¡å—åŒ–ã€å¯æµ‹è¯•å’Œå¯ç»´æŠ¤çš„åº”ç”¨ç¨‹åºã€‚")]),s._v(" "),t("p",[s._v("å¦‚æœä½ è¿˜æ²¡æœ‰å¼€å§‹ä½¿ç”¨Hiltï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ä»ä»Šå¤©å°±å¼€å§‹å°è¯•ã€‚ç›¸ä¿¡æˆ‘ï¼Œä¸€æ—¦ä½ ä¹ æƒ¯äº†è¿™ç§å¼€å‘æ–¹å¼ï¼Œä½ å°†å†ä¹Ÿå›ä¸å»æ²¡æœ‰ä¾èµ–æ³¨å…¥çš„æ—¥å­ï¼ğŸ˜‰")]),s._v(" "),t("blockquote",[t("p",[s._v("æœ€åï¼Œè®°ä½ï¼šä¾èµ–æ³¨å…¥ä¸æ˜¯é“¶å¼¹ï¼Œå®ƒåªæ˜¯å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´å¥½ä»£ç çš„å·¥å…·ã€‚åˆç†ä½¿ç”¨å®ƒï¼Œè€Œä¸æ˜¯æ»¥ç”¨å®ƒï¼Œæ‰èƒ½çœŸæ­£å‘æŒ¥å®ƒçš„ä»·å€¼ã€‚")])]),s._v(" "),t("p",[s._v("å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨Hiltã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼ğŸ‘‹")])])}),[],!1,null,null,null);t.default=e.exports}}]);