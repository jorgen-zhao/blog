(window.webpackJsonp=window.webpackJsonp||[]).push([[556],{907:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),t("p",[s._v("å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Jorgenï¼ä»Šå¤©æƒ³å’Œå¤§å®¶èŠä¸€ä¸ªåœ¨æ¶ˆæ¯é˜Ÿåˆ—ä½¿ç”¨ä¸­éå¸¸å…³é”®ä½†åˆå®¹æ˜“è¢«å¿½è§†çš„è¯é¢˜â€”â€”äº‹åŠ¡æ€§å¤„ç†ã€‚ğŸ¤”")]),s._v(" "),t("p",[s._v("åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¤„ç†è·¨æœåŠ¡çš„æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚æ¶ˆæ¯é˜Ÿåˆ—ä½œä¸ºè§£è€¦ç³»ç»Ÿã€å‰Šå³°å¡«è°·çš„é‡è¦å·¥å…·ï¼Œå…¶äº‹åŠ¡æ€§å¤„ç†èƒ½åŠ›ç›´æ¥å…³ç³»åˆ°ç³»ç»Ÿçš„å¯é æ€§ã€‚ç„¶è€Œï¼Œå¾ˆå¤šåŒå­¦åœ¨ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œå¾€å¾€åªå…³æ³¨åŸºæœ¬çš„æ¶ˆæ¯å‘é€å’Œæ¥æ”¶ï¼Œè€Œå¿½ç•¥äº†äº‹åŠ¡æ€§å¤„ç†è¿™ä¸ªæ ¸å¿ƒé—®é¢˜ã€‚")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),t("p",[s._v("æ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§å¤„ç†ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨ä¿è¯æ¶ˆæ¯å¯é æŠ•é€’çš„åŒæ—¶ï¼Œç¡®ä¿ä¸šåŠ¡æ“ä½œä¸æ¶ˆæ¯å¤„ç†çš„åŸå­æ€§ã€‚")])]),s._v(" "),t("p",[s._v("ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨æ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§å¤„ç†ï¼Œä»ç†è®ºåŸºç¡€åˆ°å®è·µåº”ç”¨ï¼Œå…¨æ–¹ä½è§£æè¿™ä¸ªé‡è¦æ¦‚å¿µã€‚")]),s._v(" "),t("h2",{attrs:{id:"æ¶ˆæ¯é˜Ÿåˆ—äº‹åŠ¡æ€§å¤„ç†çš„æ ¸å¿ƒæŒ‘æˆ˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯é˜Ÿåˆ—äº‹åŠ¡æ€§å¤„ç†çš„æ ¸å¿ƒæŒ‘æˆ˜"}},[s._v("#")]),s._v(" æ¶ˆæ¯é˜Ÿåˆ—äº‹åŠ¡æ€§å¤„ç†çš„æ ¸å¿ƒæŒ‘æˆ˜")]),s._v(" "),t("p",[s._v("åœ¨æ·±å…¥äº†è§£è§£å†³æ–¹æ¡ˆä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹æ¶ˆæ¯é˜Ÿåˆ—äº‹åŠ¡æ€§å¤„ç†é¢ä¸´çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼š")]),s._v(" "),t("h3",{attrs:{id:"ä¸šåŠ¡æ“ä½œä¸æ¶ˆæ¯æŠ•é€’çš„åŸå­æ€§é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸šåŠ¡æ“ä½œä¸æ¶ˆæ¯æŠ•é€’çš„åŸå­æ€§é—®é¢˜"}},[s._v("#")]),s._v(" ä¸šåŠ¡æ“ä½œä¸æ¶ˆæ¯æŠ•é€’çš„åŸå­æ€§é—®é¢˜")]),s._v(" "),t("p",[s._v("åœ¨å…¸å‹çš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š")]),s._v(" "),t("ol",[t("li",[s._v("æ‰§è¡Œæœ¬åœ°æ•°æ®åº“æ“ä½œ")]),s._v(" "),t("li",[s._v("å‘é€æ¶ˆæ¯åˆ°é˜Ÿåˆ—")])]),s._v(" "),t("p",[s._v("è¿™ä¸¤ä¸ªæ“ä½œéœ€è¦ä¿è¯åŸå­æ€§â€”â€”è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚å¦‚æœåªæˆåŠŸäº†ä¸€éƒ¨åˆ†ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚")]),s._v(" "),t("div",{staticClass:"language-mermaid line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-mermaid"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sequenceDiagram")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("participant")]),s._v(" ä¸šåŠ¡ç³»ç»Ÿ\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("participant")]),s._v(" æ•°æ®åº“\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("participant")]),s._v(" æ¶ˆæ¯é˜Ÿåˆ—\n    \n    ä¸šåŠ¡ç³»ç»Ÿ"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("->>")]),s._v("æ•°æ®åº“"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" æ‰§è¡Œæœ¬åœ°äº‹åŠ¡\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alt")]),s._v(" æˆåŠŸ\n        æ•°æ®åº“"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e>")]),s._v("ä¸šåŠ¡ç³»ç»Ÿ"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" è¿”å›æˆåŠŸ\n        ä¸šåŠ¡ç³»ç»Ÿ"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("->>")]),s._v("æ¶ˆæ¯é˜Ÿåˆ—"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" å‘é€æ¶ˆæ¯\n        æ¶ˆæ¯é˜Ÿåˆ—"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e>")]),s._v("ä¸šåŠ¡ç³»ç»Ÿ"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ç¡®è®¤æ¥æ”¶\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" å¤±è´¥\n        æ•°æ®åº“"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e>")]),s._v("ä¸šåŠ¡ç³»ç»Ÿ"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" è¿”å›å¤±è´¥\n        ä¸šåŠ¡ç³»ç»Ÿ"),t("span",{pre:!0,attrs:{class:"token arrow operator"}},[s._v("--\x3e>")]),s._v("ä¸šåŠ¡ç³»ç»Ÿ"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" å›æ»šæœ¬åœ°äº‹åŠ¡\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("end")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"æ¶ˆæ¯é‡å¤æŠ•é€’é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯é‡å¤æŠ•é€’é—®é¢˜"}},[s._v("#")]),s._v(" æ¶ˆæ¯é‡å¤æŠ•é€’é—®é¢˜")]),s._v(" "),t("p",[s._v("åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç½‘ç»œä¸ç¨³å®šã€æœåŠ¡é‡å¯ç­‰æƒ…å†µéƒ½å¯èƒ½å¯¼è‡´æ¶ˆæ¯é‡å¤æŠ•é€’ã€‚å¦‚ä½•ä¿è¯æ¶ˆæ¯å¤„ç†çš„å¹‚ç­‰æ€§ï¼Œæ˜¯ä¸€ä¸ªé‡è¦æŒ‘æˆ˜ã€‚")]),s._v(" "),t("h3",{attrs:{id:"æ¶ˆæ¯ä¸¢å¤±é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯ä¸¢å¤±é—®é¢˜"}},[s._v("#")]),s._v(" æ¶ˆæ¯ä¸¢å¤±é—®é¢˜")]),s._v(" "),t("p",[s._v("æ¶ˆæ¯ä»å‘é€åˆ°æ¶ˆè´¹çš„æ•´ä¸ªé“¾è·¯ä¸­ï¼Œä»»ä½•ä¸€ä¸ªç¯èŠ‚éƒ½å¯èƒ½å‡ºç°é—®é¢˜å¯¼è‡´æ¶ˆæ¯ä¸¢å¤±ï¼Œå¦‚ç½‘ç»œä¸­æ–­ã€æœåŠ¡å®•æœºç­‰ã€‚")]),s._v(" "),t("h2",{attrs:{id:"ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§è§£å†³æ–¹æ¡ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§è§£å†³æ–¹æ¡ˆ"}},[s._v("#")]),s._v(" ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§è§£å†³æ–¹æ¡ˆ")]),s._v(" "),t("p",[s._v("é’ˆå¯¹ä¸Šè¿°æŒ‘æˆ˜ï¼Œä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—äº§å“æä¾›äº†å„è‡ªçš„äº‹åŠ¡æ€§è§£å†³æ–¹æ¡ˆã€‚ä¸‹é¢æˆ‘ä»¬æ¥åˆ†æå‡ ç§ä¸»æµæ–¹æ¡ˆï¼š")]),s._v(" "),t("h3",{attrs:{id:"rabbitmqçš„äº‹åŠ¡æ€§å¤„ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmqçš„äº‹åŠ¡æ€§å¤„ç†"}},[s._v("#")]),s._v(" RabbitMQçš„äº‹åŠ¡æ€§å¤„ç†")]),s._v(" "),t("p",[s._v("RabbitMQæä¾›äº†ä¸¤ç§äº‹åŠ¡æ€§æœºåˆ¶ï¼š")]),s._v(" "),t("h4",{attrs:{id:"_1-txæ¨¡å¼"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-txæ¨¡å¼"}},[s._v("#")]),s._v(" 1. TXæ¨¡å¼")]),s._v(" "),t("p",[s._v("RabbitMQçš„TXæ¨¡å¼é€šè¿‡"),t("code",[s._v("channel.txSelect()")]),s._v("ã€"),t("code",[s._v("channel.txCommit()")]),s._v("å’Œ"),t("code",[s._v("channel.txRollback()")]),s._v("ä¸‰ä¸ªæ–¹æ³•å®ç°äº‹åŠ¡æ§åˆ¶ã€‚")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¼€å¯äº‹åŠ¡")]),s._v("\nchannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("txSelect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰§è¡Œæœ¬åœ°æ•°æ®åº“æ“ä½œ")]),s._v("\n    databaseService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("updateOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘é€æ¶ˆæ¯")]),s._v("\n    channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("basicPublish")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_queue"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æäº¤äº‹åŠ¡")]),s._v("\n    channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("txCommit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å›æ»šäº‹åŠ¡")]),s._v("\n    channel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("txRollback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤„ç†å¼‚å¸¸")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[t("strong",[s._v("ä¼˜ç‚¹")]),s._v("ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å®ç°ç®€å•ç›´è§‚")]),s._v(" "),t("li",[s._v("ä¿è¯äº†æœ¬åœ°äº‹åŠ¡å’Œæ¶ˆæ¯å‘é€çš„åŸå­æ€§")])]),s._v(" "),t("p",[t("strong",[s._v("ç¼ºç‚¹")]),s._v("ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("æ€§èƒ½å¼€é”€å¤§ï¼Œæ¯æ¡æ¶ˆæ¯éƒ½éœ€è¦ç­‰å¾…äº‹åŠ¡ç¡®è®¤")]),s._v(" "),t("li",[s._v("ä¸é€‚åˆé«˜ååé‡åœºæ™¯")])]),s._v(" "),t("h4",{attrs:{id:"_2-publisher-confirmæœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-publisher-confirmæœºåˆ¶"}},[s._v("#")]),s._v(" 2. Publisher Confirmæœºåˆ¶")]),s._v(" "),t("p",[s._v("ä¸ºäº†è§£å†³TXæ¨¡å¼çš„æ€§èƒ½é—®é¢˜ï¼ŒRabbitMQæä¾›äº†Publisher Confirmæœºåˆ¶ï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¼€å¯confirmæ¨¡å¼")]),s._v("\nchannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("confirmSelect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ·»åŠ confirmç›‘å¬å™¨")]),s._v("\nchannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConfirmListener")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deliveryTag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" multiple"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¶ˆæ¯ç¡®è®¤æˆåŠŸ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("deliveryTag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" multiple"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ¶ˆæ¯ç¡®è®¤å¤±è´¥ï¼Œå¯ä»¥é‡è¯•æˆ–è®°å½•æ—¥å¿—")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰§è¡Œæœ¬åœ°æ•°æ®åº“æ“ä½œ")]),s._v("\ndatabaseService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("updateOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘é€æ¶ˆæ¯")]),s._v("\nchannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("basicPublish")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_queue"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBytes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ç­‰å¾…ç¡®è®¤")]),s._v("\nchannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("waitForConfirms")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h3",{attrs:{id:"kafkaçš„äº‹åŠ¡æ€§å¤„ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kafkaçš„äº‹åŠ¡æ€§å¤„ç†"}},[s._v("#")]),s._v(" Kafkaçš„äº‹åŠ¡æ€§å¤„ç†")]),s._v(" "),t("p",[s._v("Kafkaä»0.11ç‰ˆæœ¬å¼€å§‹æ­£å¼æ”¯æŒäº‹åŠ¡ï¼Œæä¾›äº†æ›´å¼ºå¤§çš„äº‹åŠ¡èƒ½åŠ›ï¼š")]),s._v(" "),t("h4",{attrs:{id:"_1-äº‹åŠ¡apiä½¿ç”¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-äº‹åŠ¡apiä½¿ç”¨"}},[s._v("#")]),s._v(" 1. äº‹åŠ¡APIä½¿ç”¨")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// é…ç½®ç”Ÿäº§è€…äº‹åŠ¡")]),s._v("\nproperties"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"transactional.id"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my-transactional-id"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åˆå§‹åŒ–äº‹åŠ¡")]),s._v("\nproducer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("initTransactions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¼€å§‹äº‹åŠ¡")]),s._v("\n    producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("beginTransaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰§è¡Œæœ¬åœ°æ•°æ®åº“æ“ä½œ")]),s._v("\n    databaseService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("updateOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("order"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘é€æ¶ˆæ¯")]),s._v("\n    producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ProducerRecord")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_topic"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_key"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" orderData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æäº¤äº‹åŠ¡")]),s._v("\n    producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("commitTransaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä¸­æ­¢äº‹åŠ¡")]),s._v("\n    producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("abortTransaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h4",{attrs:{id:"_2-äº‹åŠ¡åŸç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-äº‹åŠ¡åŸç†"}},[s._v("#")]),s._v(" 2. äº‹åŠ¡åŸç†")]),s._v(" "),t("p",[s._v("Kafkaçš„äº‹åŠ¡åŸç†åŸºäºä»¥ä¸‹æœºåˆ¶ï¼š")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("äº‹åŠ¡åè°ƒå™¨")]),s._v("ï¼šæ¯ä¸ªäº‹åŠ¡åè°ƒå™¨è´Ÿè´£ç®¡ç†ä¸€ç»„ç”Ÿäº§è€…çš„äº‹åŠ¡çŠ¶æ€")]),s._v(" "),t("li",[t("strong",[s._v("äº‹åŠ¡æ—¥å¿—")]),s._v("ï¼šè®°å½•äº‹åŠ¡çš„æäº¤å’Œå›æ»šçŠ¶æ€")]),s._v(" "),t("li",[t("strong",[s._v("å¹‚ç­‰ç”Ÿäº§è€…")]),s._v("ï¼šé¿å…æ¶ˆæ¯é‡å¤å‘é€")])]),s._v(" "),t("h3",{attrs:{id:"rocketmqçš„äº‹åŠ¡æ€§å¤„ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rocketmqçš„äº‹åŠ¡æ€§å¤„ç†"}},[s._v("#")]),s._v(" RocketMQçš„äº‹åŠ¡æ€§å¤„ç†")]),s._v(" "),t("p",[s._v("RocketMQæä¾›äº†å®Œæ•´çš„äº‹åŠ¡æ¶ˆæ¯æœºåˆ¶ï¼Œæ˜¯ä¸šç•Œè¾ƒä¸ºæˆç†Ÿçš„äº‹åŠ¡æ€§è§£å†³æ–¹æ¡ˆï¼š")]),s._v(" "),t("h4",{attrs:{id:"_1-äº‹åŠ¡æ¶ˆæ¯æµç¨‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-äº‹åŠ¡æ¶ˆæ¯æµç¨‹"}},[s._v("#")]),s._v(" 1. äº‹åŠ¡æ¶ˆæ¯æµç¨‹")]),s._v(" "),t("p",[s._v('RocketMQçš„äº‹åŠ¡æ¶ˆæ¯é‡‡ç”¨"ä¸¤é˜¶æ®µæäº¤"æ¨¡å¼ï¼š')]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("å‘é€åŠæ¶ˆæ¯")]),s._v('ï¼šå…ˆå‘é€ä¸€æ¡æ ‡è®°ä¸º"å¾…ç¡®è®¤"çš„æ¶ˆæ¯')]),s._v(" "),t("li",[t("strong",[s._v("æ‰§è¡Œæœ¬åœ°äº‹åŠ¡")]),s._v("ï¼šæ‰§è¡Œä¸šåŠ¡é€»è¾‘")]),s._v(" "),t("li",[t("strong",[s._v("æäº¤æˆ–å›æ»š")]),s._v("ï¼šæ ¹æ®æœ¬åœ°äº‹åŠ¡ç»“æœï¼Œæäº¤æˆ–å›æ»šæ¶ˆæ¯")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å‘é€åŠæ¶ˆæ¯")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SendResult")]),s._v(" sendResult "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Message")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_topic"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"order_key"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" orderData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SendCallback")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onSuccess")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SendResult")]),s._v(" sendResult"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰§è¡Œæœ¬åœ°äº‹åŠ¡")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),s._v(" state "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeLocalTransaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orderData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æäº¤äº‹åŠ¡çŠ¶æ€")]),s._v("\n            producer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sendTransactionResult")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Transaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sendResult"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMsgId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" state"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("onException")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤„ç†å¼‚å¸¸")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h4",{attrs:{id:"_2-äº‹åŠ¡å›æŸ¥æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-äº‹åŠ¡å›æŸ¥æœºåˆ¶"}},[s._v("#")]),s._v(" 2. äº‹åŠ¡å›æŸ¥æœºåˆ¶")]),s._v(" "),t("p",[s._v("å¦‚æœæ¶ˆæ¯å‘é€æ–¹åœ¨æŒ‡å®šæ—¶é—´å†…æœªæäº¤äº‹åŠ¡çŠ¶æ€ï¼ŒRocketMQä¼šä¸»åŠ¨å›æŸ¥æ¶ˆæ¯çŠ¶æ€ï¼š")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("executeLocalTransaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Message")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" arg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderData")]),s._v(" orderData "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" arg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰§è¡Œæœ¬åœ°äº‹åŠ¡")]),s._v("\n        databaseService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("updateOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orderData"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COMMIT_MESSAGE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// äº‹åŠ¡å¤±è´¥")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ROLLBACK_MESSAGE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("checkLocalTransaction")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MessageExt")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å›æŸ¥æœ¬åœ°äº‹åŠ¡çŠ¶æ€")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" orderId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" msg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getKeys")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderStatus")]),s._v(" status "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" databaseService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOrderStatus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("status "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderStatus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SUCCESS")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COMMIT_MESSAGE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("status "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OrderStatus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("FAILED")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("ROLLBACK_MESSAGE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocalTransactionState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("UNKNOW")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br")])]),t("h2",{attrs:{id:"äº‹åŠ¡æ€§å¤„ç†çš„æœ€ä½³å®è·µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#äº‹åŠ¡æ€§å¤„ç†çš„æœ€ä½³å®è·µ"}},[s._v("#")]),s._v(" äº‹åŠ¡æ€§å¤„ç†çš„æœ€ä½³å®è·µ")]),s._v(" "),t("p",[s._v("åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¦‚ä½•æ­£ç¡®ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§èƒ½åŠ›å‘¢ï¼Ÿä»¥ä¸‹æ˜¯ä¸€äº›æœ€ä½³å®è·µï¼š")]),s._v(" "),t("h3",{attrs:{id:"_1-æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ"}},[s._v("#")]),s._v(" 1. æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ")]),s._v(" "),t("p",[s._v("ä¸åŒçš„ä¸šåŠ¡åœºæ™¯å¯¹äº‹åŠ¡æ€§è¦æ±‚ä¸åŒï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("é‡‘èã€ç”µå•†ç­‰å…³é”®ä¸šåŠ¡")]),s._v("ï¼šå¿…é¡»ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œå»ºè®®ä½¿ç”¨RocketMQæˆ–Kafkaçš„äº‹åŠ¡æœºåˆ¶")]),s._v(" "),t("li",[t("strong",[s._v("æ—¥å¿—ã€ç›‘æ§ç­‰éå…³é”®ä¸šåŠ¡")]),s._v("ï¼šå¯ä»¥é‡‡ç”¨æœ€ç»ˆä¸€è‡´æ€§ï¼Œé€šè¿‡é‡è¯•å’Œè¡¥å¿æœºåˆ¶ä¿è¯æ•°æ®æ­£ç¡®æ€§")])]),s._v(" "),t("h3",{attrs:{id:"_2-å¤„ç†æ¶ˆæ¯é‡å¤é—®é¢˜"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¤„ç†æ¶ˆæ¯é‡å¤é—®é¢˜"}},[s._v("#")]),s._v(" 2. å¤„ç†æ¶ˆæ¯é‡å¤é—®é¢˜")]),s._v(" "),t("p",[s._v("æ— è®ºä½¿ç”¨å“ªç§æ¶ˆæ¯é˜Ÿåˆ—ï¼Œéƒ½éœ€è¦è€ƒè™‘æ¶ˆæ¯é‡å¤é—®é¢˜ã€‚å¸¸è§çš„è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ï¼š")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("ä¸šåŠ¡å¹‚ç­‰è®¾è®¡")]),s._v("ï¼šåœ¨æ¶ˆè´¹ç«¯å®ç°å¹‚ç­‰å¤„ç†")]),s._v(" "),t("li",[t("strong",[s._v("å”¯ä¸€é”®çº¦æŸ")]),s._v("ï¼šåœ¨æ•°æ®åº“å±‚é¢ä½¿ç”¨å”¯ä¸€é”®çº¦æŸ")]),s._v(" "),t("li",[t("strong",[s._v("å»é‡è¡¨")]),s._v("ï¼šç»´æŠ¤ä¸€ä¸ªå·²å¤„ç†æ¶ˆæ¯çš„è®°å½•è¡¨")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¹‚ç­‰æ¶ˆè´¹ç¤ºä¾‹")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("consumeOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Message")]),s._v(" message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" orderId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" message"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getKeys")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ£€æŸ¥æ˜¯å¦å·²å¤„ç†")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("processedOrderRepository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("existsById")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å·²å¤„ç†ï¼Œç›´æ¥è¿”å›")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å¤„ç†è®¢å•")]),s._v("\n    orderService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("processOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è®°å½•å·²å¤„ç†")]),s._v("\n    processedOrderRepository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ProcessedOrder")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("orderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"_3-åˆç†è®¾ç½®äº‹åŠ¡è¶…æ—¶æ—¶é—´"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆç†è®¾ç½®äº‹åŠ¡è¶…æ—¶æ—¶é—´"}},[s._v("#")]),s._v(" 3. åˆç†è®¾ç½®äº‹åŠ¡è¶…æ—¶æ—¶é—´")]),s._v(" "),t("p",[s._v("äº‹åŠ¡è¶…æ—¶æ—¶é—´è®¾ç½®è¿‡çŸ­å¯èƒ½å¯¼è‡´äº‹åŠ¡æœªå®Œæˆå°±è¢«å›æ»šï¼›è®¾ç½®è¿‡é•¿åˆ™å¯èƒ½å½±å“ç³»ç»Ÿæ¢å¤èƒ½åŠ›ã€‚åº”æ ¹æ®ä¸šåŠ¡æ‰§è¡Œæ—¶é—´åˆç†è®¾ç½®ã€‚")]),s._v(" "),t("h3",{attrs:{id:"_4-å®ç°å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-å®ç°å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦"}},[s._v("#")]),s._v(" 4. å®ç°å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦")]),s._v(" "),t("p",[s._v("å¯¹äº‹åŠ¡æ€§æ¶ˆæ¯çš„å¤„ç†çŠ¶æ€è¿›è¡Œç›‘æ§ï¼ŒåŠæ—¶å‘ç°å¹¶å¤„ç†å¼‚å¸¸æƒ…å†µï¼š")]),s._v(" "),t("ul",[t("li",[s._v("äº‹åŠ¡æˆåŠŸç‡ç›‘æ§")]),s._v(" "),t("li",[s._v("äº‹åŠ¡è¶…æ—¶ç›‘æ§")]),s._v(" "),t("li",[s._v("æ¶ˆç§¯æ¶ˆæ¯ç›‘æ§")]),s._v(" "),t("li",[s._v("å›æŸ¥å¤±è´¥ç›‘æ§")])]),s._v(" "),t("h2",{attrs:{id:"ç»“è¯­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[s._v("#")]),s._v(" ç»“è¯­")]),s._v(" "),t("p",[s._v("é€šè¿‡ä»Šå¤©çš„åˆ†äº«ï¼Œæˆ‘ä»¬æ·±å…¥æ¢è®¨äº†æ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§å¤„ç†ï¼Œä»æ ¸å¿ƒæŒ‘æˆ˜åˆ°ä¸»æµè§£å†³æ–¹æ¡ˆï¼Œå†åˆ°æœ€ä½³å®è·µã€‚"),t("s",[s._v("è¯´å®è¯ï¼Œè¿™ä¸ªä¸»é¢˜ä¸€å¼€å§‹æˆ‘ä¹Ÿè§‰å¾—æœ‰ç‚¹å¤æ‚ï¼Œä½†æ·±å…¥ç†è§£åå‘ç°å®ƒçœŸçš„å¾ˆé‡è¦ï¼")])]),s._v(" "),t("p",[s._v("åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘ä¸­ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§å¤„ç†èƒ½åŠ›ç›´æ¥å…³ç³»åˆ°ç³»ç»Ÿçš„å¯é æ€§å’Œæ•°æ®ä¸€è‡´æ€§ã€‚ä¸åŒçš„æ¶ˆæ¯é˜Ÿåˆ—äº§å“æä¾›äº†å„è‡ªçš„äº‹åŠ¡æ€§è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆï¼Œå¹¶æ­£ç¡®å¤„ç†æ¶ˆæ¯é‡å¤ã€è¶…æ—¶ç­‰é—®é¢˜ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("æ¶ˆæ¯é˜Ÿåˆ—çš„äº‹åŠ¡æ€§å¤„ç†ä¸æ˜¯é“¶å¼¹ï¼Œè€Œæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸€è‡´æ€§ä¿éšœçš„é‡è¦æ‰‹æ®µã€‚åˆç†ä½¿ç”¨äº‹åŠ¡æ€§èƒ½åŠ›ï¼Œç»“åˆä¸šåŠ¡åœºæ™¯è®¾è®¡ï¼Œæ‰èƒ½æ„å»ºå‡ºçœŸæ­£å¯é çš„ç³»ç»Ÿã€‚")])]),s._v(" "),t("p",[s._v("å¸Œæœ›ä»Šå¤©çš„åˆ†äº«å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚æˆ‘ä»¬ä¸‹æœŸå†è§ï¼ğŸ˜Š")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v('"åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæ²¡æœ‰é“¶å¼¹ï¼Œåªæœ‰æƒè¡¡ä¸é€‰æ‹©"')])])])}),[],!1,null,null,null);t.default=e.exports}}]);