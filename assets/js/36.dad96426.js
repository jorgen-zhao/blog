(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{388:function(s,a,t){"use strict";t.r(a);var e=t(15),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"github-flow介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-flow介绍"}},[s._v("#")]),s._v(" GitHub flow介绍")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("介绍")]),s._v(" "),a("p",[s._v("GitHub flow是由Scott Chacon于2011年提出的代码分支管理模型，这是GitHub官方推荐的开发流程，以快速部署为目标，目前大部分开源项目都遵循这一流程。")])]),s._v(" "),a("p",[a("a",{attrs:{href:"https://githubflow.github.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github flow"),a("OutboundLink")],1),s._v("最大的特点是只有一个长期分支，即主分支"),a("code",[s._v("master")]),s._v("，且主分支始终保持可发布状态。从"),a("code",[s._v("master")]),s._v("上创建新分支进行功能开发、问题修复等，这些分支通过"),a("code",[s._v("pull request")]),s._v("将代码合并到"),a("code",[s._v("master")]),s._v("。")]),s._v(" "),a("p",[s._v("为了保证主分支的代码质量，"),a("code",[s._v("master")]),s._v("的权限只开放给一部分人。"),a("code",[s._v("Pull request")]),s._v("是请求别人"),a("code",[s._v("pull")]),s._v("你的代码库（"),a("code",[s._v("repository")]),s._v("），也就是把开发分支的代码经过代码评审并通过测试后，让有权限的管理员合并回"),a("code",[s._v("master")]),s._v("。")]),s._v(" "),a("p",[s._v("不过在实际情况中，代码评审不可能检查出提交的代码中的所有问题，所以对于每次提交的代码进行自动化测试，主分支代码的自动化部署尤其重要，自动化测试能在产品部署前及时发现一部分问题，如果产品部署之后发现严重问题，自动化部署可以在最短时间内把产品回滚到上一个版本。\n"),a("img",{attrs:{src:"/dev/40/1.webp",alt:"Github flow"}})]),s._v(" "),a("div",{staticClass:"custom-block note"},[a("p",{staticClass:"custom-block-title"},[s._v("优点")]),s._v(" "),a("p",[s._v("流程简单灵活，不需要考虑及管理太多的分支，适用于需要快速集成及持续发布的项目，这类项目可能需要每天发布一个版本，甚至一天发布多个版本。")])]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("缺点")]),s._v(" "),a("p",[s._v("但是对于应用场景比较复杂的情况，例如：多个环境下的产品部署，多个版本的发布或问题修复，只有一个master便会显得力不从心。")])]),s._v(" "),a("h2",{attrs:{id:"git合并分支"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git合并分支"}},[s._v("#")]),s._v(" Git合并分支")]),s._v(" "),a("ol",[a("li",[s._v("首先切换到master分支上")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("  checkout master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("如果是多人开发的话 需要把远程master上的代码pull下来")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" pull origin master // 如果是自己一个开发就没有必要了，为了保险期间还是pull\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[s._v("然后我们把dev分支的代码合并到master上")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("  merge dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ol",{attrs:{start:"4"}},[a("li",[s._v("然后查看状态及执行提交命令")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" status\n\nOn branch master\nYour branch is ahead of "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'origin/master'")]),s._v(" by "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" commits.\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("use "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"git push"')]),s._v(" to publish your "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" commits"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnothing to commit, working tree clean\n\n//上面的意思就是你有12个commit，需要push到远程master上\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" 最后执行下面提交命令\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin master\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("ol",{attrs:{start:"5"}},[a("li",[s._v("其他命令")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新远程分支列表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" remote update origin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--prune")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有分支")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除远程分支Chapater6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--delete")]),s._v(" Chapater6\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除本地分支 Chapater6")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" branch "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v("  Chapater6\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h2",{attrs:{id:"git操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git操作"}},[s._v("#")]),s._v(" Git操作")]),s._v(" "),a("p",[a("strong",[s._v("git commit之后，想撤销commit")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这样就成功的撤销了你的commit 注意，仅仅是撤回commit操作，您写的代码仍然保留。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--soft")]),s._v(" HEAD^  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HEAD^的意思是上一个版本，也可以写成HEAD~1 如果你进行了2次commit，想都撤回，可以使用HEAD~2")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--mixed")]),s._v("\n意思是：不删除工作空间改动代码，撤销commit，并且撤销git "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" 操作 这个为默认参数：git reset "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--mixed")]),s._v(" HEAD^ 和 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" reset HEAD^ 效果是一样的。\n\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--soft")]),s._v("\n不删除工作空间改动代码，撤销commit，不撤销git add。\n\n"),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--hard")]),s._v("\n删除工作空间改动代码，撤销commit，撤销git add，注意完成这个操作后，就恢复到了上一次的commit状态。\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--amend")]),s._v("\n顺便说一下，如果commit注释写错了，只是想改一下注释，只需要：此时会进入默认vim编辑器，修改注释完毕后保存就好了。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h2",{attrs:{id:"参考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[s._v("#")]),s._v(" 参考")]),s._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/fc3b3bce5d8a",target:"_blank",rel:"noopener noreferrer"}},[s._v("代码分支管理"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.jianshu.com/p/26d050497abb",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git合并分支"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);