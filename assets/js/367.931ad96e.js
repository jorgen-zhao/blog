(window.webpackJsonp=window.webpackJsonp||[]).push([[367],{716:function(s,t,a){"use strict";a.r(t);var r=a(15),n=Object(r.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),t("p",[s._v("ä½œä¸ºä¸€åç»å¸¸ä¸æ•°æ®åº“æ‰“äº¤é“çš„å¼€å‘è€…ï¼Œæˆ‘ç»å¸¸é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼š"),t("s",[s._v("æ˜æ˜åŠ äº†ç´¢å¼•ï¼ŒæŸ¥è¯¢è¿˜æ˜¯æ…¢å¾—åƒèœ—ç‰›çˆ¬è¡Œ")]),s._v('ã€‚ğŸŒ è¿™æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿæ·±å…¥ç†è§£æ•°æ®åº“çš„æ‰§è¡Œè®¡åˆ’ï¼Œå°±èƒ½åƒä¾¦æ¢ä¸€æ ·ï¼Œæ‰¾å‡ºSQLæ€§èƒ½é—®é¢˜çš„çœŸæ­£"å‡¶æ‰‹"ã€‚')]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),t("p",[s._v('æ‰§è¡Œè®¡åˆ’æ˜¯æ•°æ®åº“å¼•æ“æ‰§è¡ŒæŸ¥è¯¢çš„è¯¦ç»†è·¯çº¿å›¾ï¼Œç†è§£å®ƒå°±åƒæ˜¯æ‹¥æœ‰äº†æ•°æ®åº“çš„"å†…éƒ¨è¯´æ˜ä¹¦"ã€‚')])]),s._v(" "),t("p",[s._v("åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†åˆ†äº«å¦‚ä½•åˆ†ææ•°æ®åº“æ‰§è¡Œè®¡åˆ’ï¼Œä»¥åŠå¦‚ä½•åŸºäºæ‰§è¡Œè®¡åˆ’è¿›è¡Œæœ‰æ•ˆçš„æŸ¥è¯¢ä¼˜åŒ–ã€‚æ— è®ºä½ æ˜¯å¼€å‘äººå‘˜è¿˜æ˜¯DBAï¼Œè¿™äº›æŠ€å·§éƒ½èƒ½å¸®ä½ è§£å†³é‚£äº›ä»¤äººå¤´ç–¼çš„æ€§èƒ½é—®é¢˜ã€‚")]),s._v(" "),t("h2",{attrs:{id:"æ‰§è¡Œè®¡åˆ’åŸºç¡€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œè®¡åˆ’åŸºç¡€"}},[s._v("#")]),s._v(" æ‰§è¡Œè®¡åˆ’åŸºç¡€")]),s._v(" "),t("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯æ‰§è¡Œè®¡åˆ’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯æ‰§è¡Œè®¡åˆ’"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯æ‰§è¡Œè®¡åˆ’ï¼Ÿ")]),s._v(" "),t("p",[s._v("æ‰§è¡Œè®¡åˆ’(Execution Plan)æ˜¯æ•°æ®åº“å¼•æ“è§£æã€ä¼˜åŒ–å’Œæ‰§è¡ŒSQLæŸ¥è¯¢çš„å…·ä½“æ­¥éª¤çš„æè¿°ã€‚å®ƒå‘Šè¯‰æˆ‘ä»¬æ•°æ®åº“å°†å¦‚ä½•æ‰§è¡Œæˆ‘ä»¬çš„æŸ¥è¯¢ï¼ŒåŒ…æ‹¬ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("è¡¨çš„è®¿é—®æ–¹å¼ï¼ˆå…¨è¡¨æ‰«æã€ç´¢å¼•æ‰«æç­‰ï¼‰")]),s._v(" "),t("li",[s._v("è¿æ¥æ“ä½œçš„æ–¹å¼ï¼ˆåµŒå¥—å¾ªç¯ã€å“ˆå¸Œè¿æ¥ã€åˆå¹¶è¿æ¥ç­‰ï¼‰")]),s._v(" "),t("li",[s._v("æ’åºå’Œåˆ†ç»„æ“ä½œ")]),s._v(" "),t("li",[s._v("ä½¿ç”¨çš„ç´¢å¼•")]),s._v(" "),t("li",[s._v("é¢„ä¼°çš„è¡Œæ•°å’Œæˆæœ¬")])]),s._v(" "),t("h3",{attrs:{id:"å¦‚ä½•è·å–æ‰§è¡Œè®¡åˆ’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•è·å–æ‰§è¡Œè®¡åˆ’"}},[s._v("#")]),s._v(" å¦‚ä½•è·å–æ‰§è¡Œè®¡åˆ’")]),s._v(" "),t("p",[s._v("ä¸åŒæ•°æ®åº“ç³»ç»Ÿè·å–æ‰§è¡Œè®¡åˆ’çš„æ–¹å¼ç•¥æœ‰ä¸åŒï¼š")]),s._v(" "),t("p",[t("strong",[s._v("MySQL/MariaDB:")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPLAIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("PostgreSQL:")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPLAIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ANALYZE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[s._v("Oracle:")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPLAIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PLAN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TABLE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("DBMS_XPLAN"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DISPLAY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("SQL Server:")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" SHOWPLAN_TEXT "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nGO\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nGO\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"æ‰§è¡Œè®¡åˆ’çš„å…³é”®æŒ‡æ ‡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œè®¡åˆ’çš„å…³é”®æŒ‡æ ‡"}},[s._v("#")]),s._v(" æ‰§è¡Œè®¡åˆ’çš„å…³é”®æŒ‡æ ‡")]),s._v(" "),t("h3",{attrs:{id:"_1-è®¿é—®è·¯å¾„-access-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-è®¿é—®è·¯å¾„-access-path"}},[s._v("#")]),s._v(" 1. è®¿é—®è·¯å¾„(Access Path)")]),s._v(" "),t("p",[s._v("æ‰§è¡Œè®¡åˆ’ä¸­æœ€å…³é”®çš„éƒ¨åˆ†æ˜¯è¡¨è®¿é—®è·¯å¾„ï¼Œå¸¸è§çš„è®¿é—®æ–¹å¼åŒ…æ‹¬ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("å…¨è¡¨æ‰«æ(Table Scan)")]),s._v("ï¼šæ•°æ®åº“è¯»å–è¡¨ä¸­çš„æ‰€æœ‰è¡Œ")]),s._v(" "),t("li",[t("strong",[s._v("ç´¢å¼•æ‰«æ(Index Scan)")]),s._v("ï¼šé€šè¿‡ç´¢å¼•æŸ¥æ‰¾æ•°æ®")]),s._v(" "),t("li",[t("strong",[s._v("ç´¢å¼•èŒƒå›´æ‰«æ(Index Range Scan)")]),s._v("ï¼šæŸ¥æ‰¾ç´¢å¼•ä¸­æŸä¸ªèŒƒå›´å†…çš„æ•°æ®")]),s._v(" "),t("li",[t("strong",[s._v("ç´¢å¼•å”¯ä¸€æ‰«æ(Index Unique Scan)")]),s._v("ï¼šé€šè¿‡å”¯ä¸€ç´¢å¼•æŸ¥æ‰¾ç‰¹å®šå€¼")])]),s._v(" "),t("div",{staticClass:"custom-block theorem"},[t("p",{staticClass:"title"},[s._v("THEOREM")]),t("p",[s._v("å…¨è¡¨æ‰«æé€šå¸¸æ„å‘³ç€æ€§èƒ½é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤§å‹è¡¨ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢åº”è¯¥ä½¿ç”¨åˆé€‚çš„ç´¢å¼•æ¥é¿å…å…¨è¡¨æ‰«æã€‚")])]),t("h3",{attrs:{id:"_2-è¿æ¥ç±»å‹-join-type"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¿æ¥ç±»å‹-join-type"}},[s._v("#")]),s._v(" 2. è¿æ¥ç±»å‹(Join Type)")]),s._v(" "),t("p",[s._v("å½“æŸ¥è¯¢æ¶‰åŠå¤šè¡¨è¿æ¥æ—¶ï¼Œæ‰§è¡Œè®¡åˆ’ä¼šæ˜¾ç¤ºä½¿ç”¨çš„è¿æ¥ç®—æ³•ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("åµŒå¥—å¾ªç¯è¿æ¥(Nested Loop Join)")]),s._v("ï¼šé€‚åˆå°è¡¨é©±åŠ¨å¤§è¡¨")]),s._v(" "),t("li",[t("strong",[s._v("å“ˆå¸Œè¿æ¥(Hash Join)")]),s._v("ï¼šé€‚åˆå¤§æ•°æ®é‡çš„ç­‰å€¼è¿æ¥")]),s._v(" "),t("li",[t("strong",[s._v("åˆå¹¶è¿æ¥(Merge Join)")]),s._v("ï¼šé€‚åˆå·²æ’åºæ•°æ®çš„è¿æ¥")])]),s._v(" "),t("h3",{attrs:{id:"_3-æˆæœ¬ä¼°ç®—-cost-estimation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-æˆæœ¬ä¼°ç®—-cost-estimation"}},[s._v("#")]),s._v(" 3. æˆæœ¬ä¼°ç®—(Cost Estimation)")]),s._v(" "),t("p",[s._v("æ‰§è¡Œè®¡åˆ’é€šå¸¸ä¼šæ˜¾ç¤ºæ¯ä¸ªæ“ä½œçš„æˆæœ¬ä¼°ç®—ï¼Œæˆæœ¬è¶Šä½è¡¨ç¤ºæ•°æ®åº“è®¤ä¸ºè¯¥æ‰§è¡Œè·¯å¾„è¶Šé«˜æ•ˆã€‚")]),s._v(" "),t("h2",{attrs:{id:"å¸¸è§æ€§èƒ½é—®é¢˜åŠä¼˜åŒ–ç­–ç•¥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§æ€§èƒ½é—®é¢˜åŠä¼˜åŒ–ç­–ç•¥"}},[s._v("#")]),s._v(" å¸¸è§æ€§èƒ½é—®é¢˜åŠä¼˜åŒ–ç­–ç•¥")]),s._v(" "),t("h3",{attrs:{id:"é—®é¢˜1-å…¨è¡¨æ‰«æ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜1-å…¨è¡¨æ‰«æ"}},[s._v("#")]),s._v(" é—®é¢˜1ï¼šå…¨è¡¨æ‰«æ")]),s._v(" "),t("p",[t("strong",[s._v("ç—‡çŠ¶")]),s._v('ï¼šæ‰§è¡Œè®¡åˆ’æ˜¾ç¤º"ALL"æˆ–"Seq Scan"')]),s._v(" "),t("p",[t("strong",[s._v("æ¡ˆä¾‹ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ä½æ•ˆæŸ¥è¯¢")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orders "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" customer_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("è§£å†³æ–¹æ¡ˆï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ä¸ºcustomer_idåˆ›å»ºç´¢å¼•")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" idx_orders_customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" orders"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customer_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"é—®é¢˜2-ç´¢å¼•å¤±æ•ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜2-ç´¢å¼•å¤±æ•ˆ"}},[s._v("#")]),s._v(" é—®é¢˜2ï¼šç´¢å¼•å¤±æ•ˆ")]),s._v(" "),t("p",[t("strong",[s._v("ç—‡çŠ¶")]),s._v("ï¼šæ˜æ˜æœ‰ç´¢å¼•ï¼Œä½†æ‰§è¡Œè®¡åˆ’ä»ä½¿ç”¨å…¨è¡¨æ‰«æ")]),s._v(" "),t("p",[t("strong",[s._v("å¸¸è§åŸå› ï¼š")])]),s._v(" "),t("ul",[t("li",[s._v("åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨å‡½æ•°")]),s._v(" "),t("li",[s._v("ä½¿ç”¨äº†ä¸ç­‰äºæ“ä½œç¬¦(!=, <>)")]),s._v(" "),t("li",[s._v("ä½¿ç”¨äº†ORæ¡ä»¶")]),s._v(" "),t("li",[s._v("ä½¿ç”¨äº†LIKE '%pattern'ï¼ˆå‰å¯¼é€šé…ç¬¦ï¼‰")])]),s._v(" "),t("p",[t("strong",[s._v("æ¡ˆä¾‹ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ç´¢å¼•å¤±æ•ˆçš„æŸ¥è¯¢")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%john%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[t("strong",[s._v("è§£å†³æ–¹æ¡ˆï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- é‡å†™æŸ¥è¯¢æˆ–ä½¿ç”¨å…¨æ–‡ç´¢å¼•")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("LIKE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'john%'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"é—®é¢˜3-è¿æ¥é¡ºåºä¸å½“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜3-è¿æ¥é¡ºåºä¸å½“"}},[s._v("#")]),s._v(" é—®é¢˜3ï¼šè¿æ¥é¡ºåºä¸å½“")]),s._v(" "),t("p",[t("strong",[s._v("ç—‡çŠ¶")]),s._v("ï¼šå¤æ‚å¤šè¡¨æŸ¥è¯¢æ€§èƒ½å·®")]),s._v(" "),t("p",[t("strong",[s._v("æ¡ˆä¾‹ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ä½æ•ˆçš„å¤šè¡¨æŸ¥è¯¢")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orders o\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" customers c "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" products p "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("product_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("country "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'USA'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'pending'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[t("strong",[s._v("ä¼˜åŒ–ç­–ç•¥ï¼š")])]),s._v(" "),t("ol",[t("li",[s._v("ç¡®ä¿è¿æ¥æ¡ä»¶æœ‰ç´¢å¼•")]),s._v(" "),t("li",[s._v("è€ƒè™‘è¿æ¥é¡ºåºï¼ˆå°è¡¨é©±åŠ¨å¤§è¡¨ï¼‰")]),s._v(" "),t("li",[s._v("å¯¹äºå¤§æ•°æ®é‡ï¼Œè€ƒè™‘ä½¿ç”¨ä¸´æ—¶è¡¨æˆ–ç‰©åŒ–è§†å›¾")])]),s._v(" "),t("h2",{attrs:{id:"é«˜çº§æ‰§è¡Œè®¡åˆ’åˆ†ææŠ€å·§"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é«˜çº§æ‰§è¡Œè®¡åˆ’åˆ†ææŠ€å·§"}},[s._v("#")]),s._v(" é«˜çº§æ‰§è¡Œè®¡åˆ’åˆ†ææŠ€å·§")]),s._v(" "),t("h3",{attrs:{id:"_1-ä½¿ç”¨explain-analyze"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä½¿ç”¨explain-analyze"}},[s._v("#")]),s._v(" 1. ä½¿ç”¨EXPLAIN ANALYZE")]),s._v(" "),t("p",[t("code",[s._v("EXPLAIN ANALYZE")]),s._v("ä¸ä»…æ˜¾ç¤ºæ‰§è¡Œè®¡åˆ’ï¼Œè¿˜ä¼šå®é™…æ‰§è¡ŒæŸ¥è¯¢å¹¶è¿”å›å®é™…æ‰§è¡Œæ—¶é—´å’Œè¡Œæ•°ï¼Œè¿™å¯¹äºè¯„ä¼°è®¡åˆ’çš„çœŸå®æ€§èƒ½éå¸¸æœ‰ä»·å€¼ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("PostgreSQLç¤ºä¾‹ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPLAIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ANALYZE")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orders \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" customer_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" order_date "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2023-01-01'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_2-æ£€æŸ¥é¢„ä¼°ä¸å®é™…çš„å·®å¼‚"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ£€æŸ¥é¢„ä¼°ä¸å®é™…çš„å·®å¼‚"}},[s._v("#")]),s._v(" 2. æ£€æŸ¥é¢„ä¼°ä¸å®é™…çš„å·®å¼‚")]),s._v(" "),t("p",[s._v("æ•°æ®åº“çš„ä¼˜åŒ–å™¨åŸºäºç»Ÿè®¡ä¿¡æ¯é¢„ä¼°è¡Œæ•°ï¼Œä½†é¢„ä¼°å¯èƒ½ä¸å‡†ç¡®ã€‚å½“é¢„ä¼°è¡Œæ•°ä¸å®é™…è¡Œæ•°å·®å¼‚å¾ˆå¤§æ—¶ï¼Œå¯èƒ½å¯¼è‡´ä¼˜åŒ–å™¨é€‰æ‹©é”™è¯¯çš„æ‰§è¡Œè®¡åˆ’ã€‚")]),s._v(" "),t("p",[t("strong",[s._v("è§£å†³æ–¹æ³•ï¼š")])]),s._v(" "),t("ul",[t("li",[s._v("å®šæœŸæ›´æ–°ç»Ÿè®¡ä¿¡æ¯")]),s._v(" "),t("li",[s._v("è€ƒè™‘ä½¿ç”¨æ›´ç²¾ç¡®çš„ç»Ÿè®¡æ”¶é›†æ–¹æ³•")]),s._v(" "),t("li",[s._v("åœ¨æç«¯æƒ…å†µä¸‹ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®æç¤º(hints)å¼•å¯¼ä¼˜åŒ–å™¨")])]),s._v(" "),t("h3",{attrs:{id:"_3-åˆ†æå¹¶è¡ŒæŸ¥è¯¢æ‰§è¡Œ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ†æå¹¶è¡ŒæŸ¥è¯¢æ‰§è¡Œ"}},[s._v("#")]),s._v(" 3. åˆ†æå¹¶è¡ŒæŸ¥è¯¢æ‰§è¡Œ")]),s._v(" "),t("p",[s._v("ç°ä»£æ•°æ®åº“æ”¯æŒå¹¶è¡ŒæŸ¥è¯¢ï¼Œåˆ†æå¹¶è¡Œæ‰§è¡Œè®¡åˆ’å¯ä»¥å¸®åŠ©æˆ‘ä»¬ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ç¡®è®¤æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨äº†å¹¶è¡Œæ‰§è¡Œ")]),s._v(" "),t("li",[s._v("æ£€æŸ¥å¹¶è¡Œåº¦è®¾ç½®æ˜¯å¦åˆç†")]),s._v(" "),t("li",[s._v("è¯†åˆ«å¹¶è¡Œæ‰§è¡Œçš„ç“¶é¢ˆ")])]),s._v(" "),t("p",[t("strong",[s._v("PostgreSQLç¤ºä¾‹ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- å¯ç”¨å¹¶è¡Œæ‰§è¡Œ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" max_parallel_workers_per_gather "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXPLAIN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ANALYZE")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" large_table "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("status")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'active'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"å®æˆ˜æ¡ˆä¾‹-ä¼˜åŒ–å¤æ‚æŠ¥è¡¨æŸ¥è¯¢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®æˆ˜æ¡ˆä¾‹-ä¼˜åŒ–å¤æ‚æŠ¥è¡¨æŸ¥è¯¢"}},[s._v("#")]),s._v(" å®æˆ˜æ¡ˆä¾‹ï¼šä¼˜åŒ–å¤æ‚æŠ¥è¡¨æŸ¥è¯¢")]),s._v(" "),t("h3",{attrs:{id:"é—®é¢˜åœºæ™¯"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜åœºæ™¯"}},[s._v("#")]),s._v(" é—®é¢˜åœºæ™¯")]),s._v(" "),t("p",[s._v("æˆ‘ä»¬éœ€è¦ä¼˜åŒ–ä¸€ä¸ªå¤æ‚çš„æŠ¥è¡¨æŸ¥è¯¢ï¼Œè¯¥æŸ¥è¯¢æ¶‰åŠå¤šè¡¨è¿æ¥ã€èšåˆå’Œæ’åºï¼š")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n    c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" order_count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("total_amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" total_amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" product_count\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers c\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" orders o "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" order_items oi "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" oi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" products p "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" oi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("product_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("region "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'North America'")]),s._v(" \n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_date "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("BETWEEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2023-01-01'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2023-12-31'")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("category "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Electronics'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_name\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" total_amount "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"åˆ†ææ‰§è¡Œè®¡åˆ’"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†ææ‰§è¡Œè®¡åˆ’"}},[s._v("#")]),s._v(" åˆ†ææ‰§è¡Œè®¡åˆ’")]),s._v(" "),t("p",[s._v("é€šè¿‡"),t("code",[s._v("EXPLAIN ANALYZE")]),s._v("æˆ‘ä»¬å‘ç°ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("customersè¡¨ä½¿ç”¨äº†regionç´¢å¼•ï¼Œæ•ˆç‡é«˜")]),s._v(" "),t("li",[s._v("ordersè¡¨è¿›è¡Œäº†å…¨è¡¨æ‰«æ")]),s._v(" "),t("li",[s._v("è¿æ¥æ“ä½œä½¿ç”¨äº†åµŒå¥—å¾ªç¯ï¼Œæ•ˆç‡ä½")])]),s._v(" "),t("h3",{attrs:{id:"ä¼˜åŒ–æ–¹æ¡ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–æ–¹æ¡ˆ"}},[s._v("#")]),s._v(" ä¼˜åŒ–æ–¹æ¡ˆ")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("ä¸ºordersè¡¨æ·»åŠ å¤åˆç´¢å¼•")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" idx_orders_customer_date "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" orders"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("customer_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" order_date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[s._v("ä¸ºorder_itemsè¡¨æ·»åŠ ç´¢å¼•")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INDEX")]),s._v(" idx_order_items_product "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" order_items"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("product_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[s._v("é‡å†™æŸ¥è¯¢ï¼Œä½¿ç”¨CTEæé«˜å¯è¯»æ€§")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WITH")]),s._v(" electronics_orders "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n        o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" order_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("total_amount\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" orders o\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" order_items oi "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" oi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_id\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" products p "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" oi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("product_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" p"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("category "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Electronics'")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" o"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_date "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("BETWEEN")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2023-01-01'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("AND")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2023-12-31'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\ncustomer_stats "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n        c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" order_count"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SUM")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("total_amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" total_amount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("COUNT")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DISTINCT")]),s._v(" oi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("product_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" product_count\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customers c\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" electronics_orders eo "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" eo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_id\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LEFT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" order_items oi "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" eo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" oi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("order_id\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("region "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'North America'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GROUP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" c"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("customer_name\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" customer_stats\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ORDER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" total_amount "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("LIMIT")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("h3",{attrs:{id:"ä¼˜åŒ–ç»“æœ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–ç»“æœ"}},[s._v("#")]),s._v(" ä¼˜åŒ–ç»“æœ")]),s._v(" "),t("p",[s._v("ä¼˜åŒ–åçš„æŸ¥è¯¢æ‰§è¡Œæ—¶é—´ä»åŸæ¥çš„5ç§’é™ä½åˆ°200æ¯«ç§’ï¼Œæ€§èƒ½æå‡äº†25å€ï¼ğŸš€")]),s._v(" "),t("h2",{attrs:{id:"ç»“è¯­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[s._v("#")]),s._v(" ç»“è¯­")]),s._v(" "),t("p",[s._v("ç†è§£æ‰§è¡Œè®¡åˆ’æ˜¯æ•°æ®åº“æ€§èƒ½ä¼˜åˆ¶çš„æ ¸å¿ƒæŠ€èƒ½ã€‚é€šè¿‡åˆ†ææ‰§è¡Œè®¡åˆ’ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("è¯†åˆ«æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨")]),s._v(" "),t("li",[s._v("éªŒè¯ç´¢å¼•çš„æœ‰æ•ˆæ€§")]),s._v(" "),t("li",[s._v("äº†è§£æ•°æ®åº“çš„å†…éƒ¨å·¥ä½œæœºåˆ¶")]),s._v(" "),t("li",[s._v("åˆ¶å®šé’ˆå¯¹æ€§çš„ä¼˜åŒ–ç­–ç•¥")])]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v('"ä¸ç†è§£çš„ä¼˜åŒ–ï¼Œéƒ½æ˜¯çæŠ˜è…¾ã€‚" â€”â€” æ•°æ®åº“ä¼˜åŒ–ç®´è¨€\n::>')]),s._v(" "),t("p",[s._v("åœ¨å®é™…å·¥ä½œä¸­ï¼Œæˆ‘å»ºè®®ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("å…»æˆåˆ†æå¤æ‚æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’çš„ä¹ æƒ¯")]),s._v(" "),t("li",[s._v("å®šæœŸå®¡æŸ¥æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­çš„æ‰§è¡Œè®¡åˆ’")]),s._v(" "),t("li",[s._v("å­¦ä¹ ä½ ä½¿ç”¨çš„ç‰¹å®šæ•°æ®åº“çš„æ‰§è¡Œè®¡åˆ’æ ¼å¼å’ŒæŒ‡æ ‡")]),s._v(" "),t("li",[s._v("è€ƒè™‘ä½¿ç”¨ä¸“é—¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼ˆå¦‚pgBadgerã€MySQL Enterprise Monitorç­‰ï¼‰")])]),s._v(" "),t("p",[s._v("è®°ä½ï¼Œæ•°æ®åº“ä¼˜åŒ–ä¸æ˜¯ä¸€æ¬¡æ€§çš„å·¥ä½œï¼Œè€Œæ˜¯æŒç»­çš„è¿‡ç¨‹ã€‚åªæœ‰æ·±å…¥ç†è§£æ‰§è¡Œè®¡åˆ’ï¼Œæˆ‘ä»¬æ‰èƒ½å†™å‡ºçœŸæ­£é«˜æ•ˆçš„SQLæŸ¥è¯¢ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v('"å¥½çš„SQLä¸æ˜¯å†™å‡ºæ¥çš„ï¼Œè€Œæ˜¯åˆ†æå‡ºæ¥çš„ã€‚" â€”â€” Jorgençš„æ•°æ®åº“å¿ƒå¾—')])])])])}),[],!1,null,null,null);t.default=n.exports}}]);