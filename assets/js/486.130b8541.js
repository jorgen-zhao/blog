(window.webpackJsonp=window.webpackJsonp||[]).push([[486],{838:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v('ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œæˆ‘ç»å¸¸å¬åˆ°è¿™æ ·çš„æŠ±æ€¨ï¼š"ä¸ºä»€ä¹ˆæˆ‘çš„åº”ç”¨è¿™ä¹ˆæ…¢ï¼Ÿ"ã€"è¿™ä¸ªæ¡†æ¶å¤ªå¡äº†ï¼"ã€"ç”¨æˆ·éƒ½åœ¨åæ§½åŠ è½½æ—¶é—´å¤ªé•¿ï¼" ğŸ¤¦â€â™‚ï¸ã€‚è¯´å®è¯ï¼Œæˆ‘æ›¾ç»ä¹Ÿæ˜¯å…¶ä¸­ä¸€å‘˜ï¼Œç›´åˆ°æˆ‘æ·±å…¥ç ”ç©¶äº†æ¡†æ¶æ€§èƒ½ä¼˜åŒ–ï¼Œæ‰å‘ç°é—®é¢˜å¾€å¾€ä¸åœ¨äºæ¡†æ¶æœ¬èº«ï¼Œè€Œåœ¨äºæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å®ƒã€‚')]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v('"æ€§èƒ½ä¸æ˜¯äº‹åæ·»åŠ çš„åŠŸèƒ½ï¼Œè€Œæ˜¯è®¾è®¡ä¹‹åˆå°±åº”è€ƒè™‘çš„æ ¸å¿ƒè¦ç´ ã€‚" â€”â€” Donald Knuth')])]),t._v(" "),s("p",[t._v("åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†åˆ†äº«æˆ‘åœ¨æ¡†æ¶æ€§èƒ½ä¼˜åŒ–æ–¹é¢çš„ä¸€äº›ç»éªŒå’ŒæŠ€å·§ï¼Œå¸Œæœ›èƒ½å¸®åŠ©ä½ æ„å»ºæ›´å¿«ã€æ›´æµç•…çš„åº”ç”¨ã€‚æ— è®ºä½ æ˜¯å‰ç«¯è¿˜æ˜¯åç«¯å¼€å‘è€…ï¼Œè¿™äº›åŸåˆ™éƒ½é€‚ç”¨ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¸ºä»€ä¹ˆæ¡†æ¶æ€§èƒ½ä¼˜åŒ–å¦‚æ­¤é‡è¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆæ¡†æ¶æ€§èƒ½ä¼˜åŒ–å¦‚æ­¤é‡è¦"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆæ¡†æ¶æ€§èƒ½ä¼˜åŒ–å¦‚æ­¤é‡è¦ï¼Ÿ")]),t._v(" "),s("p",[t._v("åœ¨å¼€å§‹å…·ä½“ä¼˜åŒ–æŠ€å·§ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ä¸ºä»€ä¹ˆæ¡†æ¶æ€§èƒ½ä¼˜åŒ–å¦‚æ­¤å…³é”®ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ç”¨æˆ·ä½“éªŒè‡³ä¸Š"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç”¨æˆ·ä½“éªŒè‡³ä¸Š"}},[t._v("#")]),t._v(" ç”¨æˆ·ä½“éªŒè‡³ä¸Š")]),t._v(" "),s("p",[t._v("ç”¨æˆ·å¯¹é€Ÿåº¦çš„å®¹å¿åº¦è¶Šæ¥è¶Šä½ã€‚ç ”ç©¶è¡¨æ˜ï¼Œå¦‚æœé¡µé¢åŠ è½½æ—¶é—´è¶…è¿‡3ç§’ï¼Œè¶…è¿‡ä¸€åŠçš„ç”¨æˆ·ä¼šé€‰æ‹©ç¦»å¼€ã€‚ğŸ“‰ æ¡†æ¶ä½œä¸ºåº”ç”¨çš„åŸºç¡€ï¼Œå…¶æ€§èƒ½ç›´æ¥å½±å“ç”¨æˆ·ä½“éªŒã€‚")]),t._v(" "),s("h3",{attrs:{id:"èµ„æºåˆ©ç”¨æ•ˆç‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æºåˆ©ç”¨æ•ˆç‡"}},[t._v("#")]),t._v(" èµ„æºåˆ©ç”¨æ•ˆç‡")]),t._v(" "),s("p",[t._v("é«˜æ€§èƒ½çš„åº”ç”¨æ„å‘³ç€æ›´å°‘çš„èµ„æºæ¶ˆè€—ï¼Œè¿™ä¸ä»…é™ä½äº†æœåŠ¡å™¨æˆæœ¬ï¼Œä¹Ÿæœ‰åŠ©äºå‡å°‘ç¢³æ’æ”¾ï¼Œå®ç°ç»¿è‰²å¼€å‘ã€‚ğŸŒ±")]),t._v(" "),s("h3",{attrs:{id:"ç«äº‰ä¼˜åŠ¿"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç«äº‰ä¼˜åŠ¿"}},[t._v("#")]),t._v(" ç«äº‰ä¼˜åŠ¿")]),t._v(" "),s("p",[t._v("åœ¨å½“ä»Šå¿«èŠ‚å¥çš„äº’è”ç½‘ç¯å¢ƒä¸­ï¼Œæ€§èƒ½å·²æˆä¸ºäº§å“å·®å¼‚åŒ–çš„å…³é”®å› ç´ ä¹‹ä¸€ã€‚ä¸€ä¸ªæµç•…çš„åº”ç”¨èƒ½æ˜¾è‘—æé«˜ç”¨æˆ·ç•™å­˜ç‡å’Œè½¬åŒ–ç‡ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å‰ç«¯æ¡†æ¶æ€§èƒ½ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯æ¡†æ¶æ€§èƒ½ä¼˜åŒ–"}},[t._v("#")]),t._v(" å‰ç«¯æ¡†æ¶æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),s("h3",{attrs:{id:"å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“"}},[t._v("#")]),t._v(" å‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“")]),t._v(" "),s("div",{staticClass:"custom-block theorem"},[s("p",{staticClass:"title"},[t._v("THEOREM")]),s("p",[t._v("Reactä¸­çš„è™šæ‹ŸDOMå’ŒVueçš„å“åº”å¼ç³»ç»Ÿéƒ½æ˜¯ä¸ºäº†æœ€å°åŒ–DOMæ“ä½œè€Œè®¾è®¡çš„ã€‚\n::>")]),t._v(" "),s("p",[t._v("å‰ç«¯æ¡†æ¶æœ€æ ¸å¿ƒçš„æ€§èƒ½é—®é¢˜ä¹‹ä¸€å°±æ˜¯ä¸å¿…è¦çš„ç»„ä»¶æ¸²æŸ“ã€‚æˆ‘æ›¾ç»åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­é‡åˆ°è¿‡ä¸€ä¸ªbugï¼Œä¸€ä¸ªç®€å•çš„è¡¨å•ç»„ä»¶å› ä¸ºçˆ¶ç»„ä»¶çš„çŠ¶æ€æ›´æ–°è€Œä¸æ–­é‡æ–°æ¸²æŸ“ï¼Œå¯¼è‡´è¾“å…¥å»¶è¿Ÿå’Œå¡é¡¿ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("ä½¿ç”¨"),s("code",[t._v("React.memo")]),t._v("æˆ–"),s("code",[t._v("Vue")]),t._v("çš„"),s("code",[t._v("v-once")]),t._v("æŒ‡ä»¤")]),t._v(" "),s("li",[t._v("åˆç†ä½¿ç”¨"),s("code",[t._v("shouldComponentUpdate")]),t._v("æˆ–"),s("code",[t._v("Vue")]),t._v("çš„"),s("code",[t._v("computed")]),t._v("å±æ€§")]),t._v(" "),s("li",[t._v("é¿å…åœ¨æ¸²æŸ“å‡½æ•°ä¸­åˆ›å»ºæ–°å¯¹è±¡æˆ–å‡½æ•°")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸å¥½çš„åšæ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("MyComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'clicked'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Click me"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¥½çš„åšæ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("MyComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" handleClick "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'clicked'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("handleClick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Click me"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½"}},[t._v("#")]),t._v(" ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("æŒ‰éœ€åŠ è½½å¯ä»¥æ˜¾è‘—å‡å°‘åˆå§‹åŠ è½½æ—¶é—´ï¼Œæé«˜é¦–å±æ¸²æŸ“é€Ÿåº¦ã€‚\n::>")]),t._v(" "),s("p",[t._v("éšç€åº”ç”¨è§„æ¨¡çš„å¢é•¿ï¼Œæ‰“åŒ…åçš„JavaScriptæ–‡ä»¶ä¼šå˜å¾—è¶Šæ¥è¶Šå¤§ã€‚ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•ã€‚")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Reactä¸­çš„æ‡’åŠ è½½")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" LazyComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./LazyComponent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vueä¸­çš„å¼‚æ­¥ç»„ä»¶")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("AsyncComponent")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("component")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./AsyncComponent.vue'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loading")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" LoadingComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ErrorComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("delay")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("timeout")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"ä¼˜åŒ–çŠ¶æ€ç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–çŠ¶æ€ç®¡ç†"}},[t._v("#")]),t._v(" ä¼˜åŒ–çŠ¶æ€ç®¡ç†")]),t._v(" "),s("p",[t._v("çŠ¶æ€ç®¡ç†æ˜¯å‰ç«¯æ¡†æ¶çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯æ€§èƒ½é—®é¢˜çš„å¸¸è§æ¥æºã€‚æˆ‘æ›¾ç»åœ¨ä¸€ä¸ªå¤§å‹Reactåº”ç”¨ä¸­é‡åˆ°çŠ¶æ€æ›´æ–°å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Œé€šè¿‡ä¼˜åŒ–çŠ¶æ€ç»“æ„è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("æœ€ä½³å®è·µï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("é¿å…æ·±å±‚åµŒå¥—çš„çŠ¶æ€ç»“æ„")]),t._v(" "),s("li",[t._v("ä½¿ç”¨çŠ¶æ€ç®¡ç†åº“ï¼ˆå¦‚Reduxã€Vuexï¼‰æ—¶ï¼Œåˆç†è®¾è®¡çŠ¶æ€æ ‘")]),t._v(" "),s("li",[t._v("ä½¿ç”¨"),s("code",[t._v("useSelector")]),t._v("ï¼ˆReduxï¼‰æˆ–"),s("code",[t._v("mapState")]),t._v("ï¼ˆVuexï¼‰æ—¶ï¼Œç¡®ä¿è¿”å›ç¨³å®šå¼•ç”¨")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸å¥½çš„åšæ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapStateToProps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("settings")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("settings\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¥½çš„åšæ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapStateToProps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("settings")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åªè¿”å›éœ€è¦çš„å±æ€§")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("theme")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("theme\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h2",{attrs:{id:"åç«¯æ¡†æ¶æ€§èƒ½ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åç«¯æ¡†æ¶æ€§èƒ½ä¼˜åŒ–"}},[t._v("#")]),t._v(" åç«¯æ¡†æ¶æ€§èƒ½ä¼˜åŒ–")]),t._v(" "),s("h3",{attrs:{id:"æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–"}},[t._v("#")]),t._v(" æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–")]),t._v(" "),s("div",{staticClass:"custom-block theorem"},[s("p",{staticClass:"title"},[t._v("THEOREM")]),s("p",[t._v("N+1æŸ¥è¯¢é—®é¢˜æ˜¯æœ€å¸¸è§çš„åç«¯æ€§èƒ½æ€æ‰‹ä¹‹ä¸€ã€‚\n::>")]),t._v(" "),s("p",[t._v("åç«¯æ¡†æ¶çš„æ€§èƒ½ç“¶é¢ˆé€šå¸¸å‡ºç°åœ¨æ•°æ®åº“è®¿é—®å±‚ã€‚æˆ‘æ›¾ç»åœ¨ä¸€ä¸ªDjangoé¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼Œä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„æŸ¥è¯¢å®é™…ä¸Šæ‰§è¡Œäº†æ•°ç™¾æ¬¡æ•°æ®åº“æŸ¥è¯¢ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("è§£å†³æ–¹æ¡ˆï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("ä½¿ç”¨"),s("code",[t._v("select_related")]),t._v("ï¼ˆDjangoï¼‰æˆ–"),s("code",[t._v("includes")]),t._v("ï¼ˆRailsï¼‰é¿å…N+1æŸ¥è¯¢")]),t._v(" "),s("li",[t._v("æ·»åŠ é€‚å½“çš„æ•°æ®åº“ç´¢å¼•")]),t._v(" "),s("li",[t._v("ä½¿ç”¨ç¼“å­˜å‡å°‘æ•°æ®åº“è®¿é—®")])]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Djangoä¸­çš„ä¼˜åŒ–æŸ¥è¯¢")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä¸å¥½çš„åšæ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" post "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Post"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ¯æ¬¡å¾ªç¯éƒ½ä¼šæ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¥½çš„åšæ³•")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" post "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Post"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("select_related"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'author'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("all")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("post"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("author"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åªæ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"å¼‚æ­¥å¤„ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ­¥å¤„ç†"}},[t._v("#")]),t._v(" å¼‚æ­¥å¤„ç†")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("å°†è€—æ—¶æ“ä½œå¼‚æ­¥åŒ–å¯ä»¥æ˜¾è‘—æé«˜åº”ç”¨çš„å“åº”é€Ÿåº¦ã€‚\n::>")]),t._v(" "),s("p",[t._v("åœ¨Webåº”ç”¨ä¸­ï¼Œä¸€äº›è€—æ—¶æ“ä½œï¼ˆå¦‚å‘é€é‚®ä»¶ã€ç”ŸæˆæŠ¥å‘Šï¼‰ä¸åº”è¯¥é˜»å¡ä¸»çº¿ç¨‹ã€‚ä½¿ç”¨å¼‚æ­¥å¤„ç†å¯ä»¥ä¿æŒåº”ç”¨çš„å“åº”æ€§ã€‚")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Node.jsä¸­çš„å¼‚æ­¥å¤„ç†")]),t._v("\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("post")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/send-email'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç«‹å³è¿”å›å“åº”ï¼Œä¸ç­‰å¾…é‚®ä»¶å‘é€å®Œæˆ")]),t._v("\n  res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Email is being sent'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨åå°å‘é€é‚®ä»¶")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendEmail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subject"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Failed to send email:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"ç¼“å­˜ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜ç­–ç•¥"}},[t._v("#")]),t._v(" ç¼“å­˜ç­–ç•¥")]),t._v(" "),s("p",[t._v("ç¼“å­˜æ˜¯æé«˜åº”ç”¨æ€§èƒ½çš„æœ€æœ‰æ•ˆæ‰‹æ®µä¹‹ä¸€ã€‚æˆ‘æ›¾ç»åœ¨ä¸€ä¸ªç”µå•†ç½‘ç«™é¡¹ç›®ä¸­é€šè¿‡å®æ–½ç¼“å­˜ç­–ç•¥ï¼Œå°†é¡µé¢åŠ è½½æ—¶é—´å‡å°‘äº†70%ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("å¸¸è§ç¼“å­˜ç­–ç•¥ï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("HTTPç¼“å­˜ï¼ˆETagã€Cache-Controlï¼‰")]),t._v(" "),s("li",[t._v("åº”ç”¨å±‚ç¼“å­˜ï¼ˆRedisã€Memcachedï¼‰")]),t._v(" "),s("li",[t._v("æ•°æ®åº“æŸ¥è¯¢ç¼“å­˜")])]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Djangoä¸­çš„ç¼“å­˜ä½¿ç”¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" django"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("core"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" cache\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_expensive_data")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expensive_data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("is")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("None")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" compute_expensive_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'expensive_data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timeout"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3600")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¼“å­˜1å°æ—¶")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" data\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h2",{attrs:{id:"è·¨æ¡†æ¶é€šç”¨ä¼˜åŒ–æŠ€å·§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è·¨æ¡†æ¶é€šç”¨ä¼˜åŒ–æŠ€å·§"}},[t._v("#")]),t._v(" è·¨æ¡†æ¶é€šç”¨ä¼˜åŒ–æŠ€å·§")]),t._v(" "),s("h3",{attrs:{id:"ä»£ç åˆ†æå’Œç›‘æ§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»£ç åˆ†æå’Œç›‘æ§"}},[t._v("#")]),t._v(" ä»£ç åˆ†æå’Œç›‘æ§")]),t._v(" "),s("div",{staticClass:"custom-block theorem"},[s("p",{staticClass:"title"},[t._v("THEOREM")]),s("p",[t._v('"æ²¡æœ‰æµ‹é‡çš„ä¼˜åŒ–éƒ½æ˜¯ç›²ç›®çš„ã€‚" â€”â€” Donald Knuth\n::>')]),t._v(" "),s("p",[t._v("åœ¨å¼€å§‹ä¼˜åŒ–ä¹‹å‰ï¼Œä½ éœ€è¦çŸ¥é“å“ªé‡Œéœ€è¦ä¼˜åŒ–ã€‚ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·å¯ä»¥å¸®åŠ©ä½ è¯†åˆ«ç“¶é¢ˆã€‚")]),t._v(" "),s("p",[s("strong",[t._v("å¸¸ç”¨å·¥å…·ï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("Chrome DevTools Performanceé¢æ¿")]),t._v(" "),s("li",[t._v("Lighthouse")]),t._v(" "),s("li",[t._v("WebPageTest")]),t._v(" "),s("li",[t._v("New Relicã€Datadogç­‰APMå·¥å…·")])]),t._v(" "),s("h3",{attrs:{id:"ä¼˜åŒ–æ„å»ºæµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–æ„å»ºæµç¨‹"}},[t._v("#")]),t._v(" ä¼˜åŒ–æ„å»ºæµç¨‹")]),t._v(" "),s("p",[t._v("ç°ä»£å‰ç«¯æ¡†æ¶çš„æ„å»ºè¿‡ç¨‹æœ¬èº«ä¹Ÿå¯ä»¥ä¼˜åŒ–ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("ä¼˜åŒ–å»ºè®®ï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("ä½¿ç”¨æ›´å¿«çš„æ‰“åŒ…å·¥å…·ï¼ˆå¦‚Webpack 5ã€Viteï¼‰")]),t._v(" "),s("li",[t._v("å¹¶è¡ŒåŒ–æ„å»ºä»»åŠ¡")]),t._v(" "),s("li",[t._v("ä½¿ç”¨å¢é‡æ„å»º")])]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.jsä¸­çš„ä¼˜åŒ–é…ç½®")]),t._v("\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("optimization")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("splitChunks")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("chunks")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'all'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("minSize")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxSize")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("minChunks")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxAsyncRequests")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("maxInitialRequests")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("automaticNameDelimiter")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'~'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("enforceSizeThreshold")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cacheGroups")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("vendors")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token regex"}},[s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("[\\\\/]node_modules[\\\\/]")]),s("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("priority")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("minChunks")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("priority")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("reuseExistingChunk")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br")])]),s("h3",{attrs:{id:"åˆç†ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆç†ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“"}},[t._v("#")]),t._v(" åˆç†ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v('"ä¸è¦ä¸ºäº†ä½¿ç”¨æ¡†æ¶è€Œä½¿ç”¨æ¡†æ¶ï¼Œé€‰æ‹©é€‚åˆä½ é¡¹ç›®éœ€æ±‚çš„å·¥å…·ã€‚"\n::>')]),t._v(" "),s("p",[t._v("ç¬¬ä¸‰æ–¹åº“å¯ä»¥åŠ é€Ÿå¼€å‘ï¼Œä½†ä¹Ÿä¼šå¢åŠ åº”ç”¨çš„ä½“ç§¯å’Œå¤æ‚æ€§ã€‚åœ¨é€‰æ‹©å’Œä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œè¦è€ƒè™‘å…¶å¯¹æ€§èƒ½çš„å½±å“ã€‚")]),t._v(" "),s("p",[s("strong",[t._v("é€‰æ‹©åº“çš„è€ƒè™‘å› ç´ ï¼š")])]),t._v(" "),s("ol",[s("li",[t._v("åº“çš„å¤§å°ï¼ˆbundle sizeï¼‰")]),t._v(" "),s("li",[t._v("ç»´æŠ¤çŠ¶æ€å’Œç¤¾åŒºæ´»è·ƒåº¦")]),t._v(" "),s("li",[t._v("æ€§èƒ½è¡¨ç°")]),t._v(" "),s("li",[t._v("ä¸ä½ ä½¿ç”¨çš„æ¡†æ¶çš„å…¼å®¹æ€§")])]),t._v(" "),s("h2",{attrs:{id:"ç»“è¯­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),s("p",[t._v("æ¡†æ¶æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§çš„ä»»åŠ¡ã€‚é€šè¿‡æœ¬æ–‡åˆ†äº«çš„æŠ€å·§ï¼Œæˆ‘å¸Œæœ›ä½ èƒ½æ„å»ºå‡ºæ›´å¿«ã€æ›´æµç•…çš„åº”ç”¨ã€‚")]),t._v(" "),s("p",[t._v("è®°ä½ï¼Œæ€§èƒ½ä¼˜åŒ–åº”è¯¥åŸºäºæ•°æ®é©±åŠ¨ï¼Œè€Œä¸æ˜¯å‡­æ„Ÿè§‰ã€‚ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·æ‰¾å‡ºçœŸæ­£çš„ç“¶é¢ˆï¼Œç„¶åæœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œä¼˜åŒ–ã€‚")]),t._v(" "),s("p",[t._v("æœ€åï¼Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œé€‰æ‹©åˆé€‚çš„æ¡†æ¶å›ºç„¶é‡è¦ï¼Œä½†æ›´é‡è¦çš„æ˜¯å¦‚ä½•ä½¿ç”¨å®ƒã€‚ä¸€ä¸ªç²¾å¿ƒä¼˜åŒ–çš„ç®€å•åº”ç”¨ï¼Œå¾€å¾€èƒœè¿‡ä¸€ä¸ªæœªç»ä¼˜åŒ–çš„å¤æ‚åº”ç”¨ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v('"ä»£ç å°±åƒè¯—æ­Œï¼Œä¼˜ç§€çš„ä»£ç ä¸ä»…åŠŸèƒ½æ­£ç¡®ï¼Œè€Œä¸”ä¼˜é›…ã€é«˜æ•ˆã€‚"')])]),t._v(" "),s("p",[t._v("å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚")])])])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);