(window.webpackJsonp=window.webpackJsonp||[]).push([[245],{596:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"å‰è¨€"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),t("p",[s._v("ä½œä¸ºä¸€åAndroidå¼€å‘è€…ï¼Œæˆ‘ç›¸ä¿¡å¤§å®¶éƒ½ç»å†è¿‡è¿™æ ·çš„å›°æƒ‘ï¼šå¦‚ä½•åœ¨æ—¥ç›Šå¤æ‚çš„Androidåº”ç”¨ä¸­ä¿æŒä»£ç çš„æ¸…æ™°ä¸å¯ç»´æŠ¤æ€§ï¼Ÿå¦‚ä½•å¤„ç†é…ç½®å˜æ›´å¯¼è‡´çš„Activityé‡å»ºé—®é¢˜ï¼Ÿå¦‚ä½•é«˜æ•ˆåœ°ç®¡ç†UIä¸æ•°æ®ä¹‹é—´çš„é€šä¿¡ï¼Ÿ")]),s._v(" "),t("p",[s._v("åœ¨è¿‡å»ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ–è€…ä¾èµ–ç¬¬ä¸‰æ–¹åº“ã€‚è€Œç°åœ¨ï¼ŒGoogleä¸ºæˆ‘ä»¬æä¾›äº†ä¸€å¥—å¼ºå¤§çš„å·¥å…·é›†â€”â€”"),t("strong",[s._v("Android Jetpack")]),s._v("ã€‚ğŸš€")]),s._v(" "),t("p",[s._v("Jetpackä¸æ˜¯å•ä¸€ç»„ä»¶ï¼Œè€Œæ˜¯ä¸€å¥—åº“ã€å·¥å…·å’ŒæŒ‡å—ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…ç¼–å†™æ›´ä¼˜è´¨çš„åº”ç”¨ã€‚å®ƒåŒ…å«å¤šä¸ªç»„ä»¶ï¼Œè¦†ç›–äº†ä»æ¶æ„ã€UIåˆ°è¡Œä¸ºç­‰å¤šä¸ªæ–¹é¢ã€‚")]),s._v(" "),t("p",[s._v("ä»Šå¤©ï¼Œæˆ‘æƒ³å’Œå¤§å®¶ä¸€èµ·æ¢ç´¢Jetpackçš„æ ¸å¿ƒç»„ä»¶ï¼Œçœ‹çœ‹å®ƒä»¬å¦‚ä½•å¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´ç°ä»£ã€æ›´å¥å£®çš„Androidåº”ç”¨ã€‚")]),s._v(" "),t("h2",{attrs:{id:"jetpackç®€ä»‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jetpackç®€ä»‹"}},[s._v("#")]),s._v(" Jetpackç®€ä»‹")]),s._v(" "),t("p",[s._v("Android Jetpackæ˜¯ä¸€å¥—åº“ã€å·¥å…·å’ŒæŒ‡å¯¼ï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…æ›´è½»æ¾åœ°ç¼–å†™é«˜è´¨é‡çš„Androidåº”ç”¨ã€‚å®ƒåŸºäºKotlinè¯­è¨€æœ€ä½³å®è·µï¼Œå¹¶é‡‡ç”¨ç°ä»£è®¾è®¡æ–¹æ³•æ„å»ºã€‚")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),t("p",[s._v("Jetpackç»„ä»¶çš„ç›®æ ‡æ˜¯ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("åŠ é€Ÿå¼€å‘ï¼šæä¾›æ ·æ¿ä»£ç ï¼Œè®©å¼€å‘è€…ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘")]),s._v(" "),t("li",[s._v("åšå›ºå¯é ï¼šåŒ…å«ç»è¿‡ä¸¥æ ¼æµ‹è¯•çš„åº“ï¼Œå¤„ç†å‘åå…¼å®¹æ€§é—®é¢˜")]),s._v(" "),t("li",[s._v("æ¨èæœ€ä½³å®è·µï¼šéµå¾ªç°ä»£Androidè®¾è®¡åŸåˆ™")])])]),s._v(" "),t("p",[s._v("Jetpackç»„ä»¶ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("åŸºç¡€ç»„ä»¶")]),s._v("ï¼šæä¾›æ ¸å¿ƒåŠŸèƒ½ï¼Œå¦‚åº”ç”¨å…¼å®¹æ€§ã€æƒé™ç®¡ç†ç­‰")]),s._v(" "),t("li",[t("strong",[s._v("æ¶æ„ç»„ä»¶")]),s._v("ï¼šå¸®åŠ©è®¾è®¡ç¨³å¥ã€å¯æµ‹è¯•ä¸”å¯ç»´æŠ¤çš„åº”ç”¨")]),s._v(" "),t("li",[t("strong",[s._v("è¡Œä¸ºç»„ä»¶")]),s._v("ï¼šå¸®åŠ©å¤„ç†æ ‡å‡†Androidæ¨¡å¼")]),s._v(" "),t("li",[t("strong",[s._v("ç•Œé¢ç»„ä»¶")]),s._v("ï¼šæä¾›ä¸°å¯Œçš„ç•Œé¢å’Œå¯¼èˆªåŠŸèƒ½")]),s._v(" "),t("li",[t("strong",[s._v("åŠŸèƒ½ç»„ä»¶")]),s._v("ï¼šæä¾›ç‰¹å®šåŠŸèƒ½ï¼Œå¦‚æ¨é€é€šçŸ¥ã€æƒé™ç®¡ç†ç­‰")])]),s._v(" "),t("h2",{attrs:{id:"æ ¸å¿ƒæ¶æ„ç»„ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒæ¶æ„ç»„ä»¶"}},[s._v("#")]),s._v(" æ ¸å¿ƒæ¶æ„ç»„ä»¶")]),s._v(" "),t("p",[s._v("æ¶æ„ç»„ä»¶æ˜¯Jetpackä¸­æœ€é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä»¬å…±åŒæ„æˆäº†Androidåº”ç”¨å¼€å‘çš„åšå®åŸºç¡€ã€‚")]),s._v(" "),t("h3",{attrs:{id:"viewmodel"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#viewmodel"}},[s._v("#")]),s._v(" ViewModel")]),s._v(" "),t("p",[t("code",[s._v("ViewModel")]),s._v("æ˜¯Jetpackæ¶æ„ç»„ä»¶çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£ä¸ºUIå‡†å¤‡æ•°æ®å¹¶ç®¡ç†UIç›¸å…³çš„ç”Ÿå‘½å‘¨æœŸã€‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" UserViewModel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" _users "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MutableLiveData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" users"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" LiveData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" _users\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("loadUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        viewModelScope"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("launch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" result "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" repository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            _users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("value "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" result\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[t("strong",[s._v("ViewModel")]),s._v("çš„ä¸»è¦ç‰¹ç‚¹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("åœ¨é…ç½®å˜æ›´ï¼ˆå¦‚å±å¹•æ—‹è½¬ï¼‰æ—¶ä¸ä¼šè¢«é”€æ¯")]),s._v(" "),t("li",[s._v("é€šè¿‡"),t("code",[s._v("viewModelScope")]),s._v("è‡ªåŠ¨ç®¡ç†åç¨‹ç”Ÿå‘½å‘¨æœŸ")]),s._v(" "),t("li",[s._v("ä¸UIæ§åˆ¶å™¨ï¼ˆActivity/Fragmentï¼‰åˆ†ç¦»ï¼Œä¾¿äºæµ‹è¯•")])]),s._v(" "),t("h3",{attrs:{id:"livedata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#livedata"}},[s._v("#")]),s._v(" LiveData")]),s._v(" "),t("p",[t("code",[s._v("LiveData")]),s._v("æ˜¯ä¸€ç§å¯è§‚å¯Ÿçš„æ•°æ®æŒæœ‰è€…ç±»ï¼Œå®ƒéµå¾ªè§‚å¯Ÿè€…æ¨¡å¼ã€‚å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒLiveDataä¼šé€šçŸ¥è§‚å¯Ÿè€…å¯¹è±¡ã€‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" LiveData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Transformations"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("repository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUser")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("userId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ•°æ®è½¬æ¢é€»è¾‘")]),s._v("\n    user"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("copy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isAdult "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[t("code",[s._v("LiveData")]),s._v("çš„ä¼˜åŠ¿ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ï¼šåªåœ¨æ´»è·ƒçŠ¶æ€ä¸‹é€šçŸ¥è§‚å¯Ÿè€…")]),s._v(" "),t("li",[s._v("é˜²æ­¢å†…å­˜æ³„æ¼ï¼šè‡ªåŠ¨æ¸…ç†ä¸å†éœ€è¦çš„è§‚å¯Ÿè€…")]),s._v(" "),t("li",[s._v("æ•°æ®å§‹ç»ˆä¿æŒæœ€æ–°ï¼šåœ¨å˜ä¸ºæ´»è·ƒçŠ¶æ€æ—¶ç«‹å³æ¥æ”¶æœ€æ–°æ•°æ®")])]),s._v(" "),t("h3",{attrs:{id:"roomæ•°æ®åº“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#roomæ•°æ®åº“"}},[s._v("#")]),s._v(" Roomæ•°æ®åº“")]),s._v(" "),t("p",[s._v("Roomæ˜¯ä¸€ä¸ªæŒä¹…æ€§åº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå…è®¸åœ¨è®¾å¤‡ä¸Šæœ¬åœ°ä¿å­˜å…³ç³»æ•°æ®ã€‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Entity")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@PrimaryKey")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Int"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" age"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Int\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Dao")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" UserDao "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Query")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT * FROM users WHERE age > :minAge"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsersOlderThan")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minAge"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Int"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" LiveData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("List"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Database")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("entities "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("::")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("abstract")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" AppDatabase "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("RoomDatabase")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("abstract")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("userDao")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserDao\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("Roomçš„ä¸»è¦ç‰¹ç‚¹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ç¼–è¯‘æ—¶éªŒè¯SQLæŸ¥è¯¢")]),s._v(" "),t("li",[s._v("è½»æ¾è¿ç§»æ•°æ®åº“")]),s._v(" "),t("li",[s._v("ä¸LiveDataæ— ç¼é›†æˆ")]),s._v(" "),t("li",[s._v("æ”¯æŒRxJavaã€Flowå’Œåç¨‹")])]),s._v(" "),t("h3",{attrs:{id:"navigationç»„ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#navigationç»„ä»¶"}},[s._v("#")]),s._v(" Navigationç»„ä»¶")]),s._v(" "),t("p",[s._v("Navigationç»„ä»¶å¸®åŠ©å¼€å‘è€…å®ç°åº”ç”¨å†…çš„å¯¼èˆªï¼Œå¤„ç†Fragmentä¹‹é—´çš„åˆ‡æ¢ã€‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨å¯¼èˆªå›¾ä¸­å®šä¹‰")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("navigation xmlns"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://schemas.android.com/apk/res/android"')])]),s._v("\n    xmlns"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://schemas.android.com/apk/res-auto"')])]),s._v("\n    xmlns"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("tools"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://schemas.android.com/tools"')])]),s._v("\n    android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@+id/mobile_navigation"')])]),s._v("\n    app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("startDestination"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@+id/homeFragment"')])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("fragment\n        android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@+id/homeFragment"')])]),s._v("\n        android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.example.HomeFragment"')])]),s._v("\n        android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("label"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fragment_home"')])]),s._v("\n        tools"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("layout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@layout/fragment_home"')])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("action\n            android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@+id/action_homeFragment_to_profileFragment"')])]),s._v("\n            app"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("destination"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@id/profileFragment"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("fragment"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("fragment\n        android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@+id/profileFragment"')])]),s._v("\n        android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"com.example.ProfileFragment"')])]),s._v("\n        android"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("label"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fragment_profile"')])]),s._v("\n        tools"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("layout"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@layout/fragment_profile"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("navigation"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("p",[s._v("Navigationç»„ä»¶çš„ä¼˜åŠ¿ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å¤„ç†å¤æ‚çš„Fragmentåˆ‡æ¢")]),s._v(" "),t("li",[s._v("å¯è§†åŒ–å¯¼èˆªå›¾")]),s._v(" "),t("li",[s._v("Deep Linkæ”¯æŒ")]),s._v(" "),t("li",[s._v("ç±»å‹å®‰å…¨çš„å‚æ•°ä¼ é€’")])]),s._v(" "),t("h2",{attrs:{id:"å…¶ä»–é‡è¦ç»„ä»¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–é‡è¦ç»„ä»¶"}},[s._v("#")]),s._v(" å…¶ä»–é‡è¦ç»„ä»¶")]),s._v(" "),t("p",[s._v("é™¤äº†æ¶æ„ç»„ä»¶å¤–ï¼ŒJetpackè¿˜æä¾›äº†è®¸å¤šå…¶ä»–æœ‰ç”¨çš„ç»„ä»¶ã€‚")]),s._v(" "),t("h3",{attrs:{id:"workmanager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#workmanager"}},[s._v("#")]),s._v(" WorkManager")]),s._v(" "),t("p",[t("code",[s._v("WorkManager")]),s._v("ç”¨äºè°ƒåº¦å¯å»¶è¿Ÿçš„ã€ä¿è¯ä¼šæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå³ä½¿åœ¨åº”ç”¨é€€å‡ºæˆ–è®¾å¤‡é‡å¯çš„æƒ…å†µä¸‹ã€‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UploadWorker")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("appContext"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" workerParams"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" WorkerParameters"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("CoroutineWorker")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("appContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" workerParams"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("override")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("suspend")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("doWork")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Result "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ‰§è¡Œä¸Šä¼ ä»»åŠ¡")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uploadData")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" Result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("success")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è°ƒåº¦ä»»åŠ¡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" uploadWorkRequest "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" OneTimeWorkRequestBuilder"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("UploadWorker"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setConstraints")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("constraints"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("build")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nWorkManager"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getInstance")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("enqueue")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("uploadWorkRequest"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"datastore"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#datastore"}},[s._v("#")]),s._v(" DataStore")]),s._v(" "),t("p",[t("code",[s._v("DataStore")]),s._v("æ˜¯æ–°çš„æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆï¼Œç”¨äºæ›¿ä»£SharedPreferencesã€‚å®ƒæä¾›ä¸¤ç§å®ç°æ–¹å¼ï¼š")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("Preferences DataStore")]),s._v("ï¼šå­˜å‚¨é”®å€¼å¯¹")]),s._v(" "),t("li",[t("strong",[s._v("Proto DataStore")]),s._v("ï¼šå­˜å‚¨è‡ªå®šä¹‰ç±»å‹çš„æ•°æ®")])]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ä½¿ç”¨Preferences DataStore")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" Context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dataStore"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" DataStore"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Preferences"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("preferencesDataStore")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"settings"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è¯»å–æ•°æ®")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" exampleFlow "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" context"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dataStore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("map")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" preferences "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("\n    preferences"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("EXAMPLE_COUNTER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// å†™å…¥æ•°æ®")]),s._v("\ncontext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("dataStore"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("edit")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" settings "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("\n    settings"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("EXAMPLE_COUNTER"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" newValue\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h3",{attrs:{id:"paging-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paging-3"}},[s._v("#")]),s._v(" Paging 3")]),s._v(" "),t("p",[t("code",[s._v("Paging 3")]),s._v("åº“å¸®åŠ©å¼€å‘è€…æ›´è½»æ¾åœ°ä»æ•°æ®æºåŠ è½½å’Œæ˜¾ç¤ºåˆ†é¡µæ•°æ®ã€‚")]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Dao")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" UserDao "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Query")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT * FROM users ORDER BY name ASC"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pagingSource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" PagingSource"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Int"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" pager "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Pager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    config "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("PagingConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pageSize "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    remoteMediator "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserRemoteMediator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pagingSource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("flow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachedIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("viewModelScope"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"å®é™…åº”ç”¨æ¡ˆä¾‹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®é™…åº”ç”¨æ¡ˆä¾‹"}},[s._v("#")]),s._v(" å®é™…åº”ç”¨æ¡ˆä¾‹")]),s._v(" "),t("p",[s._v("è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…æ¡ˆä¾‹æ¥çœ‹çœ‹å¦‚ä½•ç»„åˆä½¿ç”¨è¿™äº›Jetpackç»„ä»¶ã€‚")]),s._v(" "),t("p",[s._v("å‡è®¾æˆ‘ä»¬è¦æ„å»ºä¸€ä¸ªç”¨æˆ·åˆ—è¡¨åº”ç”¨ï¼Œéœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š")]),s._v(" "),t("ol",[t("li",[s._v("ä»ç½‘ç»œåŠ è½½ç”¨æˆ·æ•°æ®")]),s._v(" "),t("li",[s._v("å°†ç”¨æˆ·æ•°æ®ç¼“å­˜åˆ°æœ¬åœ°æ•°æ®åº“")]),s._v(" "),t("li",[s._v("å®ç°åˆ†é¡µåŠ è½½")]),s._v(" "),t("li",[s._v("å¤„ç†åŠ è½½çŠ¶æ€å’Œé”™è¯¯æƒ…å†µ")]),s._v(" "),t("li",[s._v("æ”¯æŒä¸‹æ‹‰åˆ·æ–°")])]),s._v(" "),t("h3",{attrs:{id:"å®ç°æ­¥éª¤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°æ­¥éª¤"}},[s._v("#")]),s._v(" å®ç°æ­¥éª¤")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("å®šä¹‰æ•°æ®æ¨¡å‹")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Entity")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("User")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@PrimaryKey")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Int"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" email"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Embedded")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" address"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Address\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("data")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" street"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" city"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" String\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[s._v("åˆ›å»ºRepository")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserRepository")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" apiService"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ApiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserDao\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Flow"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("PagingData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Pager")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n            config "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("PagingConfig")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("pageSize "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            remoteMediator "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserRemoteMediator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("apiService"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            userDao"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pagingSource")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("flow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cachedIn")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("viewModelScope"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[s._v("åˆ›å»ºViewModel")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" repository"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserRepository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ViewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" users"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Flow"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("PagingData"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("User"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" repository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("refreshUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        viewModelScope"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("launch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            repository"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("refreshUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[t("strong",[s._v("åœ¨UIä¸­å±•ç¤º")]),s._v("ï¼š")])]),s._v(" "),t("div",{staticClass:"language-kotlin line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-kotlin"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation builtin"}},[s._v("@Composable")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fun")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserScreen")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("viewModel"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" UserViewModel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("viewModel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" users "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" viewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("collectAsLazyPagingItems")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("val")]),s._v(" context "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" LocalContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("current\n    \n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("SwipeRefresh")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n        state "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("rememberSwipeRefreshState")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("isRefreshing "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        onRefresh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" viewModel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("refreshUsers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        LazyColumn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("items")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("itemCount"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" index "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("\n                users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("index"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("let")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UserItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            \n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("when")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loadState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("append"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" LoadState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Loading "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    item "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("LoadingIndicator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("is")]),s._v(" LoadState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Error "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    item "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ErrorRetryItem")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n                            message "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("loadState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("append "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" LoadState"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("message "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?:")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                            onRetry "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("retry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("->")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("h2",{attrs:{id:"æœ€ä½³å®è·µ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœ€ä½³å®è·µ"}},[s._v("#")]),s._v(" æœ€ä½³å®è·µ")]),s._v(" "),t("p",[s._v("åœ¨ä½¿ç”¨Jetpackç»„ä»¶æ—¶ï¼Œæˆ‘æ€»ç»“äº†ä¸€äº›æœ€ä½³å®è·µï¼š")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("åˆ†å±‚æ¶æ„")]),s._v("ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("UIå±‚ï¼šActivityã€Fragmentã€Compose UI")]),s._v(" "),t("li",[s._v("ViewModelå±‚ï¼šå¤„ç†UIé€»è¾‘å’ŒçŠ¶æ€")]),s._v(" "),t("li",[s._v("Repositoryå±‚ï¼šå¤„ç†æ•°æ®æº")]),s._v(" "),t("li",[s._v("æ•°æ®å±‚ï¼šç½‘ç»œã€æ•°æ®åº“ã€æœ¬åœ°å­˜å‚¨")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("ä¾èµ–æ³¨å…¥")]),s._v("ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä½¿ç”¨Hiltæˆ–Koinè¿›è¡Œä¾èµ–æ³¨å…¥")]),s._v(" "),t("li",[s._v("é¿å…åœ¨ViewModelä¸­ç›´æ¥åˆ›å»ºä¾èµ–é¡¹")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("é”™è¯¯å¤„ç†")]),s._v("ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("åœ¨Repositoryå±‚ç»Ÿä¸€å¤„ç†é”™è¯¯")]),s._v(" "),t("li",[s._v("ä½¿ç”¨sealed classè¡¨ç¤ºä¸åŒçš„çŠ¶æ€ï¼ˆåŠ è½½ä¸­ã€æˆåŠŸã€é”™è¯¯ï¼‰")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("æµ‹è¯•")]),s._v("ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä¸ºViewModelç¼–å†™å•å…ƒæµ‹è¯•")]),s._v(" "),t("li",[s._v("ä½¿ç”¨Android Testæ¡†æ¶æµ‹è¯•UIäº¤äº’")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("æ€§èƒ½ä¼˜åŒ–")]),s._v("ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ä½¿ç”¨åç¨‹è¿›è¡Œå¼‚æ­¥æ“ä½œ")]),s._v(" "),t("li",[s._v("åˆç†ä½¿ç”¨Pagingåº“å®ç°åˆ†é¡µåŠ è½½")]),s._v(" "),t("li",[s._v("é¿å…åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œ")])])])]),s._v(" "),t("h2",{attrs:{id:"ç»“è¯­"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[s._v("#")]),s._v(" ç»“è¯­")]),s._v(" "),t("p",[s._v("Jetpackç»„ä»¶å·²ç»æˆä¸ºç°ä»£Androidå¼€å‘çš„æ ‡é…ï¼Œå®ƒä»¬å¸®åŠ©æˆ‘ä»¬è§£å†³äº†è®¸å¤šå¸¸è§é—®é¢˜ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€Œéåº•å±‚å®ç°ã€‚")]),s._v(" "),t("p",[s._v("é€šè¿‡åˆç†ä½¿ç”¨ViewModelã€LiveDataã€Roomã€Navigationç­‰ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæ›´åŠ å¥å£®ã€å¯ç»´æŠ¤å’Œå¯æµ‹è¯•çš„Androidåº”ç”¨ã€‚åŒæ—¶ï¼Œéšç€Jetpackçš„ä¸æ–­æ›´æ–°ï¼Œå¦‚Paging 3ã€DataStoreç­‰æ–°ç»„ä»¶çš„åŠ å…¥ï¼Œæˆ‘ä»¬æœ‰æ›´å¤šå·¥å…·æ¥åº”å¯¹æ—¥ç›Šå¤æ‚çš„å¼€å‘éœ€æ±‚ã€‚")]),s._v(" "),t("p",[s._v("ä½œä¸ºä¸€åAndroidå¼€å‘è€…ï¼Œæˆ‘å»ºè®®å¤§å®¶æ·±å…¥å­¦ä¹ å’Œå®è·µJetpackç»„ä»¶ï¼Œå®ƒä»¬ä¸ä»…èƒ½æå‡å¼€å‘æ•ˆç‡ï¼Œè¿˜èƒ½è®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ ä¸“ä¸šå’Œè§„èŒƒã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("è®°ä½ï¼Œå·¥å…·åªæ˜¯æ‰‹æ®µï¼ŒçœŸæ­£çš„ä»·å€¼åœ¨äºå¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·æ„å»ºå‡ºä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒã€‚Jetpackä¸ºæˆ‘ä»¬æä¾›äº†å¼ºå¤§çš„æ­¦å™¨ï¼Œä½†å¦‚ä½•è¿ç”¨è¿™äº›æ­¦å™¨ï¼Œè¿˜éœ€è¦æˆ‘ä»¬ä¸æ–­å­¦ä¹ å’Œå®è·µã€‚")])]),s._v(" "),t("p",[s._v("å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨Jetpackç»„ä»¶ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼ğŸ˜Š")])])}),[],!1,null,null,null);t.default=e.exports}}]);