(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{368:function(t,a,s){"use strict";s.r(a);var r=s(14),v=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"背景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),a("p",[t._v("持续集成（CI）和持续发布（CD）是一种现代化软件开发流程，它将软件开发过程中的各个环节自动化，并且能够快速地进行测试、编译、构建、部署和发布等流程。")]),t._v(" "),a("p",[t._v("这种流程的出现，可以带来以下好处：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("提高软件质量：持续集成可以将代码和测试自动集成，每次代码提交后就可以进行测试和构建，及时发现和解决问题，从而提高软件质量。")])]),t._v(" "),a("li",[a("p",[t._v("提高开发效率：持续集成可以让开发者快速得到反馈，及时修复错误，避免出现问题的积累，提高开发效率。")])]),t._v(" "),a("li",[a("p",[t._v("快速部署：持续发布可以将代码自动部署到生产环境中，从而减少手动干预的错误，同时能够快速响应用户需求，缩短软件上线时间。")])]),t._v(" "),a("li",[a("p",[t._v("减少风险：持续集成和持续发布可以自动化执行测试、构建和部署等环节，降低了人为操作的风险，从而减少软件发布过程中的潜在问题。")])]),t._v(" "),a("li",[a("p",[t._v("提高团队协作效率：持续集成和持续发布可以帮助团队协作和沟通，让开发、测试和运维人员在同一流程中协作，从而提高效率和减少沟通成本。")])])]),t._v(" "),a("blockquote",[a("p",[t._v("总之，持续集成和持续发布可以提高软件开发的效率和质量，同时减少风险和成本。随着现代软件开发的发展，它们已经成为了一种必要的软件开发流程，为软件开发和部署提供了更加高效和可靠的解决方案。")])]),t._v(" "),a("h2",{attrs:{id:"自动构建后端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动构建后端"}},[t._v("#")]),t._v(" 自动构建后端")]),t._v(" "),a("h3",{attrs:{id:"插件安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件安装"}},[t._v("#")]),t._v(" 插件安装")]),t._v(" "),a("p",[t._v("✅publish-over-ssh # 用途: 用于A服务器构建好的产物传输到到B服务器")]),t._v(" "),a("p",[t._v("✅git-parameter    # 用途: 参数化构建，后续可以根据分支来进行打包\n"),a("img",{attrs:{src:"/dev/200/1.png",alt:"CI/CD"}})]),t._v(" "),a("h3",{attrs:{id:"准备构建环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备构建环境"}},[t._v("#")]),t._v(" 准备构建环境")]),t._v(" "),a("p",[t._v("✅git\n✅maven\n✅jdk(>=1.8)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/2.png",alt:"CI/CD"}})]),t._v(" "),a("h3",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),a("p",[t._v("点击Manage Jenkins再点击Global Tool Configuration\n"),a("img",{attrs:{src:"/dev/200/3.png",alt:"CI/CD"}})]),t._v(" "),a("ol",[a("li",[a("p",[t._v("maven环境配置\n"),a("img",{attrs:{src:"/dev/200/4.png",alt:"CI/CD"}})])]),t._v(" "),a("li",[a("p",[t._v("JDK环境配置\n"),a("img",{attrs:{src:"/dev/200/5.png",alt:"CI/CD"}})])]),t._v(" "),a("li",[a("p",[t._v("git环境配置\n"),a("img",{attrs:{src:"/dev/200/6.png",alt:"CI/CD"}})])]),t._v(" "),a("li",[a("p",[t._v("maven安装配置\n"),a("img",{attrs:{src:"/dev/200/7.png",alt:"CI/CD"}})])])]),t._v(" "),a("blockquote",[a("p",[t._v("如果操作过程中，没有报错。意味着配置完成了。")])]),t._v(" "),a("h3",{attrs:{id:"创建项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[t._v("#")]),t._v(" 创建项目")]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/8.png",alt:"CI/CD"}})]),t._v(" "),a("h3",{attrs:{id:"根据分支来构建代码配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#根据分支来构建代码配置"}},[t._v("#")]),t._v(" 根据分支来构建代码配置")]),t._v(" "),a("p",[a("strong",[t._v("效果图: 可以看见仓库所有的分支")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/9.png",alt:"CI/CD"}})]),t._v(" "),a("p",[a("strong",[t._v("仓库分支展示:")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/10.png",alt:"CI/CD"}})]),t._v(" "),a("p",[a("strong",[t._v("Jenkins分支展示")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/11.png",alt:"CI/CD"}})]),t._v(" "),a("p",[a("strong",[t._v("拉取代码展示:")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/12.png",alt:"CI/CD"}}),t._v(" "),a("img",{attrs:{src:"/dev/200/13.png",alt:"CI/CD"}}),t._v(" "),a("img",{attrs:{src:"/dev/200/14.png",alt:"CI/CD"}})]),t._v(" "),a("blockquote",[a("p",[t._v("已经成功从对应仓库拉取代码。")])]),t._v(" "),a("h3",{attrs:{id:"maven打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#maven打包"}},[t._v("#")]),t._v(" maven打包")]),t._v(" "),a("blockquote",[a("p",[t._v("编辑打包指令，执行打包操作")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("/usr/local/maven/bin/mvn "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-DskipTests")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true clean "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/dev/200/15.png",alt:"CI/CD"}})]),t._v(" "),a("p",[a("strong",[t._v("构建中")]),t._v(" "),a("img",{attrs:{src:"/dev/200/16.png",alt:"CI/CD"}})]),t._v(" "),a("p",[a("strong",[t._v("构建成功")]),t._v(" "),a("img",{attrs:{src:"/dev/200/17.png",alt:"CI/CD"}})]),t._v(" "),a("h3",{attrs:{id:"查询打包产物"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查询打包产物"}},[t._v("#")]),t._v(" 查询打包产物")]),t._v(" "),a("blockquote",[a("p",[t._v("每个服务打包的产物不同，需要各自"),a("code",[t._v("cd")]),t._v("到指定文件夹的"),a("code",[t._v("target")]),t._v("目录下。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/18.png",alt:"CI/CD"}})]),t._v(" "),a("h3",{attrs:{id:"远程传输"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程传输"}},[t._v("#")]),t._v(" 远程传输")]),t._v(" "),a("blockquote",[a("p",[t._v("我们首先需要配置下ssh密钥保证正常通信，首先点击"),a("code",[t._v("Manage Jenkins")]),t._v("在点击"),a("code",[t._v("Configure System")]),t._v(" "),a("img",{attrs:{src:"/dev/200/19.png",alt:"CI/CD"}})])]),t._v(" "),a("blockquote",[a("p",[t._v("找到Publish over SSH\n"),a("img",{attrs:{src:"/dev/200/21.png",alt:"CI/CD"}})])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/22.png",alt:"CI/CD"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/23.png",alt:"CI/CD"}})]),t._v(" "),a("blockquote",[a("p",[t._v("如果需要新增其他服务器，这么配置")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/24.png",alt:"CI/CD"}})]),t._v(" "),a("p",[t._v("点击保存。回到"),a("strong",[t._v("自由项目")]),t._v("配置，点击增加"),a("code",[t._v("构建步骤")]),t._v("里的"),a("code",[t._v("Send files xxxxxx SSH")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/25.png",alt:"CI/CD"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/26.png",alt:"CI/CD"}})]),t._v(" "),a("p",[t._v("查看B服务器中根目录下project.文件夹，就可以发现xjar已经推送过来了\n"),a("img",{attrs:{src:"/dev/200/27.png",alt:"CI/CD"}})]),t._v(" "),a("p",[t._v("后端打包，并且发布其他服务器告一段落。剩下的可继续在后面增加可执行脚本，将目标服务器的文件备份与重启服务。")]),t._v(" "),a("h2",{attrs:{id:"自动构建前端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动构建前端"}},[t._v("#")]),t._v(" 自动构建前端")]),t._v(" "),a("h3",{attrs:{id:"环境变量检查"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量检查"}},[t._v("#")]),t._v(" 环境变量检查")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost bdg01-web"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# echo $PATH ")]),t._v("\n/usr/local/node/bin:/usr/lib64/qt-3.3/bin:/root/perl5/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/usr/local/java/bin:/usr/local/maven/bin:/root/bin\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"/dev/200/28.png",alt:"CI/CD"}}),t._v(" "),a("img",{attrs:{src:"/dev/200/29.png",alt:"CI/CD"}})]),t._v(" "),a("h3",{attrs:{id:"构建打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建打包"}},[t._v("#")]),t._v(" 构建打包")]),t._v(" "),a("blockquote",[a("p",[t._v("打包完成后，类似后端jar包推送到B服务器。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/dev/200/30.png",alt:"CI/CD"}}),t._v(" "),a("img",{attrs:{src:"/dev/200/31.png",alt:"CI/CD"}})])])}),[],!1,null,null,null);a.default=v.exports}}]);