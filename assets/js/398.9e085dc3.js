(window.webpackJsonp=window.webpackJsonp||[]).push([[398],{753:function(s,a,t){"use strict";t.r(a);var n=t(15),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[s._v("#")]),s._v(" å‰è¨€")]),s._v(" "),a("p",[s._v("åœ¨DevOpsçš„ä¸–ç•Œä¸­ï¼ŒåŸºç¡€è®¾æ–½å³ä»£ç (IaC)å·²ç»æˆä¸ºç°ä»£åº”ç”¨éƒ¨ç½²çš„åŸºçŸ³ã€‚å®ƒå…è®¸æˆ‘ä»¬ä»¥ç¼–ç¨‹æ–¹å¼å®šä¹‰ã€é…ç½®å’Œç®¡ç†åŸºç¡€è®¾æ–½ï¼Œæ¶ˆé™¤äº†æ‰‹åŠ¨é…ç½®å¸¦æ¥çš„ä¸ä¸€è‡´æ€§å’Œé”™è¯¯ã€‚ç„¶è€Œï¼Œéšç€äº‘åŸç”ŸæŠ€æœ¯çš„å…´èµ·å’Œåº”ç”¨å¤æ‚åº¦çš„å¢åŠ ï¼Œä¼ ç»Ÿçš„IaCæ–¹æ³•ä¹Ÿé¢ä¸´æ–°çš„æŒ‘æˆ˜ã€‚")]),s._v(" "),a("p",[s._v("ğŸ¤” ä½ æ˜¯å¦æ›¾é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼šä½ çš„åŸºç¡€è®¾æ–½ä»£ç åœ¨æœ¬åœ°æµ‹è¯•é€šè¿‡ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å´å‡ºç°äº†æ„å¤–è¡Œä¸ºï¼Ÿæˆ–è€…å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„é…ç½®æ›´æ”¹å¦‚ä½•æœ‰æ•ˆè¿½è¸ªå’Œåä½œï¼Ÿ")]),s._v(" "),a("p",[s._v("è¿™æ—¶ï¼ŒGitOpsåº”è¿è€Œç”Ÿã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§å·¥ä½œæ–¹æ³•å’Œç†å¿µï¼Œå°†Gitä½œä¸ºå£°æ˜å¼åŸºç¡€è®¾æ–½å’Œåº”ç”¨çš„å”¯ä¸€çœŸå®æ¥æºï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æµç¨‹ç¡®ä¿ç³»ç»ŸçŠ¶æ€ä¸Gitä»“åº“ä¸­çš„å£°æ˜ä¸€è‡´ã€‚")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("æç¤º")]),s._v(" "),a("p",[s._v('GitOpsçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š"å¦‚æœå®ƒä¸åœ¨Gitä¸­ï¼Œå®ƒå°±ä¸å­˜åœ¨"ã€‚è¿™ç§å£°æ˜å¼çš„æ–¹æ³•è®©åŸºç¡€è®¾æ–½ç®¡ç†å˜å¾—æ›´åŠ é€æ˜ã€å¯é å’Œé«˜æ•ˆã€‚')])]),s._v(" "),a("p",[s._v("åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨GitOpsçš„åŸç†ã€å®è·µå’Œå·¥å…·ï¼Œå¸®åŠ©ä½ ç†è§£è¿™ä¸€å£°æ˜å¼åŸºç¡€è®¾æ–½ç®¡ç†çš„æ–°èŒƒå¼ã€‚")]),s._v(" "),a("h2",{attrs:{id:"gitopsçš„æ ¸å¿ƒåŸåˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitopsçš„æ ¸å¿ƒåŸåˆ™"}},[s._v("#")]),s._v(" GitOpsçš„æ ¸å¿ƒåŸåˆ™")]),s._v(" "),a("p",[s._v("GitOpså»ºç«‹åœ¨å‡ ä¸ªæ ¸å¿ƒåŸåˆ™ä¹‹ä¸Šï¼Œè¿™äº›åŸåˆ™ä½¿å…¶åŒºåˆ«äºä¼ ç»Ÿçš„IaCæ–¹æ³•ï¼š")]),s._v(" "),a("h3",{attrs:{id:"_1-å£°æ˜å¼é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å£°æ˜å¼é…ç½®"}},[s._v("#")]),s._v(" 1. å£°æ˜å¼é…ç½®")]),s._v(" "),a("p",[s._v('GitOpsä½¿ç”¨å£°æ˜å¼é…ç½®æ¥æè¿°ç³»ç»Ÿçš„æœŸæœ›çŠ¶æ€ï¼Œè€Œä¸æ˜¯è¯¦ç»†è¯´æ˜å¦‚ä½•è¾¾åˆ°è¿™ä¸ªçŠ¶æ€ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬åªéœ€æè¿°"ç³»ç»Ÿåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­"ï¼Œè€Œä¸éœ€è¦å…³å¿ƒ"å¦‚ä½•è®©ç³»ç»Ÿå˜æˆè¿™æ ·"ã€‚')]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å£°æ˜å¼é…ç½®ç¤ºä¾‹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("matchLabels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" nginx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("1.14.2\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("h3",{attrs:{id:"_2-gitä½œä¸ºå”¯ä¸€çœŸå®æ¥æº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-gitä½œä¸ºå”¯ä¸€çœŸå®æ¥æº"}},[s._v("#")]),s._v(" 2. Gitä½œä¸ºå”¯ä¸€çœŸå®æ¥æº")]),s._v(" "),a("p",[s._v("æ‰€æœ‰çš„ç³»ç»Ÿé…ç½®å’ŒçŠ¶æ€éƒ½å­˜å‚¨åœ¨Gitä»“åº“ä¸­ã€‚Gitä»“åº“æˆä¸ºç³»ç»Ÿçš„æƒå¨æ¥æºï¼Œä»»ä½•å¯¹ç³»ç»Ÿçš„å˜æ›´éƒ½å¿…é¡»é€šè¿‡Gitè¿›è¡Œã€‚")]),s._v(" "),a("h3",{attrs:{id:"_3-è‡ªåŠ¨åŒ–åŒæ­¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-è‡ªåŠ¨åŒ–åŒæ­¥"}},[s._v("#")]),s._v(" 3. è‡ªåŠ¨åŒ–åŒæ­¥")]),s._v(" "),a("p",[s._v("ç³»ç»Ÿé€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·æŒç»­ç›‘æ§Gitä»“åº“çš„å˜åŒ–ï¼Œå¹¶å°†è¿™äº›å˜æ›´åº”ç”¨åˆ°ç³»ç»Ÿä¸­ï¼Œç¡®ä¿å®é™…çŠ¶æ€ä¸Gitä¸­å£°æ˜çš„çŠ¶æ€ä¸€è‡´ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_4-æŒç»­éªŒè¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-æŒç»­éªŒè¯"}},[s._v("#")]),s._v(" 4. æŒç»­éªŒè¯")]),s._v(" "),a("p",[s._v("ç³»ç»Ÿä¼šä¸æ–­éªŒè¯å®é™…çŠ¶æ€æ˜¯å¦ç¬¦åˆGitä¸­çš„å£°æ˜ï¼Œå¦‚æœä¸ç¬¦ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§¦å‘ä¿®å¤æµç¨‹ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_5-äººç±»å¯è¯»çš„å®¡è®¡æ—¥å¿—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-äººç±»å¯è¯»çš„å®¡è®¡æ—¥å¿—"}},[s._v("#")]),s._v(" 5. äººç±»å¯è¯»çš„å®¡è®¡æ—¥å¿—")]),s._v(" "),a("p",[s._v("ç”±äºæ‰€æœ‰å˜æ›´éƒ½é€šè¿‡Gitè¿›è¡Œï¼Œå› æ­¤æ‰€æœ‰çš„å˜æ›´éƒ½æœ‰å®Œæ•´çš„ã€äººç±»å¯è¯»çš„å®¡è®¡è®°å½•ï¼ŒåŒ…æ‹¬è°åšäº†ä»€ä¹ˆå˜æ›´ä»¥åŠä¸ºä»€ä¹ˆåšè¿™ä¸ªå˜æ›´ã€‚")]),s._v(" "),a("h2",{attrs:{id:"gitopsä¸ä¼ ç»Ÿiacçš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitopsä¸ä¼ ç»Ÿiacçš„åŒºåˆ«"}},[s._v("#")]),s._v(" GitOpsä¸ä¼ ç»ŸIaCçš„åŒºåˆ«")]),s._v(" "),a("p",[s._v("è™½ç„¶GitOpså»ºç«‹åœ¨IaCçš„åŸºç¡€ä¹‹ä¸Šï¼Œä½†å®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›å…³é”®çš„åŒºåˆ«ï¼š")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("ç‰¹æ€§")]),s._v(" "),a("th",[s._v("ä¼ ç»ŸIaC")]),s._v(" "),a("th",[s._v("GitOps")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("é…ç½®æ–¹å¼")]),s._v(" "),a("td",[s._v("å‘½ä»¤å¼æˆ–å£°æ˜å¼")]),s._v(" "),a("td",[s._v("ä¸»è¦æ˜¯å£°æ˜å¼")])]),s._v(" "),a("tr",[a("td",[s._v("å˜æ›´æµç¨‹")]),s._v(" "),a("td",[s._v("é€šè¿‡CI/CDæµæ°´çº¿åº”ç”¨å˜æ›´")]),s._v(" "),a("td",[s._v("é€šè¿‡Gitæäº¤è§¦å‘è‡ªåŠ¨åŒ–åŒæ­¥")])]),s._v(" "),a("tr",[a("td",[s._v("çŠ¶æ€ç®¡ç†")]),s._v(" "),a("td",[s._v("éœ€è¦é¢å¤–å·¥å…·ç®¡ç†çŠ¶æ€")]),s._v(" "),a("td",[s._v("è‡ªåŠ¨åŒ–åŒæ­¥ç¡®ä¿çŠ¶æ€ä¸€è‡´")])]),s._v(" "),a("tr",[a("td",[s._v("å®¡è®¡æ—¥å¿—")]),s._v(" "),a("td",[s._v("ä¾èµ–äºCI/CDç³»ç»Ÿçš„æ—¥å¿—")]),s._v(" "),a("td",[s._v("ä½¿ç”¨Gitæäº¤å†å²ä½œä¸ºå®¡è®¡æ—¥å¿—")])]),s._v(" "),a("tr",[a("td",[s._v("é€‚ç”¨åœºæ™¯")]),s._v(" "),a("td",[s._v("ä»»ä½•åŸºç¡€è®¾æ–½ç®¡ç†")]),s._v(" "),a("td",[s._v("ç‰¹åˆ«é€‚åˆäº‘åŸç”Ÿå’ŒKubernetesç¯å¢ƒ")])]),s._v(" "),a("tr",[a("td",[s._v("å·¥å…·é“¾")]),s._v(" "),a("td",[s._v("Terraform, CloudFormation, Ansibleç­‰")]),s._v(" "),a("td",[s._v("Argo CD, Flux, Jenkins Xç­‰")])])])]),s._v(" "),a("div",{staticClass:"custom-block theorem"},[a("p",{staticClass:"title"},[s._v("THEOREM")]),a("p",[s._v("GitOpså¯ä»¥è¢«çœ‹ä½œæ˜¯IaCçš„ä¸€ç§æ¼”è¿›å½¢å¼ï¼Œå®ƒç‰¹åˆ«é€‚åˆäºäº‘åŸç”Ÿç¯å¢ƒï¼Œå°¤å…¶æ˜¯Kubernetesé›†ç¾¤çš„ç®¡ç†ï¼Œä½†å®ƒä¹Ÿå¯ä»¥åº”ç”¨äºå…¶ä»–ç±»å‹çš„åŸºç¡€è®¾æ–½ã€‚")])]),a("h2",{attrs:{id:"gitopså·¥ä½œæµç¨‹è¯¦è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitopså·¥ä½œæµç¨‹è¯¦è§£"}},[s._v("#")]),s._v(" GitOpså·¥ä½œæµç¨‹è¯¦è§£")]),s._v(" "),a("p",[s._v("GitOpsçš„å·¥ä½œæµç¨‹å¯ä»¥ç®€åŒ–ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š")]),s._v(" "),a("h3",{attrs:{id:"_1-å¼€å‘äººå‘˜å˜æ›´é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¼€å‘äººå‘˜å˜æ›´é…ç½®"}},[s._v("#")]),s._v(" 1. å¼€å‘äººå‘˜å˜æ›´é…ç½®")]),s._v(" "),a("p",[s._v("å¼€å‘äººå‘˜é¦–å…ˆåœ¨æœ¬åœ°åˆ›å»ºæˆ–ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æè¿°äº†ç³»ç»Ÿçš„æœŸæœ›çŠ¶æ€ã€‚")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ›å»ºæˆ–ä¿®æ”¹Kuberneteséƒ¨ç½²æ–‡ä»¶")]),s._v("\nkubectl create deployment my-app "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--image")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("my-image:tag --dry-run"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" yaml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" deployment.yaml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-æäº¤å˜æ›´åˆ°git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-æäº¤å˜æ›´åˆ°git"}},[s._v("#")]),s._v(" 2. æäº¤å˜æ›´åˆ°Git")]),s._v(" "),a("p",[s._v("å¼€å‘äººå‘˜å°†å˜æ›´æäº¤åˆ°Gitä»“åº“ä¸­ï¼Œå¹¶åˆ›å»ºPull Requestè¿›è¡Œä»£ç å®¡æŸ¥ã€‚")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" deployment.yaml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Add my-app deployment"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin feature/my-app\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"_3-ä»£ç å®¡æŸ¥ä¸åˆå¹¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ä»£ç å®¡æŸ¥ä¸åˆå¹¶"}},[s._v("#")]),s._v(" 3. ä»£ç å®¡æŸ¥ä¸åˆå¹¶")]),s._v(" "),a("p",[s._v("å›¢é˜Ÿæˆå‘˜å¯¹Pull Requestè¿›è¡Œå®¡æŸ¥ï¼Œç¡®ä¿é…ç½®çš„æ­£ç¡®æ€§å’Œå®‰å…¨æ€§ã€‚å®¡æŸ¥é€šè¿‡åï¼Œé…ç½®è¢«åˆå¹¶åˆ°ä¸»åˆ†æ”¯ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_4-è‡ªåŠ¨åŒ–åŒæ­¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-è‡ªåŠ¨åŒ–åŒæ­¥"}},[s._v("#")]),s._v(" 4. è‡ªåŠ¨åŒ–åŒæ­¥")]),s._v(" "),a("p",[s._v("GitOpså·¥å…·ï¼ˆå¦‚Argo CDæˆ–Fluxï¼‰æ£€æµ‹åˆ°Gitä»“åº“ä¸­çš„å˜æ›´ï¼Œè‡ªåŠ¨å°†è¿™äº›å˜æ›´åº”ç”¨åˆ°ç›®æ ‡ç³»ç»Ÿä¸­ã€‚")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Argo CD Applicationç¤ºä¾‹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" argoproj.io/v1alpha1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Application\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" argocd\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("repoURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//github.com/my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("org/my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("repo.git\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetRevision")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" HEAD\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//kubernetes.default.svc\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("namespace\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_5-çŠ¶æ€éªŒè¯ä¸æŠ¥å‘Š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-çŠ¶æ€éªŒè¯ä¸æŠ¥å‘Š"}},[s._v("#")]),s._v(" 5. çŠ¶æ€éªŒè¯ä¸æŠ¥å‘Š")]),s._v(" "),a("p",[s._v("GitOpså·¥å…·æŒç»­éªŒè¯å®é™…ç³»ç»ŸçŠ¶æ€æ˜¯å¦ç¬¦åˆGitä¸­çš„å£°æ˜ï¼Œå¹¶å°†ç»“æœæŠ¥å‘Šç»™ç›¸å…³äººå‘˜ã€‚")]),s._v(" "),a("h2",{attrs:{id:"å¸¸è§gitopså·¥å…·ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§gitopså·¥å…·ä»‹ç»"}},[s._v("#")]),s._v(" å¸¸è§GitOpså·¥å…·ä»‹ç»")]),s._v(" "),a("p",[s._v("GitOpsç”Ÿæ€ç³»ç»Ÿä¸­æœ‰è®¸å¤šä¼˜ç§€çš„å·¥å…·ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›æœ€æµè¡Œçš„ï¼š")]),s._v(" "),a("h3",{attrs:{id:"_1-argo-cd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-argo-cd"}},[s._v("#")]),s._v(" 1. Argo CD")]),s._v(" "),a("p",[s._v("Argo CDæ˜¯å¼€æºçš„GitOpsæŒç»­äº¤ä»˜å·¥å…·ï¼Œç”±Intuitå…¬å¸å¼€å‘ï¼Œä¸“é—¨ä¸ºKubernetesè®¾è®¡ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ç‰¹ç‚¹")]),s._v(":")]),s._v(" "),a("ul",[a("li",[s._v("å£°æ˜å¼çš„GitOpsæ–¹æ³•")]),s._v(" "),a("li",[s._v("è‡ªåŠ¨åŒæ­¥å’Œå¥åº·çŠ¶æ€æ£€æŸ¥")]),s._v(" "),a("li",[s._v("æ”¯æŒå¤šç§Gitæä¾›å•†")]),s._v(" "),a("li",[s._v("ä¸°å¯Œçš„UIç•Œé¢å’ŒCLIå·¥å…·")]),s._v(" "),a("li",[s._v("æ”¯æŒå¤šç§ç­–ç•¥ï¼ˆè‡ªåŠ¨åŒæ­¥ã€æ‰‹åŠ¨åŒæ­¥ç­‰ï¼‰")])]),s._v(" "),a("p",[a("strong",[s._v("é€‚ç”¨åœºæ™¯")]),s._v(":")]),s._v(" "),a("ul",[a("li",[s._v("Kubernetesåº”ç”¨éƒ¨ç½²")]),s._v(" "),a("li",[s._v("å¤šç¯å¢ƒç®¡ç†")]),s._v(" "),a("li",[s._v("å¤æ‚çš„åº”ç”¨ä¾èµ–å…³ç³»ç®¡ç†")])]),s._v(" "),a("h3",{attrs:{id:"_2-flux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-flux"}},[s._v("#")]),s._v(" 2. Flux")]),s._v(" "),a("p",[s._v("Fluxæ˜¯å¦ä¸€ä¸ªæµè¡Œçš„å¼€æºGitOpså·¥å…·ï¼Œç”±Weaveworkså…¬å¸å¼€å‘ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ç‰¹ç‚¹")]),s._v(":")]),s._v(" "),a("ul",[a("li",[s._v("è½»é‡çº§æ¶æ„")]),s._v(" "),a("li",[s._v("æ”¯æŒå¤šç§æºï¼ˆGitã€Helmã€CRDç­‰ï¼‰")]),s._v(" "),a("li",[s._v("å¼ºå¤§çš„é€šçŸ¥å’Œè­¦æŠ¥ç³»ç»Ÿ")]),s._v(" "),a("li",[s._v("æ”¯æŒè‡ªåŠ¨å’Œæ‰‹åŠ¨åŒæ­¥æ¨¡å¼")]),s._v(" "),a("li",[s._v("ä¸KubernetesåŸç”Ÿé›†æˆ")])]),s._v(" "),a("p",[a("strong",[s._v("é€‚ç”¨åœºæ™¯")]),s._v(":")]),s._v(" "),a("ul",[a("li",[s._v("KubernetesåŸºç¡€è®¾æ–½ç®¡ç†")]),s._v(" "),a("li",[s._v("å¤šé›†ç¾¤ç®¡ç†")]),s._v(" "),a("li",[s._v("æ··åˆäº‘å’Œå¤šäº‘ç¯å¢ƒ")])]),s._v(" "),a("h3",{attrs:{id:"_3-jenkins-x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-jenkins-x"}},[s._v("#")]),s._v(" 3. Jenkins X")]),s._v(" "),a("p",[s._v("Jenkins Xæ˜¯å»ºç«‹åœ¨Jenkinsä¹‹ä¸Šçš„GitOpså¹³å°ï¼Œä¸“æ³¨äºäº‘åŸç”Ÿåº”ç”¨çš„CI/CDã€‚")]),s._v(" "),a("p",[a("strong",[s._v("ç‰¹ç‚¹")]),s._v(":")]),s._v(" "),a("ul",[a("li",[s._v("è‡ªåŠ¨åŒ–çš„CI/CDæµæ°´çº¿")]),s._v(" "),a("li",[s._v("é›†æˆç¯å¢ƒç®¡ç†å’Œé¢„è§ˆç¯å¢ƒ")]),s._v(" "),a("li",[s._v("æ”¯æŒå¤šç¯å¢ƒç­–ç•¥")]),s._v(" "),a("li",[s._v("ä¸GitHub/GitLabé›†æˆ")]),s._v(" "),a("li",[s._v("è‡ªåŠ¨åŒ–åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†")])]),s._v(" "),a("p",[a("strong",[s._v("é€‚ç”¨åœºæ™¯")]),s._v(":")]),s._v(" "),a("ul",[a("li",[s._v("äº‘åŸç”Ÿåº”ç”¨å¼€å‘")]),s._v(" "),a("li",[s._v("å¤§è§„æ¨¡å›¢é˜Ÿåä½œ")]),s._v(" "),a("li",[s._v("å¤šç¯å¢ƒç®¡ç†")])]),s._v(" "),a("h2",{attrs:{id:"gitopså®è·µæ¡ˆä¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitopså®è·µæ¡ˆä¾‹"}},[s._v("#")]),s._v(" GitOpså®è·µæ¡ˆä¾‹")]),s._v(" "),a("p",[s._v("è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…æ¡ˆä¾‹æ¥äº†è§£GitOpså¦‚ä½•å·¥ä½œã€‚")]),s._v(" "),a("h3",{attrs:{id:"åœºæ™¯-éƒ¨ç½²ä¸€ä¸ªå¾®æœåŠ¡åº”ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœºæ™¯-éƒ¨ç½²ä¸€ä¸ªå¾®æœåŠ¡åº”ç”¨"}},[s._v("#")]),s._v(" åœºæ™¯ï¼šéƒ¨ç½²ä¸€ä¸ªå¾®æœåŠ¡åº”ç”¨")]),s._v(" "),a("p",[s._v("å‡è®¾æˆ‘ä»¬è¦éƒ¨ç½²ä¸€ä¸ªåŒ…å«å¤šä¸ªå¾®æœåŠ¡çš„åº”ç”¨ï¼ŒåŒ…æ‹¬APIæœåŠ¡ã€å‰ç«¯æœåŠ¡å’Œæ•°æ®åº“æœåŠ¡ã€‚")]),s._v(" "),a("h4",{attrs:{id:"_1-å‡†å¤‡gitä»“åº“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å‡†å¤‡gitä»“åº“"}},[s._v("#")]),s._v(" 1. å‡†å¤‡Gitä»“åº“")]),s._v(" "),a("p",[s._v("é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªGitä»“åº“æ¥å­˜å‚¨æ‰€æœ‰é…ç½®æ–‡ä»¶ã€‚è¿™ä¸ªä»“åº“å¯ä»¥æŒ‰ç…§ä»¥ä¸‹ç»“æ„ç»„ç»‡ï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("git-repo/\nâ”œâ”€â”€ apps/\nâ”‚   â”œâ”€â”€ api/\nâ”‚   â”‚   â”œâ”€â”€ deployment.yaml\nâ”‚   â”‚   â”œâ”€â”€ service.yaml\nâ”‚   â”‚   â””â”€â”€ kustomization.yaml\nâ”‚   â”œâ”€â”€ frontend/\nâ”‚   â”‚   â”œâ”€â”€ deployment.yaml\nâ”‚   â”‚   â”œâ”€â”€ service.yaml\nâ”‚   â”‚   â””â”€â”€ kustomization.yaml\nâ”‚   â””â”€â”€ database/\nâ”‚       â”œâ”€â”€ deployment.yaml\nâ”‚       â”œâ”€â”€ service.yaml\nâ”‚       â””â”€â”€ kustomization.yaml\nâ”œâ”€â”€ environments/\nâ”‚   â”œâ”€â”€ dev/\nâ”‚   â”‚   â””â”€â”€ application.yaml\nâ”‚   â”œâ”€â”€ staging/\nâ”‚   â”‚   â””â”€â”€ application.yaml\nâ”‚   â””â”€â”€ prod/\nâ”‚       â””â”€â”€ application.yaml\nâ””â”€â”€ infrastructure/\n    â””â”€â”€ kustomization.yaml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h4",{attrs:{id:"_2-é…ç½®argo-cd"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-é…ç½®argo-cd"}},[s._v("#")]),s._v(" 2. é…ç½®Argo CD")]),s._v(" "),a("p",[s._v("æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®Argo CDæ¥ç®¡ç†æˆ‘ä»¬çš„åº”ç”¨ã€‚")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# environments/dev/application.yaml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" argoproj.io/v1alpha1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Application\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("dev\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" argocd\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("repoURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//github.com/my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("org/my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("repo.git\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetRevision")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" HEAD\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" environments/dev\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//kubernetes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("dev"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("cluster.default.svc\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("dev\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("project")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("syncPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("automated")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("prune")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selfHeal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("h4",{attrs:{id:"_3-åº”ç”¨éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-åº”ç”¨éƒ¨ç½²"}},[s._v("#")]),s._v(" 3. åº”ç”¨éƒ¨ç½²")]),s._v(" "),a("p",[s._v("å½“æˆ‘ä»¬å°†é…ç½®æ¨é€åˆ°Gitä»“åº“åï¼ŒArgo CDä¼šè‡ªåŠ¨æ£€æµ‹å˜æ›´å¹¶å°†å…¶åº”ç”¨åˆ°å¼€å‘ç¯å¢ƒä¸­ã€‚")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æäº¤é…ç½®å˜æ›´")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" environments/dev/application.yaml\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" commit "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Add my-app to dev environment"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" push origin main\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"_4-éªŒè¯éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-éªŒè¯éƒ¨ç½²"}},[s._v("#")]),s._v(" 4. éªŒè¯éƒ¨ç½²")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡Argo CDçš„UIæˆ–CLIæ¥éªŒè¯éƒ¨ç½²çŠ¶æ€ï¼š")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æŸ¥åº”ç”¨çŠ¶æ€")]),s._v("\nargocd app get my-app-dev\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"_5-æ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-æ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒ"}},[s._v("#")]),s._v(" 5. æ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒ")]),s._v(" "),a("p",[s._v("å½“å¼€å‘ç¯å¢ƒçš„åº”ç”¨ç»è¿‡æµ‹è¯•åï¼Œæˆ‘ä»¬å¯ä»¥å°†é…ç½®æ¨é€åˆ°ç”Ÿäº§ç¯å¢ƒï¼š")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# environments/prod/application.yaml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" argoproj.io/v1alpha1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Application\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("prod\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" argocd\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("repoURL")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//github.com/my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("org/my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("repo.git\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetRevision")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" HEAD\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" environments/prod\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("destination")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("server")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//kubernetes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("prod"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("cluster.default.svc\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("prod\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("project")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" default\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("syncPolicy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("automated")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("prune")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selfHeal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("syncOptions")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" CreateNamespace=true\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br")])]),a("h2",{attrs:{id:"gitopsçš„æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gitopsçš„æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ"}},[s._v("#")]),s._v(" GitOpsçš„æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ")]),s._v(" "),a("p",[s._v("å°½ç®¡GitOpså¸¦æ¥äº†è®¸å¤šå¥½å¤„ï¼Œä½†åœ¨å®è·µä¸­ä¹Ÿä¼šé¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼š")]),s._v(" "),a("h3",{attrs:{id:"_1-æ•æ„Ÿä¿¡æ¯ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-æ•æ„Ÿä¿¡æ¯ç®¡ç†"}},[s._v("#")]),s._v(" 1. æ•æ„Ÿä¿¡æ¯ç®¡ç†")]),s._v(" "),a("p",[a("strong",[s._v("æŒ‘æˆ˜")]),s._v("ï¼šå¦‚ä½•å®‰å…¨åœ°ç®¡ç†å¯†ç ã€APIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯ï¼Ÿ")]),s._v(" "),a("p",[a("strong",[s._v("è§£å†³æ–¹æ¡ˆ")]),s._v("ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ä½¿ç”¨Kubernetes Secretsæˆ–HashiCorp Vault")]),s._v(" "),a("li",[s._v("ä½¿ç”¨secretsç®¡ç†å·¥å…·å¦‚SOPSæˆ–Bitnami Sealed Secrets")]),s._v(" "),a("li",[s._v("ä½¿ç”¨Gitçš„åŠ å¯†åŠŸèƒ½å¦‚git-crypt")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨SOPSåŠ å¯†secret")]),s._v("\nsops "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--encrypt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--kms")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"arn:aws:kms:us-west-2:123456789012:key/abcd1234-5678-90ef-ghij-klmnopqrstuv"')]),s._v(" secret.yaml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" secret.enc.yaml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-å¤§è§„æ¨¡ä»“åº“ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¤§è§„æ¨¡ä»“åº“ç®¡ç†"}},[s._v("#")]),s._v(" 2. å¤§è§„æ¨¡ä»“åº“ç®¡ç†")]),s._v(" "),a("p",[a("strong",[s._v("æŒ‘æˆ˜")]),s._v("ï¼šéšç€åº”ç”¨æ•°é‡çš„å¢åŠ ï¼ŒGitä»“åº“ä¼šå˜å¾—åºå¤§ä¸”éš¾ä»¥ç®¡ç†ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("è§£å†³æ–¹æ¡ˆ")]),s._v("ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ä½¿ç”¨Kustomizeæˆ–Helmè¿›è¡Œé…ç½®æ¨¡æ¿åŒ–")]),s._v(" "),a("li",[s._v("æŒ‰ç¯å¢ƒæˆ–å›¢é˜Ÿæ‹†åˆ†ä»“åº“")]),s._v(" "),a("li",[s._v("ä½¿ç”¨monorepoç­–ç•¥ç»“åˆå­æ¨¡å—")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä½¿ç”¨Kustomizeç»„ç»‡é…ç½®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" kustomize.config.k8s.io/v1beta1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Kustomization\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ../../base\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" database"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("overlays.yaml\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" security"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("overlays.yaml\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("patchesStrategicMerge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("quotas.yaml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"_3-ç¯å¢ƒå·®å¼‚ç®¡ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-ç¯å¢ƒå·®å¼‚ç®¡ç†"}},[s._v("#")]),s._v(" 3. ç¯å¢ƒå·®å¼‚ç®¡ç†")]),s._v(" "),a("p",[a("strong",[s._v("æŒ‘æˆ˜")]),s._v("ï¼šå¦‚ä½•ç®¡ç†ä¸åŒç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰ä¹‹é—´çš„é…ç½®å·®å¼‚ï¼Ÿ")]),s._v(" "),a("p",[a("strong",[s._v("è§£å†³æ–¹æ¡ˆ")]),s._v("ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ä½¿ç”¨ç¯å¢ƒç‰¹å®šçš„é…ç½®æ–‡ä»¶")]),s._v(" "),a("li",[s._v("ä½¿ç”¨é…ç½®æ³¨å…¥æˆ–ç‰¹å¾æ ‡å¿—")]),s._v(" "),a("li",[s._v("ä½¿ç”¨Kustomizeçš„baseå’Œoverlayæ¨¡å¼")])]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# base/deployment.yaml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("latest\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" LOG_LEVEL\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"info"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# overlays/prod/deployment.yaml")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" apps/v1\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deployment\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("image"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("prod\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" LOG_LEVEL\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"warn"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h3",{attrs:{id:"_4-å˜æ›´å®¡æ‰¹æµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-å˜æ›´å®¡æ‰¹æµç¨‹"}},[s._v("#")]),s._v(" 4. å˜æ›´å®¡æ‰¹æµç¨‹")]),s._v(" "),a("p",[a("strong",[s._v("æŒ‘æˆ˜")]),s._v("ï¼šå¦‚ä½•ç¡®ä¿å…³é”®å˜æ›´æ˜¯ç»è¿‡é€‚å½“å®¡æ‰¹çš„ï¼Ÿ")]),s._v(" "),a("p",[a("strong",[s._v("è§£å†³æ–¹æ¡ˆ")]),s._v("ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("ä½¿ç”¨GitHub/GitLabçš„Pull Requestä¿æŠ¤è§„åˆ™")]),s._v(" "),a("li",[s._v("é›†æˆå¤–éƒ¨å®¡æ‰¹ç³»ç»Ÿå¦‚Jiraæˆ–ServiceNow")]),s._v(" "),a("li",[s._v("å®æ–½åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)")])]),s._v(" "),a("h2",{attrs:{id:"ç»“è¯­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[s._v("#")]),s._v(" ç»“è¯­")]),s._v(" "),a("p",[s._v("GitOpsä»£è¡¨äº†å£°æ˜å¼åŸºç¡€è®¾æ–½ç®¡ç†çš„æœªæ¥æ–¹å‘ï¼Œå®ƒå°†Gitçš„ç‰ˆæœ¬æ§åˆ¶å’Œåä½œä¼˜åŠ¿ä¸åŸºç¡€è®¾æ–½ç®¡ç†ç›¸ç»“åˆï¼Œåˆ›é€ äº†ä¸€ç§æ›´åŠ é€æ˜ã€å¯é å’Œé«˜æ•ˆçš„å·¥ä½œæ–¹å¼ã€‚")]),s._v(" "),a("p",[s._v("ğŸ— é€šè¿‡é‡‡ç”¨GitOpsï¼Œå›¢é˜Ÿå¯ä»¥å®ç°ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("æ›´å¿«çš„éƒ¨ç½²é€Ÿåº¦å’Œæ›´å°‘çš„é”™è¯¯")]),s._v(" "),a("li",[s._v("å®Œæ•´çš„å®¡è®¡è·Ÿè¸ªå’Œå˜æ›´å†å²")]),s._v(" "),a("li",[s._v("æ›´å¥½çš„å›¢é˜Ÿåä½œå’Œä»£ç å®¡æŸ¥")]),s._v(" "),a("li",[s._v("æ›´å¼ºçš„ç³»ç»Ÿæ¢å¤èƒ½åŠ›")])]),s._v(" "),a("p",[s._v("éšç€äº‘åŸç”ŸæŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼ŒGitOpså°†ç»§ç»­æ¼”è¿›ï¼Œä¸æ›´å¤šæŠ€æœ¯å’Œå·¥å…·é›†æˆï¼Œä¸ºDevOpså®è·µå¸¦æ¥æ›´å¤§çš„ä»·å€¼ã€‚")]),s._v(" "),a("blockquote",[a("p",[s._v('æ­£å¦‚Kubernetesçš„åˆ›é€ è€…ä¹‹ä¸€Joe Bedaæ‰€è¯´ï¼š"GitOpsä¸ä»…ä»…æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œå®ƒæ˜¯ä¸€ç§æ€ç»´æ–¹å¼ï¼Œå®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿä»¥æ›´è‡ªä¿¡ã€æ›´é€æ˜çš„æ–¹å¼ç®¡ç†å¤æ‚ç³»ç»Ÿã€‚"')])]),s._v(" "),a("p",[s._v("å¦‚æœä½ è¿˜æ²¡æœ‰å°è¯•GitOpsï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ä»ä¸€ä¸ªå°é¡¹ç›®å¼€å§‹ï¼Œé€æ­¥å°†å…¶åº”ç”¨åˆ°ä½ çš„åŸºç¡€è®¾æ–½ç®¡ç†ä¸­ã€‚ä½ ä¼šå‘ç°ï¼Œè¿™ç§å£°æ˜å¼çš„æ–¹æ³•ä¼šè®©ä½ çš„è¿ç»´å·¥ä½œå˜å¾—æ›´åŠ è½»æ¾å’Œé«˜æ•ˆï¼")]),s._v(" "),a("p",[s._v("å¸Œæœ›è¿™ç¯‡å…³äºGitOpsçš„æ–‡ç« èƒ½å¤Ÿå¸®åŠ©ä½ ç†è§£è¿™ä¸€å£°æ˜å¼åŸºç¡€è®¾æ–½ç®¡ç†çš„æ–°èŒƒå¼ï¼Œå¹¶åœ¨ä½ çš„DevOpså®è·µä¸­åº”ç”¨è¿™äº›ç†å¿µã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ï¼")])])}),[],!1,null,null,null);a.default=e.exports}}]);