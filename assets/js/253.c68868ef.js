(window.webpackJsonp=window.webpackJsonp||[]).push([[253],{603:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("å—¨ï¼Œå¤§å®¶å¥½ï¼æˆ‘æ˜¯Jorgenï¼Œä»Šå¤©æˆ‘ä»¬æ¥èŠèŠAndroidå¼€å‘ä¸­ä¸€ä¸ªæ—¢åŸºç¡€åˆé‡è¦çš„è¯é¢˜â€”â€”æƒé™ç®¡ç†ã€‚ğŸ”")]),t._v(" "),s("p",[t._v("éšç€Androidç‰ˆæœ¬çš„ä¸æ–­è¿­ä»£ï¼Œæƒé™ç®¡ç†å˜å¾—è¶Šæ¥è¶Šä¸¥æ ¼å’Œå¤æ‚ã€‚ä»Android 6.0(Marshmallow)å¼•å…¥è¿è¡Œæ—¶æƒé™å¼€å§‹ï¼Œåˆ°åæ¥çš„åˆ†åŒºå­˜å‚¨ã€ç‰¹æ®Šæƒé™ç­‰ï¼ŒAndroidç³»ç»Ÿå¯¹ç”¨æˆ·éšç§çš„ä¿æŠ¤è¶Šæ¥è¶Šé‡è§†ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬å¿…é¡»æŒæ¡è¿™äº›æƒé™ç®¡ç†çŸ¥è¯†ï¼Œæ‰èƒ½å¼€å‘å‡ºæ—¢ç¬¦åˆè§„èŒƒåˆç”¨æˆ·ä½“éªŒè‰¯å¥½çš„åº”ç”¨ã€‚")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("æƒé™ç®¡ç†ä¸ä»…æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œæ›´æ˜¯ç”¨æˆ·ä½“éªŒå’Œéšç§ä¿æŠ¤çš„å…³é”®ç¯èŠ‚ã€‚è‰¯å¥½çš„æƒé™ç®¡ç†ç­–ç•¥å¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·å¯¹åº”ç”¨çš„ä¿¡ä»»åº¦ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"androidæƒé™æ¦‚è¿°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#androidæƒé™æ¦‚è¿°"}},[t._v("#")]),t._v(" Androidæƒé™æ¦‚è¿°")]),t._v(" "),s("p",[t._v("åœ¨æ·±å…¥æ¢è®¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹Androidæƒé™çš„åŸºæœ¬æ¦‚å¿µã€‚")]),t._v(" "),s("h3",{attrs:{id:"æƒé™åˆ†ç±»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æƒé™åˆ†ç±»"}},[t._v("#")]),t._v(" æƒé™åˆ†ç±»")]),t._v(" "),s("p",[t._v("Androidæƒé™ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("æ™®é€šæƒé™(Normal Permissions)")]),t._v(" ğŸ“‹")]),t._v(" "),s("ul",[s("li",[t._v("ä¸ä¼šç›´æ¥å¨èƒç”¨æˆ·éšç§çš„æƒé™")]),t._v(" "),s("li",[t._v("åœ¨å®‰è£…æ—¶è‡ªåŠ¨æˆæƒï¼Œæ— éœ€ç”¨æˆ·ç¡®è®¤")]),t._v(" "),s("li",[t._v("ä¾‹å¦‚ï¼šè®¿é—®ç½‘ç»œã€Wi-FiçŠ¶æ€ç­‰")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("å±é™©æƒé™(Dangerous Permissions)")]),t._v(" âš ï¸")]),t._v(" "),s("ul",[s("li",[t._v("å¯èƒ½æ¶‰åŠç”¨æˆ·éšç§çš„æƒé™")]),t._v(" "),s("li",[t._v("éœ€è¦è¿è¡Œæ—¶è¯·æ±‚ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©æˆæƒæˆ–æ‹’ç»")]),t._v(" "),s("li",[t._v("ä¾‹å¦‚ï¼šç›¸æœºã€ä½ç½®ã€è”ç³»äººç­‰")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç‰¹æ®Šæƒé™(Special Permissions)")]),t._v(" ğŸ”‘")]),t._v(" "),s("ul",[s("li",[t._v("Android 11åŠä»¥ä¸Šå¼•å…¥çš„ç‰¹æ®Šæƒé™")]),t._v(" "),s("li",[t._v("éœ€è¦é€šè¿‡ç³»ç»Ÿè®¾ç½®é¡µé¢æˆæƒ")]),t._v(" "),s("li",[t._v("ä¾‹å¦‚ï¼šå®‰è£…æœªçŸ¥åº”ç”¨ã€å¿½ç•¥ç”µæ± ä¼˜åŒ–ç­‰")])])])]),t._v(" "),s("h3",{attrs:{id:"æƒé™ç»„æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æƒé™ç»„æœºåˆ¶"}},[t._v("#")]),t._v(" æƒé™ç»„æœºåˆ¶")]),t._v(" "),s("p",[t._v("Androidå°†å±é™©æƒé™åˆ†ä¸ºå¤šä¸ªæƒé™ç»„ï¼ŒåŒä¸€ç»„å†…çš„æƒé™å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç”¨æˆ·æˆæƒä¸€ä¸ªæƒé™ï¼ŒåŒç»„æƒé™ä¹Ÿä¼šè¢«æˆæƒ")]),t._v(" "),s("li",[t._v("ç”¨æˆ·æ‹’ç»ä¸€ä¸ªæƒé™ï¼ŒåŒç»„æƒé™ä¹Ÿä¼šè¢«æ‹’ç»")]),t._v(" "),s("li",[t._v("å¸¸è§çš„æƒé™ç»„åŒ…æ‹¬ï¼šä½ç½®ã€ç›¸æœºã€éº¦å…‹é£ã€è”ç³»äººç­‰")])]),t._v(" "),s("h2",{attrs:{id:"è¿è¡Œæ—¶æƒé™å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿è¡Œæ—¶æƒé™å®è·µ"}},[t._v("#")]),t._v(" è¿è¡Œæ—¶æƒé™å®è·µ")]),t._v(" "),s("p",[t._v("ä»Android 6.0å¼€å§‹ï¼Œå±é™©æƒé™éœ€è¦åœ¨è¿è¡Œæ—¶è¯·æ±‚ã€‚ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å®ç°ã€‚")]),t._v(" "),s("h3",{attrs:{id:"åŸºæœ¬è¯·æ±‚æµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬è¯·æ±‚æµç¨‹"}},[t._v("#")]),t._v(" åŸºæœ¬è¯·æ±‚æµç¨‹")]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ£€æŸ¥æƒé™çŠ¶æ€")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextCompat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkSelfPermission")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Manifest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CAMERA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" PackageManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PERMISSION_GRANTED"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒé™æœªæˆäºˆï¼Œè¯·æ±‚æƒé™")]),t._v("\n    ActivityCompat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestPermissions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("arrayOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Manifest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CAMERA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        CAMERA_PERMISSION_REQUEST_CODE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒé™å·²æˆäºˆï¼Œæ‰§è¡Œç›¸åº”æ“ä½œ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCamera")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"å¤„ç†æƒé™è¯·æ±‚ç»“æœ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤„ç†æƒé™è¯·æ±‚ç»“æœ"}},[t._v("#")]),t._v(" å¤„ç†æƒé™è¯·æ±‚ç»“æœ")]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onRequestPermissionsResult")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("requestCode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Int"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    permissions"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Array"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("String"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" grantResults"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" IntArray"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onRequestPermissionsResult")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("requestCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" permissions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" grantResults"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("requestCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" CAMERA_PERMISSION_REQUEST_CODE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("grantResults"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isNotEmpty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" grantResults"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" PackageManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PERMISSION_GRANTED"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·æˆæƒäº†æƒé™")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCamera")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç”¨æˆ·æ‹’ç»äº†æƒé™")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showPermissionDeniedDialog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ"}},[t._v("#")]),t._v(" ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ")]),t._v(" "),s("p",[t._v("ç›´æ¥å¼¹å‡ºæƒé™è¯·æ±‚å¯¹è¯æ¡†å¯èƒ½ä¼šè®©ç”¨æˆ·æ„Ÿåˆ°çªå…€ï¼Œæ›´å¥½çš„åšæ³•æ˜¯ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦æƒé™")]),t._v(" ğŸ¤”")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨è¯·æ±‚æƒé™å‰ï¼Œå‘ç”¨æˆ·è§£é‡Šåº”ç”¨ä¸ºä»€ä¹ˆéœ€è¦è¯¥æƒé™")]),t._v(" "),s("li",[t._v("å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¯¹è¯æ¡†æˆ–è¯´æ˜å¡ç‰‡æ¥è§£é‡Š")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("æä¾›æ‹’ç»åçš„å¤„ç†")]),t._v(" ğŸš«")]),t._v(" "),s("ul",[s("li",[t._v("å½“ç”¨æˆ·æ‹’ç»æƒé™æ—¶ï¼Œæä¾›é€‚å½“çš„åé¦ˆ")]),t._v(" "),s("li",[t._v("å¯ä»¥å¼•å¯¼ç”¨æˆ·å‰å¾€ç³»ç»Ÿè®¾ç½®æ‰‹åŠ¨æˆæƒ")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("é¿å…é¢‘ç¹è¯·æ±‚")]),t._v(" ğŸ”„")]),t._v(" "),s("ul",[s("li",[t._v("ä¸è¦åœ¨çŸ­æ—¶é—´å†…åå¤è¯·æ±‚è¢«æ‹’ç»çš„æƒé™")]),t._v(" "),s("li",[t._v("å¯ä»¥ä½¿ç”¨"),s("code",[t._v("shouldShowRequestPermissionRationale()")]),t._v("åˆ¤æ–­æ˜¯å¦åº”è¯¥æ˜¾ç¤ºè§£é‡Š")])])])]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ£€æŸ¥æ˜¯å¦åº”è¯¥æ˜¾ç¤ºæƒé™è§£é‡Š")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ActivityCompat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldShowRequestPermissionRationale")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Manifest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("permission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CAMERA"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¾ç¤ºè§£é‡Šå¯¹è¯æ¡†")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("showRationaleDialog")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›´æ¥è¯·æ±‚æƒé™")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestCameraPermission")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h2",{attrs:{id:"ç‰¹æ®Šæƒé™å¤„ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç‰¹æ®Šæƒé™å¤„ç†"}},[t._v("#")]),t._v(" ç‰¹æ®Šæƒé™å¤„ç†")]),t._v(" "),s("p",[t._v("Android 11åŠä»¥ä¸Šå¼•å…¥äº†ä¸€äº›ç‰¹æ®Šæƒé™ï¼Œéœ€è¦é€šè¿‡ç³»ç»Ÿè®¾ç½®é¡µé¢æˆæƒã€‚")]),t._v(" "),s("h3",{attrs:{id:"å®‰è£…æœªçŸ¥åº”ç”¨æƒé™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…æœªçŸ¥åº”ç”¨æƒé™"}},[t._v("#")]),t._v(" å®‰è£…æœªçŸ¥åº”ç”¨æƒé™")]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestInstallPermission")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("packageManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("canRequestPackageInstalls")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·³è½¬åˆ°ç³»ç»Ÿè®¾ç½®é¡µé¢")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" intent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Intent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ACTION_MANAGE_UNKNOWN_APP_SOURCES"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        intent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Uri"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package:')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("packageName")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startActivityForResult")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" INSTALL_PERMISSION_REQUEST_CODE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å·²æœ‰æƒé™ï¼Œæ‰§è¡Œå®‰è£…æ“ä½œ")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("installApk")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"å¿½ç•¥ç”µæ± ä¼˜åŒ–æƒé™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¿½ç•¥ç”µæ± ä¼˜åŒ–æƒé™"}},[t._v("#")]),t._v(" å¿½ç•¥ç”µæ± ä¼˜åŒ–æƒé™")]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestBatteryOptimizationPermission")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" powerManager "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemService")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("POWER_SERVICE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" PowerManager\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("powerManager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isIgnoringBatteryOptimizations")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("packageName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" intent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Intent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ACTION_REQUEST_IGNORE_BATTERY_OPTIMIZATIONS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        intent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Uri"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"package:')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("$")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("packageName")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startActivity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("intent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å·²æœ‰æƒé™ï¼Œæ‰§è¡Œåå°ä»»åŠ¡")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("startBackgroundTask")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h2",{attrs:{id:"åˆ†åŒºå­˜å‚¨ä¸æ–‡ä»¶è®¿é—®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†åŒºå­˜å‚¨ä¸æ–‡ä»¶è®¿é—®"}},[t._v("#")]),t._v(" åˆ†åŒºå­˜å‚¨ä¸æ–‡ä»¶è®¿é—®")]),t._v(" "),s("p",[t._v("Android 10(Q)å¼•å…¥äº†åˆ†åŒºå­˜å‚¨æœºåˆ¶ï¼Œé™åˆ¶äº†åº”ç”¨å¯¹å¤–éƒ¨å­˜å‚¨çš„è®¿é—®ã€‚")]),t._v(" "),s("h3",{attrs:{id:"åŸºæœ¬æ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åŸºæœ¬æ¦‚å¿µ"}},[t._v("#")]),t._v(" åŸºæœ¬æ¦‚å¿µ")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("åˆ†åŒºå­˜å‚¨")]),t._v("ï¼šæ¯ä¸ªåº”ç”¨åªèƒ½è®¿é—®è‡ªå·±çš„ä¸“å±ç›®å½•")]),t._v(" "),s("li",[s("strong",[t._v("åª’ä½“æ–‡ä»¶è®¿é—®")]),t._v("ï¼šé€šè¿‡MediaStore APIè®¿é—®å›¾ç‰‡ã€è§†é¢‘ç­‰åª’ä½“æ–‡ä»¶")]),t._v(" "),s("li",[s("strong",[t._v("å…±äº«å­˜å‚¨è®¿é—®")]),t._v("ï¼šéœ€è¦ç‰¹å®šæƒé™æ‰èƒ½è®¿é—®å…¶ä»–åº”ç”¨çš„æ–‡ä»¶")])]),t._v(" "),s("h3",{attrs:{id:"å®ç°æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" å®ç°æ–¹æ¡ˆ")]),t._v(" "),s("div",{staticClass:"language-kotlin line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-kotlin"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿å­˜å›¾ç‰‡åˆ°å…±äº«å­˜å‚¨")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fun")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("saveImageToGallery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bitmap"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Bitmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" filename "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token expression"}},[t._v("System"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentTimeMillis")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('.jpg"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" resolver "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" applicationContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentResolver\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" contentValues "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ContentValues")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apply")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Media"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MediaColumns"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DISPLAY_NAME"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filename"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Media"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MediaColumns"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MIME_TYPE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"image/jpeg"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Media"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MediaColumns"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RELATIVE_PATH"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Environment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DIRECTORY_PICTURES"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" uri "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" resolver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("insert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Media"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EXTERNAL_CONTENT_URI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" contentValues"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    uri"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" outputStream "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" resolver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openOutputStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("it"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            outputStream"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" stream "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("\n                bitmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("compress")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Bitmap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CompressFormat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("JPEG"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            Toast"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("makeText")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string-literal singleline"}},[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å›¾ç‰‡å·²ä¿å­˜åˆ°ç›¸å†Œ"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Toast"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LENGTH_SHORT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Exception"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("printStackTrace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("h2",{attrs:{id:"æœ€ä½³å®è·µæ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ€ä½³å®è·µæ€»ç»“"}},[t._v("#")]),t._v(" æœ€ä½³å®è·µæ€»ç»“")]),t._v(" "),s("p",[t._v("ç»è¿‡å¤šå¹´çš„å®è·µï¼Œæˆ‘æ€»ç»“äº†ä¸€äº›Androidæƒé™ç®¡ç†çš„æœ€ä½³å®è·µï¼š")]),t._v(" "),s("h3",{attrs:{id:"_1-æœ€å°æƒé™åŸåˆ™-ğŸ“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-æœ€å°æƒé™åŸåˆ™-ğŸ“"}},[t._v("#")]),t._v(" 1. æœ€å°æƒé™åŸåˆ™ ğŸ“")]),t._v(" "),s("ul",[s("li",[t._v("åªè¯·æ±‚åº”ç”¨çœŸæ­£éœ€è¦çš„æƒé™")]),t._v(" "),s("li",[t._v("ä¸è¦ä¸ºäº†åŠŸèƒ½æ–¹ä¾¿è€Œè¯·æ±‚è¿‡å¤šæƒé™")])]),t._v(" "),s("h3",{attrs:{id:"_2-é€æ˜çš„æƒé™è¯´æ˜-ğŸ“–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-é€æ˜çš„æƒé™è¯´æ˜-ğŸ“–"}},[t._v("#")]),t._v(" 2. é€æ˜çš„æƒé™è¯´æ˜ ğŸ“–")]),t._v(" "),s("ul",[s("li",[t._v("æ¸…æ™°åœ°å‘ç”¨æˆ·è§£é‡Šä¸ºä»€ä¹ˆéœ€è¦æŸä¸ªæƒé™")]),t._v(" "),s("li",[t._v("è¯´æ˜æƒé™çš„å…·ä½“ç”¨é€”å’Œæ•°æ®ä½¿ç”¨æ–¹å¼")])]),t._v(" "),s("h3",{attrs:{id:"_3-ä¼˜é›…çš„é™çº§å¤„ç†-ğŸ”„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-ä¼˜é›…çš„é™çº§å¤„ç†-ğŸ”„"}},[t._v("#")]),t._v(" 3. ä¼˜é›…çš„é™çº§å¤„ç† ğŸ”„")]),t._v(" "),s("ul",[s("li",[t._v("å½“ç”¨æˆ·æ‹’ç»æƒé™æ—¶ï¼Œæä¾›æ›¿ä»£æ–¹æ¡ˆ")]),t._v(" "),s("li",[t._v("ä¸è¦å¼ºåˆ¶ç”¨æˆ·æˆæƒæ‰èƒ½ä½¿ç”¨åŸºæœ¬åŠŸèƒ½")])]),t._v(" "),s("h3",{attrs:{id:"_4-æŒç»­çš„æƒé™å®¡æŸ¥-ğŸ”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-æŒç»­çš„æƒé™å®¡æŸ¥-ğŸ”"}},[t._v("#")]),t._v(" 4. æŒç»­çš„æƒé™å®¡æŸ¥ ğŸ”")]),t._v(" "),s("ul",[s("li",[t._v("å®šæœŸæ£€æŸ¥åº”ç”¨ä¸­çš„æƒé™ä½¿ç”¨æƒ…å†µ")]),t._v(" "),s("li",[t._v("ç§»é™¤ä¸å†éœ€è¦çš„æƒé™è¯·æ±‚")])]),t._v(" "),s("h3",{attrs:{id:"_5-é€‚é…ä¸åŒandroidç‰ˆæœ¬-ğŸ“±"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-é€‚é…ä¸åŒandroidç‰ˆæœ¬-ğŸ“±"}},[t._v("#")]),t._v(" 5. é€‚é…ä¸åŒAndroidç‰ˆæœ¬ ğŸ“±")]),t._v(" "),s("ul",[s("li",[t._v("é’ˆå¯¹ä¸åŒAndroidç‰ˆæœ¬å®ç°ä¸åŒçš„æƒé™å¤„ç†é€»è¾‘")]),t._v(" "),s("li",[t._v("ç‰¹åˆ«æ³¨æ„Android 11å’Œ12çš„æ–°ç‰¹æ€§")])]),t._v(" "),s("h2",{attrs:{id:"ç»“è¯­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),s("p",[t._v("Androidæƒé™ç®¡ç†æ˜¯ä¸€ä¸ªä¸æ–­æ¼”è¿›çš„é¢†åŸŸï¼Œéšç€ç³»ç»Ÿç‰ˆæœ¬çš„æ›´æ–°ï¼Œæ–°çš„æƒé™æœºåˆ¶å’Œé™åˆ¶ä¼šä¸æ–­å‡ºç°ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬éœ€è¦æŒç»­å­¦ä¹ å’Œé€‚åº”è¿™äº›å˜åŒ–ï¼Œåœ¨ä¿æŠ¤ç”¨æˆ·éšç§çš„åŒæ—¶ï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚")]),t._v(" "),s("p",[t._v("å¸Œæœ›è¿™ç¯‡æŒ‡å—èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œå¤„ç†Androidæƒé™ç®¡ç†é—®é¢˜ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼ğŸ‘‡")]),t._v(" "),s("blockquote",[s("p",[t._v("è®°ä½ï¼Œè‰¯å¥½çš„æƒé™ç®¡ç†ä¸ä»…æ˜¯å¯¹ç”¨æˆ·éšç§çš„å°Šé‡ï¼Œä¹Ÿæ˜¯æ„å»ºé«˜è´¨é‡åº”ç”¨çš„åŸºç¡€ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‰“é€ æ›´å®‰å…¨ã€æ›´å€¼å¾—ä¿¡èµ–çš„Androidåº”ç”¨ï¼")])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ç‚¹èµã€æ”¶è—å’Œåˆ†äº«å“¦ï¼ä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ğŸ˜Š")])])}),[],!1,null,null,null);s.default=e.exports}}]);