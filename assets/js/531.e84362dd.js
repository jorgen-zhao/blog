(window.webpackJsonp=window.webpackJsonp||[]).push([[531],{883:function(t,s,a){"use strict";a.r(s);var n=a(15),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä¸€ç›´åœ¨æ€è€ƒå¦‚ä½•è®©æˆ‘ä»¬çš„Webåº”ç”¨åœ¨ç”¨æˆ·ä½“éªŒä¸Šè¶…è¶Šä¼ ç»Ÿçš„åŸç”Ÿåº”ç”¨ã€‚"),s("s",[t._v("è¯´å®è¯ï¼Œæœ‰æ—¶å€™æˆ‘ç”šè‡³åœ¨æƒ³ï¼Œä¸ºä»€ä¹ˆç”¨æˆ·è¿˜è¦ä¸‹è½½é‚£äº›å å†…å­˜çš„APPï¼Œç›´æ¥è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™ä¸é¦™å—ï¼Ÿ")]),t._v(" ğŸ¤”")]),t._v(" "),s("p",[t._v("éšç€5Gç½‘ç»œçš„æ™®åŠå’Œè¾¹ç¼˜è®¡ç®—æŠ€æœ¯çš„å‘å±•ï¼ŒWebåº”ç”¨æ­£åœ¨ç»å†ä¸€åœºé©å‘½æ€§çš„å˜é©ã€‚ä»Šå¤©ï¼Œæˆ‘æƒ³å’Œå¤§å®¶èŠèŠå‰ç«¯è¾¹ç¼˜è®¡ç®—å’Œæ¸è¿›å¼Webåº”ç”¨(PWA)è¿™ä¸¤ä¸ªæ¿€åŠ¨äººå¿ƒçš„æ¦‚å¿µï¼Œå®ƒä»¬æ­£åœ¨é‡æ–°å®šä¹‰æˆ‘ä»¬å¯¹Webåº”ç”¨çš„è®¤çŸ¥ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯è¾¹ç¼˜è®¡ç®—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯è¾¹ç¼˜è®¡ç®—"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯è¾¹ç¼˜è®¡ç®—ï¼Ÿ")]),t._v(" "),s("h3",{attrs:{id:"ä¼ ç»Ÿwebæ¶æ„çš„å±€é™"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼ ç»Ÿwebæ¶æ„çš„å±€é™"}},[t._v("#")]),t._v(" ä¼ ç»ŸWebæ¶æ„çš„å±€é™")]),t._v(" "),s("p",[t._v("åœ¨ä¼ ç»Ÿçš„Webæ¶æ„ä¸­ï¼Œç”¨æˆ·çš„è¯·æ±‚éœ€è¦ç»è¿‡æ¼«é•¿çš„æ—…ç¨‹ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ç”¨æˆ·è®¾å¤‡ â†’ DNSè§£æ â†’ CDN â†’ ä¸»æœåŠ¡å™¨ â†’ æ•°æ®åº“ â†’ è¿”å›å“åº”\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡ç½‘ç»œå¾€è¿”éƒ½ä¼šå¢åŠ å»¶è¿Ÿï¼Œç‰¹åˆ«æ˜¯åœ¨ç½‘ç»œæ¡ä»¶ä¸ä½³çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä½“éªŒä¼šå¤§æ‰“æŠ˜æ‰£ã€‚")]),t._v(" "),s("h3",{attrs:{id:"è¾¹ç¼˜è®¡ç®—çš„å¼•å…¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾¹ç¼˜è®¡ç®—çš„å¼•å…¥"}},[t._v("#")]),t._v(" è¾¹ç¼˜è®¡ç®—çš„å¼•å…¥")]),t._v(" "),s("p",[t._v("è¾¹ç¼˜è®¡ç®—åˆ™å°†è®¡ç®—èµ„æºéƒ¨ç½²åœ¨ç¦»ç”¨æˆ·æ›´è¿‘çš„è¾¹ç¼˜èŠ‚ç‚¹ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ç”¨æˆ·è®¾å¤‡ â†’ è¾¹ç¼˜èŠ‚ç‚¹ â†’ è¿”å›å“åº”\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("è¿™æ„å‘³ç€å¤§éƒ¨åˆ†è¯·æ±‚å¯ä»¥åœ¨æœ¬åœ°æˆ–é™„è¿‘èŠ‚ç‚¹å¾—åˆ°å¤„ç†ï¼Œå¤§å¤§å‡å°‘äº†å»¶è¿Ÿã€‚")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v('è¾¹ç¼˜è®¡ç®—ä¸æ˜¯è¦å–ä»£äº‘è®¡ç®—ï¼Œè€Œæ˜¯ä½œä¸ºäº‘è®¡ç®—çš„è¡¥å……ï¼Œå½¢æˆ"äº‘-è¾¹-ç«¯"ååŒçš„è®¡ç®—æ¶æ„ã€‚')])]),t._v(" "),s("h2",{attrs:{id:"å‰ç«¯è¾¹ç¼˜è®¡ç®—çš„åº”ç”¨åœºæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰ç«¯è¾¹ç¼˜è®¡ç®—çš„åº”ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" å‰ç«¯è¾¹ç¼˜è®¡ç®—çš„åº”ç”¨åœºæ™¯")]),t._v(" "),s("h3",{attrs:{id:"_1-cdnåŠ é€Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-cdnåŠ é€Ÿ"}},[t._v("#")]),t._v(" 1. CDNåŠ é€Ÿ")]),t._v(" "),s("p",[t._v("å†…å®¹åˆ†å‘ç½‘ç»œ(CDN)æ˜¯æœ€å¸¸è§çš„è¾¹ç¼˜è®¡ç®—åº”ç”¨ï¼Œå®ƒå°†é™æ€èµ„æºç¼“å­˜åœ¨å…¨çƒå„åœ°çš„è¾¹ç¼˜èŠ‚ç‚¹ä¸Šï¼Œç”¨æˆ·è®¿é—®æ—¶å¯ä»¥ä»æœ€è¿‘çš„èŠ‚ç‚¹è·å–èµ„æºã€‚")]),t._v(" "),s("h3",{attrs:{id:"_2-è¾¹ç¼˜è®¡ç®—æ¡†æ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-è¾¹ç¼˜è®¡ç®—æ¡†æ¶"}},[t._v("#")]),t._v(" 2. è¾¹ç¼˜è®¡ç®—æ¡†æ¶")]),t._v(" "),s("p",[t._v("ä¸€äº›æ–°å…´çš„è¾¹ç¼˜è®¡ç®—æ¡†æ¶å…è®¸æˆ‘ä»¬åœ¨è¾¹ç¼˜èŠ‚ç‚¹è¿è¡ŒJavaScriptä»£ç ï¼Œä¾‹å¦‚ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("Cloudflare Workers")]),t._v(" "),s("li",[t._v("Fastly Compute@Edge")]),t._v(" "),s("li",[t._v("AWS CloudFront Functions")])]),t._v(" "),s("p",[t._v("è¿™äº›æ¡†æ¶è®©æˆ‘ä»¬å¯ä»¥åœ¨è¾¹ç¼˜æ‰§è¡Œä¸€äº›è½»é‡çº§çš„è®¡ç®—ä»»åŠ¡ï¼Œå¦‚APIè¯·æ±‚èšåˆã€æ•°æ®é¢„å¤„ç†ç­‰ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_3-æœåŠ¡ç«¯æ¸²æŸ“-ssr-ä¸é™æ€ç«™ç‚¹ç”Ÿæˆ-ssg"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-æœåŠ¡ç«¯æ¸²æŸ“-ssr-ä¸é™æ€ç«™ç‚¹ç”Ÿæˆ-ssg"}},[t._v("#")]),t._v(" 3. æœåŠ¡ç«¯æ¸²æŸ“(SSR)ä¸é™æ€ç«™ç‚¹ç”Ÿæˆ(SSG)")]),t._v(" "),s("p",[t._v("å°†é¡µé¢æ¸²æŸ“å·¥ä½œæ”¾åœ¨è¾¹ç¼˜èŠ‚ç‚¹å®Œæˆï¼Œå¯ä»¥æ˜¾è‘—æé«˜é¦–å±åŠ è½½é€Ÿåº¦ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æ¸è¿›å¼webåº”ç”¨-pwa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¸è¿›å¼webåº”ç”¨-pwa"}},[t._v("#")]),t._v(" æ¸è¿›å¼Webåº”ç”¨(PWA)")]),t._v(" "),s("h3",{attrs:{id:"pwaçš„æ ¸å¿ƒç‰¹æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pwaçš„æ ¸å¿ƒç‰¹æ€§"}},[t._v("#")]),t._v(" PWAçš„æ ¸å¿ƒç‰¹æ€§")]),t._v(" "),s("p",[t._v("æ¸è¿›å¼Webåº”ç”¨æ˜¯ä¸€å¥—æŠ€æœ¯ï¼Œå®ƒä½¿Webåº”ç”¨å…·æœ‰ç±»ä¼¼åŸç”Ÿåº”ç”¨çš„ç”¨æˆ·ä½“éªŒã€‚PWAçš„æ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("å¯é ")]),t._v(" - å³ä½¿åœ¨ç½‘ç»œä¸ç¨³å®šçš„æƒ…å†µä¸‹ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ")]),t._v(" "),s("li",[s("strong",[t._v("å¿«é€Ÿ")]),t._v(" - æä¾›æ¥è¿‘åŸç”Ÿåº”ç”¨çš„å“åº”é€Ÿåº¦")]),t._v(" "),s("li",[s("strong",[t._v("æ²‰æµ¸å¼")]),t._v(" - å¯ä»¥åƒåŸç”Ÿåº”ç”¨ä¸€æ ·æ·»åŠ åˆ°ä¸»å±å¹•ï¼Œæ”¯æŒå…¨å±ä½“éªŒ")])]),t._v(" "),s("h3",{attrs:{id:"pwaçš„å®ç°æŠ€æœ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pwaçš„å®ç°æŠ€æœ¯"}},[t._v("#")]),t._v(" PWAçš„å®ç°æŠ€æœ¯")]),t._v(" "),s("h4",{attrs:{id:"service-worker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-worker"}},[t._v("#")]),t._v(" Service Worker")]),t._v(" "),s("p",[t._v("Service Workeræ˜¯PWAçš„æ ¸å¿ƒæŠ€æœ¯ï¼Œå®ƒæ˜¯ä¸€ä¸ªåœ¨åå°è¿è¡Œçš„è„šæœ¬ï¼Œå¯ä»¥æ‹¦æˆªç½‘ç»œè¯·æ±‚ã€ç®¡ç†ç¼“å­˜ã€å®ç°ç¦»çº¿åŠŸèƒ½ã€‚")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³¨å†ŒService Worker")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'serviceWorker'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serviceWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/sw.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("registration")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Service Worker æ³¨å†ŒæˆåŠŸ:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" registration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Service Worker æ³¨å†Œå¤±è´¥:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h4",{attrs:{id:"web-app-manifest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#web-app-manifest"}},[t._v("#")]),t._v(" Web App Manifest")]),t._v(" "),s("p",[t._v("Web App Manifestæ˜¯ä¸€ä¸ªJSONæ–‡ä»¶ï¼Œæè¿°äº†Webåº”ç”¨çš„ä¿¡æ¯ï¼Œå¦‚åç§°ã€å›¾æ ‡ã€ä¸»é¢˜è‰²ç­‰ï¼Œä½¿åº”ç”¨å¯ä»¥è¢«å®‰è£…åˆ°ä¸»å±å¹•ã€‚")]),t._v(" "),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æˆ‘çš„PWAåº”ç”¨"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"short_name"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PWA"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"icons"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/icon-192x192.png"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sizes"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192x192"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"type"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"image/png"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start_url"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"display"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"standalone"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"theme_color"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#3367D6"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h2",{attrs:{id:"å®è·µ-æ„å»ºä¸€ä¸ªç®€å•çš„pwa"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®è·µ-æ„å»ºä¸€ä¸ªç®€å•çš„pwa"}},[t._v("#")]),t._v(" å®è·µï¼šæ„å»ºä¸€ä¸ªç®€å•çš„PWA")]),t._v(" "),s("h3",{attrs:{id:"_1-åˆ›å»ºservice-worker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-åˆ›å»ºservice-worker"}},[t._v("#")]),t._v(" 1. åˆ›å»ºService Worker")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// sw.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CACHE_NAME")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'my-pwa-v1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" urlsToCache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/index.html'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/styles.css'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/app.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/icon-192x192.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/icon-512x512.png'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®‰è£…Service Worker")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'install'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitUntil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    caches"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CACHE_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cache")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æ‰“å¼€ç¼“å­˜'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("urlsToCache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¿€æ´»Service Worker")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'activate'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("waitUntil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    caches"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cacheNames")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("all")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        cacheNames"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("cache")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CACHE_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" caches"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹¦æˆªç½‘ç»œè¯·æ±‚")]),t._v("\nself"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fetch'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("respondWith")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    caches"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœç¼“å­˜ä¸­æœ‰è¯·æ±‚çš„èµ„æºï¼Œç›´æ¥è¿”å›")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦åˆ™å‘èµ·ç½‘ç»œè¯·æ±‚")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br")])]),s("h3",{attrs:{id:"_2-æ·»åŠ web-app-manifest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-æ·»åŠ web-app-manifest"}},[t._v("#")]),t._v(" 2. æ·»åŠ Web App Manifest")]),t._v(" "),s("p",[t._v("åœ¨HTMLä¸­æ·»åŠ linkæ ‡ç­¾å¼•ç”¨manifestæ–‡ä»¶ï¼š")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("manifest"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/manifest.json"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("theme-color"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("#3367D6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_3-æ³¨å†Œservice-worker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-æ³¨å†Œservice-worker"}},[t._v("#")]),t._v(" 3. æ³¨å†ŒService Worker")]),t._v(" "),s("p",[t._v("åœ¨åº”ç”¨çš„ä¸»JavaScriptæ–‡ä»¶ä¸­æ³¨å†ŒService Workerï¼š")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'serviceWorker'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'load'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    navigator"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("serviceWorker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("register")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/sw.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("registration")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Service Worker æ³¨å†ŒæˆåŠŸ:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" registration"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Service Worker æ³¨å†Œå¤±è´¥:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h2",{attrs:{id:"è¾¹ç¼˜è®¡ç®—ä¸pwaçš„ç»“åˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾¹ç¼˜è®¡ç®—ä¸pwaçš„ç»“åˆ"}},[t._v("#")]),t._v(" è¾¹ç¼˜è®¡ç®—ä¸PWAçš„ç»“åˆ")]),t._v(" "),s("p",[t._v("è¾¹ç¼˜è®¡ç®—ä¸ºPWAæä¾›äº†å¼ºå¤§çš„åŸºç¡€è®¾æ–½æ”¯æŒï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("è¾¹ç¼˜ç¼“å­˜")]),t._v("ï¼šé€šè¿‡CDNå’ŒService Workerå®ç°å¤šçº§ç¼“å­˜ç­–ç•¥")]),t._v(" "),s("li",[s("strong",[t._v("è¾¹ç¼˜è®¡ç®—")]),t._v("ï¼šåœ¨è¾¹ç¼˜èŠ‚ç‚¹æ‰§è¡Œéƒ¨åˆ†è®¡ç®—ä»»åŠ¡ï¼Œå‡è½»æœåŠ¡å™¨è´Ÿæ‹…")]),t._v(" "),s("li",[s("strong",[t._v("è¾¹ç¼˜æ¨é€")]),t._v("ï¼šé€šè¿‡è¾¹ç¼˜èŠ‚ç‚¹å®ç°ä½å»¶è¿Ÿçš„æ¨é€é€šçŸ¥")])]),t._v(" "),s("h3",{attrs:{id:"å®é™…æ¡ˆä¾‹-ç”µå•†åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®é™…æ¡ˆä¾‹-ç”µå•†åº”ç”¨"}},[t._v("#")]),t._v(" å®é™…æ¡ˆä¾‹ï¼šç”µå•†åº”ç”¨")]),t._v(" "),s("p",[t._v("æƒ³è±¡ä¸€ä¸ªç”µå•†åº”ç”¨ï¼Œç»“åˆè¾¹ç¼˜è®¡ç®—å’ŒPWAå¯ä»¥å¸¦æ¥ä»¥ä¸‹ä¼˜åŠ¿ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å•†å“åˆ—è¡¨")]),t._v("ï¼šä»è¾¹ç¼˜CDNåŠ è½½ï¼Œé€Ÿåº¦æå¿«")]),t._v(" "),s("li",[s("strong",[t._v("å•†å“è¯¦æƒ…")]),t._v("ï¼šä½¿ç”¨Service Workerå®ç°ç¦»çº¿è®¿é—®")]),t._v(" "),s("li",[s("strong",[t._v("è´­ç‰©è½¦")]),t._v("ï¼šä½¿ç”¨IndexedDBåœ¨æœ¬åœ°å­˜å‚¨ï¼Œå³ä½¿ç¦»çº¿ä¹Ÿèƒ½æ·»åŠ å•†å“")]),t._v(" "),s("li",[s("strong",[t._v("æ¨é€é€šçŸ¥")]),t._v("ï¼šé€šè¿‡è¾¹ç¼˜èŠ‚ç‚¹æ¨é€ä¿ƒé”€ä¿¡æ¯")])]),t._v(" "),s("h2",{attrs:{id:"æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½ä¼˜åŒ–ç­–ç•¥"}},[t._v("#")]),t._v(" æ€§èƒ½ä¼˜åŒ–ç­–ç•¥")]),t._v(" "),s("h3",{attrs:{id:"ç¼“å­˜ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜ç­–ç•¥"}},[t._v("#")]),t._v(" ç¼“å­˜ç­–ç•¥")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ç¼“å­˜ç±»å‹")]),t._v(" "),s("th",[t._v("é€‚ç”¨åœºæ™¯")]),t._v(" "),s("th",[t._v("ä¼˜ç‚¹")]),t._v(" "),s("th",[t._v("ç¼ºç‚¹")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("Service Worker")]),t._v(" "),s("td",[t._v("ç¦»çº¿åº”ç”¨")]),t._v(" "),s("td",[t._v("å®Œå…¨æ§åˆ¶ç¼“å­˜é€»è¾‘")]),t._v(" "),s("td",[t._v("éœ€è¦æ‰‹åŠ¨æ›´æ–°")])]),t._v(" "),s("tr",[s("td",[t._v("HTTPç¼“å­˜")]),t._v(" "),s("td",[t._v("é™æ€èµ„æº")]),t._v(" "),s("td",[t._v("è‡ªåŠ¨ç®¡ç†")]),t._v(" "),s("td",[t._v("æ— æ³•åŠ¨æ€æ›´æ–°")])]),t._v(" "),s("tr",[s("td",[t._v("CDNç¼“å­˜")]),t._v(" "),s("td",[t._v("å…¨çƒç”¨æˆ·")]),t._v(" "),s("td",[t._v("å…¨çƒåŠ é€Ÿ")]),t._v(" "),s("td",[t._v("é…ç½®å¤æ‚")])])])]),t._v(" "),s("h3",{attrs:{id:"æ¸è¿›å¼åŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¸è¿›å¼åŠ è½½"}},[t._v("#")]),t._v(" æ¸è¿›å¼åŠ è½½")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("å…³é”®èµ„æºä¼˜å…ˆåŠ è½½")]),t._v("ï¼šå…ˆåŠ è½½CSSå’Œå…³é”®JS")]),t._v(" "),s("li",[s("strong",[t._v("æ‡’åŠ è½½")]),t._v("ï¼šéå…³é”®èµ„æºæŒ‰éœ€åŠ è½½")]),t._v(" "),s("li",[s("strong",[t._v("å›¾ç‰‡ä¼˜åŒ–")]),t._v("ï¼šä½¿ç”¨WebPæ ¼å¼ï¼Œå“åº”å¼å›¾ç‰‡")])]),t._v(" "),s("h2",{attrs:{id:"æœªæ¥å±•æœ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœªæ¥å±•æœ›"}},[t._v("#")]),t._v(" æœªæ¥å±•æœ›")]),t._v(" "),s("p",[t._v("è¾¹ç¼˜è®¡ç®—å’ŒPWAæ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œæœªæ¥å¯èƒ½å‡ºç°çš„æ–°è¶‹åŠ¿ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("è¾¹ç¼˜AI")]),t._v("ï¼šåœ¨è¾¹ç¼˜èŠ‚ç‚¹è¿è¡Œè½»é‡çº§AIæ¨¡å‹")]),t._v(" "),s("li",[s("strong",[t._v("WebGPU")]),t._v("ï¼šåˆ©ç”¨GPUåŠ é€Ÿè®¡ç®—")]),t._v(" "),s("li",[s("strong",[t._v("WebAssembly")]),t._v("ï¼šåœ¨è¾¹ç¼˜è¿è¡Œé«˜æ€§èƒ½ä»£ç ")])]),t._v(" "),s("blockquote",[s("p",[t._v("è¾¹ç¼˜è®¡ç®—ä¸æ˜¯æœªæ¥ï¼Œè€Œæ˜¯ç°åœ¨ã€‚PWAä¹Ÿä¸æ˜¯å™±å¤´ï¼Œè€Œæ˜¯å®å®åœ¨åœ¨æå‡ç”¨æˆ·ä½“éªŒçš„æŠ€æœ¯ã€‚ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥ç§¯ææ‹¥æŠ±è¿™äº›æŠ€æœ¯ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½çš„Webä½“éªŒã€‚")])]),t._v(" "),s("h2",{attrs:{id:"ç»“è¯­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),s("p",[t._v("ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢ç´¢äº†å‰ç«¯è¾¹ç¼˜è®¡ç®—å’Œæ¸è¿›å¼Webåº”ç”¨çš„ä¸–ç•Œã€‚ä»ä¼ ç»ŸWebæ¶æ„çš„å±€é™ï¼Œåˆ°è¾¹ç¼˜è®¡ç®—å¸¦æ¥çš„é©å‘½æ€§å˜åŒ–ï¼Œå†åˆ°PWAçš„å®é™…å®ç°ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†Webåº”ç”¨çš„æ— é™å¯èƒ½ã€‚")]),t._v(" "),s("p",[t._v("ğŸ— æ„å»ºä¸€ä¸ªä¼˜ç§€çš„PWAåº”ç”¨ï¼Œä¸ä»…ä»…æ˜¯æŠ€æœ¯ä¸Šçš„æŒ‘æˆ˜ï¼Œæ›´æ˜¯å¯¹ç”¨æˆ·ä½“éªŒçš„æè‡´è¿½æ±‚ã€‚å¸Œæœ›ä»Šå¤©çš„åˆ†äº«èƒ½ç»™å¤§å®¶å¸¦æ¥ä¸€äº›å¯å‘ï¼Œè®©æˆ‘ä»¬ä¸€èµ·ç”¨è¿™äº›æŠ€æœ¯æ‰“é€ æ›´å‡ºè‰²çš„Webåº”ç”¨ï¼")]),t._v(" "),s("p",[t._v("å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚ä¹Ÿæ¬¢è¿å…³æ³¨æˆ‘çš„GitHubï¼Œè·å–æ›´å¤šå‰ç«¯æŠ€æœ¯åˆ†äº«ï¼šhttps://github.com/jorgen-zhao")])])}),[],!1,null,null,null);s.default=r.exports}}]);