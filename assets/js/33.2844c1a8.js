(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{389:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("strong",[t._v('"Less code, more efficiency!"')]),t._v(" â€” ä»£ç å°‘ä¸€ç‚¹ï¼Œå¼€å‘å¿«ä¸€ç‚¹ï¼ğŸ”¥")]),t._v(" "),s("h2",{attrs:{id:"ğŸŒŸ-èƒŒæ™¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-èƒŒæ™¯"}},[t._v("#")]),t._v(" ğŸŒŸ èƒŒæ™¯")]),t._v(" "),s("p",[t._v("Flink Job å¼€å‘å¤ªç¹çï¼Ÿé…ç½®é‡å¤ï¼ŸğŸ‘€"),s("br"),t._v("\næ¯æ¬¡éƒ½è¦å†™ä¸€å¤§å † "),s("strong",[t._v("connector")]),t._v(" ç›¸å…³ä»£ç ï¼ŸğŸ˜©"),s("br"),t._v("\næƒ³è¦æ›´ç®€å•é«˜æ•ˆåœ°æ„å»º "),s("strong",[t._v("JetStream Flink Job")]),t._v("ï¼ŸğŸ”¥")]),t._v(" "),s("p",[t._v("æ²¡é—®é¢˜ï¼æˆ‘ä»¬æ¥è§£å†³è¿™äº›ç—›ç‚¹ï¼ğŸ’¡")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("FlinkContext")]),t._v(" â€”â€” è®© Flink Job å¼€å‘æ›´è½»æ¾ï¼")])]),t._v(" "),s("h3",{attrs:{id:"â“-é‡åˆ°çš„é—®é¢˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#â“-é‡åˆ°çš„é—®é¢˜"}},[t._v("#")]),t._v(" â“ é‡åˆ°çš„é—®é¢˜")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å¤§é‡é‡å¤ä»£ç ")]),t._v("ï¼šæ¯ä¸ª Flink Job éƒ½éœ€è¦å†™ç›¸åŒçš„ "),s("strong",[t._v("source/sink")]),t._v(" è¿æ¥ä»£ç ã€‚")]),t._v(" "),s("li",[s("strong",[t._v("å¤æ‚çš„å‚æ•°ç®¡ç†")]),t._v("ï¼šè¿è¡Œæ¨¡å¼ã€æ£€æŸ¥ç‚¹ã€é‡å¯ç­–ç•¥â€¦â€¦å‚æ•°å¤ªå¤šï¼Œéš¾ç®¡ç†ï¼")]),t._v(" "),s("li",[s("strong",[t._v("ä¸åŒæ•°æ®æºé€‚é…")]),t._v("ï¼šNATS JetStreamã€Redisâ€¦â€¦å¦‚ä½•è½»æ¾åˆ‡æ¢ï¼Ÿ")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ’¡-è§£å†³æ–¹æ¡ˆ-flinkcontext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¡-è§£å†³æ–¹æ¡ˆ-flinkcontext"}},[t._v("#")]),t._v(" ğŸ’¡ è§£å†³æ–¹æ¡ˆï¼šFlinkContext")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å°è£…äº†ä¸€ä¸ª "),s("strong",[t._v("FlinkContext")]),t._v("ï¼Œå®ƒè§£å†³äº†ï¼š")]),t._v(" "),s("p",[t._v("âœ… "),s("strong",[t._v("å‡å°‘é‡å¤ä»£ç ")]),t._v("ï¼šæ‰€æœ‰ "),s("strong",[t._v("Flink Job")]),t._v(" é€šç”¨çš„éƒ¨åˆ†éƒ½å°è£…å¥½äº†ã€‚")]),t._v(" "),s("p",[t._v("âœ… "),s("strong",[t._v("å¼€ç®±å³ç”¨")]),t._v("ï¼šä»…éœ€å…³æ³¨ "),s("strong",[t._v("operatorï¼ˆç®—å­é€»è¾‘ï¼‰")]),t._v("ï¼Œå…¶ä»–äº¤ç»™ FlinkContextã€‚")]),t._v(" "),s("p",[t._v("âœ… "),s("strong",[t._v("æ”¯æŒå¤šç§æ•°æ®æº")]),t._v("ï¼šJetStreamã€NATSã€Redisï¼Œè½»æ¾å¯¹æ¥ï¼")]),t._v(" "),s("h2",{attrs:{id:"ğŸ—-flinkcontext-è®¾è®¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ—-flinkcontext-è®¾è®¡"}},[t._v("#")]),t._v(" ğŸ— FlinkContext è®¾è®¡")]),t._v(" "),s("p",[t._v("FlinkContext ä¸»è¦å°è£…äº†ä»¥ä¸‹å‡ ä¸ªå…³é”®æ¨¡å—ï¼š")]),t._v(" "),s("h3",{attrs:{id:"ğŸ› -æ ¸å¿ƒåŠŸèƒ½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› -æ ¸å¿ƒåŠŸèƒ½"}},[t._v("#")]),t._v(" ğŸ›  "),s("strong",[t._v("æ ¸å¿ƒåŠŸèƒ½")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("é…ç½®é¡¹")])]),t._v(" "),s("th",[s("strong",[t._v("é‡Šä¹‰")])]),t._v(" "),s("th",[s("strong",[t._v("é»˜è®¤å€¼")])]),t._v(" "),s("th",[s("strong",[t._v("è¯´æ˜")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("setRuntimeMode")])]),t._v(" "),s("td",[t._v("è¿è¡Œæ¨¡å¼")]),t._v(" "),s("td",[s("code",[t._v("RuntimeExecutionMode.STREAMING")])]),t._v(" "),s("td",[t._v("æµå¼æ‰§è¡Œæ¨¡å¼")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("enableCheckpointing")])]),t._v(" "),s("td",[t._v("æ£€æŸ¥ç‚¹æ‰§è¡Œå‘¨æœŸ")]),t._v(" "),s("td",[t._v("2000ms")]),t._v(" "),s("td",[t._v("æ£€æŸ¥ç‚¹æ¯2ç§’æ‰§è¡Œä¸€æ¬¡")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("addDefaultKryoSerializer")])]),t._v(" "),s("td",[t._v("é»˜è®¤åºåˆ—åŒ–å™¨")]),t._v(" "),s("td",[s("code",[t._v("ProtobufSerializer.class")])]),t._v(" "),s("td",[t._v("é»˜è®¤ä½¿ç”¨protobufåºåˆ—åŒ–å™¨")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("setRestartStrategy")])]),t._v(" "),s("td",[t._v("é‡å¯ç­–ç•¥"),s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.17/zh/docs/ops/state/task_failure_recovery/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Task æ•…éšœæ¢å¤"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("--")]),t._v(" "),s("td",[t._v("1. æ¯ä¸ªæ—¶é—´é—´éš”çš„æœ€å¤§æ•…éšœæ¬¡æ•°ï¼›2. æµ‹é‡æ•…éšœç‡çš„æ—¶é—´é—´éš”ï¼›3. å»¶æ—¶")])])])]),t._v(" "),s("h3",{attrs:{id:"ğŸ¯-å¦‚ä½•ä½¿ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-å¦‚ä½•ä½¿ç”¨"}},[t._v("#")]),t._v(" ğŸ¯ "),s("strong",[t._v("å¦‚ä½•ä½¿ç”¨ï¼Ÿ")])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("main")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" args"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FlinkContext")]),t._v(" context "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FlinkContext")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataStream")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("operator")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataStream")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" dataStream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" dataStream\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConversionManager")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("protoConversion")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MessageProxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("filter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Objects")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nonNull")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MapFunction")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventModel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" \n                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getProxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRobotId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTimestamp")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSeconds")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("returns")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TypeInformation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source-job"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("p",[t._v("ğŸ‰ "),s("strong",[t._v("è¿™æ ·ï¼Œæˆ‘ä»¬çš„ Flink Job å°±å®Œæˆäº†ï¼")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ”Œ-source-sink-å°è£…"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”Œ-source-sink-å°è£…"}},[t._v("#")]),t._v(" ğŸ”Œ "),s("strong",[t._v("Source & Sink å°è£…")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ“¥-source-æ•°æ®æº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¥-source-æ•°æ®æº"}},[t._v("#")]),t._v(" ğŸ“¥ Sourceï¼ˆæ•°æ®æºï¼‰")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SourceHolder")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SourceBase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" holder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" holder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConnectorConstants")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SOURCE_JETSTREAM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JetStreamSourceBase")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SourceBase")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" holder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"ğŸ“¤-sink-æ•°æ®æ±‡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¤-sink-æ•°æ®æ±‡"}},[t._v("#")]),t._v(" ğŸ“¤ Sinkï¼ˆæ•°æ®æ±‡ï¼‰")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SinkHolder")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SinkBase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" holder "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        holder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConnectorConstants")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SINK_JETSTREAM")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JetStreamSinkBase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        holder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConnectorConstants")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SINK_NATS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("NatsSinkBase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        holder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ConnectorConstants")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SINK_REDIS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("RedisSinkBase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SinkBase")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSink")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" holder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("hr"),t._v(" "),s("h2",{attrs:{id:"âš™-ç¯å¢ƒå˜é‡-é…ç½®ç®¡ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âš™-ç¯å¢ƒå˜é‡-é…ç½®ç®¡ç†"}},[t._v("#")]),t._v(" âš™ "),s("strong",[t._v("ç¯å¢ƒå˜é‡ & é…ç½®ç®¡ç†")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("å˜é‡å")])]),t._v(" "),s("th",[s("strong",[t._v("å«ä¹‰")])]),t._v(" "),s("th",[s("strong",[t._v("æ˜¯å¦å¿…å¡«")])]),t._v(" "),s("th",[s("strong",[t._v("å‚è€ƒå€¼")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("SOURCE_URL")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºçš„è¿æ¥åœ°å€")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("nats://localhost:4222")])]),t._v(" "),s("tr",[s("td",[t._v("SINK_URL")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æ±‡çš„è¿æ¥åœ°å€")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æ±‡æ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("nats://localhost:4222")])]),t._v(" "),s("tr",[s("td",[t._v("SOURCE_CREDENTIAL")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºçš„è¿æ¥å‡­è¯")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("/path/file")])]),t._v(" "),s("tr",[s("td",[t._v("SINK_CREDENTIAL")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æ±‡çš„è¿æ¥å‡­è¯")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æ±‡æ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("/path/file")])]),t._v(" "),s("tr",[s("td",[t._v("REDIS_HOST")]),t._v(" "),s("td",[t._v("redisè¿æ¥åœ°å€")]),t._v(" "),s("td",[t._v("redisä½œä¸ºæ•°æ®æ±‡æ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("redis.sz")])]),t._v(" "),s("tr",[s("td",[t._v("REDIS_PORT")]),t._v(" "),s("td",[t._v("redisè¿æ¥ç«¯å£")]),t._v(" "),s("td",[t._v("redisä½œä¸ºæ•°æ®æ±‡æ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("6379")])]),t._v(" "),s("tr",[s("td",[t._v("REDIS_PASSWORD")]),t._v(" "),s("td",[t._v("redisè¿æ¥å¯†ç ")]),t._v(" "),s("td",[t._v("redisä½œä¸ºæ•°æ®æ±‡æ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("85269262")])]),t._v(" "),s("tr",[s("td",[t._v("REDIS_DATABASE")]),t._v(" "),s("td",[t._v("redisè¿æ¥æ•°æ®åº“ï¼ˆä¸å¡«åˆ™é»˜è®¤0ï¼‰")]),t._v(" "),s("td",[t._v("éå¿…å¡«")]),t._v(" "),s("td",[t._v("0")])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("SOURCE_TYPE")])]),t._v(" "),s("td",[s("strong",[t._v("æ•°æ®æºçš„ç±»å‹ï¼šæ”¯æŒJetStream")])]),t._v(" "),s("td",[s("strong",[t._v("å¿…å¡«")])]),t._v(" "),s("td",[s("strong",[t._v("JETSTREAM")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("SINK_TYPES")])]),t._v(" "),s("td",[s("strong",[t._v("æ•°æ®æ±‡çš„ç±»å‹ï¼šæ”¯æŒJetStream nats Redisã€‚å¤šä¸ªé€—å·åˆ†éš”")])]),t._v(" "),s("td",[s("strong",[t._v("å¿…å¡«")])]),t._v(" "),s("td",[s("strong",[t._v("NATS,REDIS")])])]),t._v(" "),s("tr",[s("td",[t._v("SOURCE_STREAMS")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œéœ€è¦å¤„ç†çš„streamåç§°ã€‚å¤šä¸ªé€—å·åˆ†éš”")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("out-FR00015,out-FR00011")])]),t._v(" "),s("tr",[s("td",[t._v("SOURCE_CONSUMER")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶çš„æ¶ˆè´¹è€…åç§°")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("TPL")])]),t._v(" "),s("tr",[s("td",[t._v("SOURCE_DELIVERY_POLICY")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶çš„æ¶ˆè´¹ç­–ç•¥ï¼šæ”¯æŒEARLIEST, LAST, LATEST, FROM_TIME, FROM_STREAM_SEQUENCE")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("LAST")])]),t._v(" "),s("tr",[s("td",[t._v("SOURCE_FILTER_SUBJECT")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹çš„ä¸»é¢˜ã€‚å…¨æ¶ˆè´¹ï¼š>")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æºæ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v(">")])]),t._v(" "),s("tr",[s("td",[t._v("SINK_SUBJECT")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æ±‡æ—¶ï¼Œæ±‡å…¥çš„ä¸»é¢˜")]),t._v(" "),s("td",[t._v("natsä½œä¸ºæ•°æ®æ±‡æ—¶ï¼Œå¿…å¡«")]),t._v(" "),s("td",[t._v("flink.tpl")])]),t._v(" "),s("tr",[s("td",[t._v("FLINK_JOB_NAME")]),t._v(" "),s("td",[t._v("Flink Jobåç§°")]),t._v(" "),s("td",[t._v("å¿…å¡«")]),t._v(" "),s("td",[t._v("FLINK_TPL_JOB")])])])]),t._v(" "),s("h3",{attrs:{id:"ğŸ› -æ”¯æŒä¸¤ç§æ–¹å¼é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› -æ”¯æŒä¸¤ç§æ–¹å¼é…ç½®"}},[t._v("#")]),t._v(" ğŸ›  "),s("strong",[t._v("æ”¯æŒä¸¤ç§æ–¹å¼é…ç½®")])]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("ç¯å¢ƒå˜é‡")]),t._v("ï¼ˆé€‚ç”¨äº"),s("strong",[t._v("éƒ¨ç½²")]),t._v("ï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("ç³»ç»Ÿå˜é‡")]),t._v("ï¼ˆé€‚ç”¨äº"),s("strong",[t._v("æœ¬åœ°è°ƒè¯•")]),t._v("ï¼‰")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ“-ç¯å¢ƒå˜é‡ç¤ºä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“-ç¯å¢ƒå˜é‡ç¤ºä¾‹"}},[t._v("#")]),t._v(" ğŸ“ "),s("strong",[t._v("ç¯å¢ƒå˜é‡ç¤ºä¾‹")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SOURCE_URL=nats"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4222")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SINK_URL=nats"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//localhost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4222")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SOURCE_CREDENTIAL=/path/file\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SINK_CREDENTIAL=/path/file\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SOURCE_TYPE=JETSTREAM\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" SINK_TYPES=NATS"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("REDIS\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h3",{attrs:{id:"ğŸ“„-ç³»ç»Ÿå˜é‡ç¤ºä¾‹-flink-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“„-ç³»ç»Ÿå˜é‡ç¤ºä¾‹-flink-properties"}},[t._v("#")]),t._v(" ğŸ“„ "),s("strong",[t._v("ç³»ç»Ÿå˜é‡ç¤ºä¾‹ï¼ˆflink.propertiesï¼‰")])]),t._v(" "),s("div",{staticClass:"language-properties line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-properties"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("SOURCE_TYPE")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("JETSTREAM")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("SINK_TYPES")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("NATS,REDIS")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("FLINK_JOB_NAME")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("FLINK_TPL_JOB")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("SOURCE_STREAMS")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("out-FR00015")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key attr-name"}},[t._v("SINK_SUBJECT")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token value attr-value"}},[t._v("flink.tpl")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("ğŸš€ "),s("strong",[t._v("ä¼˜å…ˆçº§")]),t._v("ï¼šç¯å¢ƒå˜é‡ > ç³»ç»Ÿå˜é‡"),s("br"),t._v("\nğŸ“Œ "),s("strong",[t._v("Tips")]),t._v("ï¼šå¦‚æœç¯å¢ƒå˜é‡æœªè®¾ç½®ï¼Œåˆ™ä¼šä½¿ç”¨ "),s("strong",[t._v("flink.properties")]),t._v(" ä¸­çš„é…ç½®ã€‚")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ¤–-ç­–ç•¥æ¨¡å¼ä¼˜åŒ–äº‹ä»¶è§£æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¤–-ç­–ç•¥æ¨¡å¼ä¼˜åŒ–äº‹ä»¶è§£æ"}},[t._v("#")]),t._v(" ğŸ¤– "),s("strong",[t._v("ç­–ç•¥æ¨¡å¼ä¼˜åŒ–äº‹ä»¶è§£æ")])]),t._v(" "),s("p",[t._v("åœ¨æ•°æ®å¤„ç†æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæœ‰ä¸åŒçš„ "),s("strong",[t._v("eventSource")]),t._v("ï¼Œå¦‚ä½•æ›´ä¼˜é›…åœ°è§£æï¼ŸğŸ¤”")]),t._v(" "),s("blockquote",[s("p",[t._v("ç­–ç•¥æ¨¡å¼ ğŸ†ï¼š"),s("strong",[t._v("é¿å…å¤§é‡ if-elseï¼Œè§£è€¦ä»£ç ")]),t._v("ï¼")])]),t._v(" "),s("h3",{attrs:{id:"âœ¨-å®ç°æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#âœ¨-å®ç°æ–¹å¼"}},[t._v("#")]),t._v(" âœ¨ "),s("strong",[t._v("å®ç°æ–¹å¼")])]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("å®šä¹‰è§£ææ¥å£")])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("interface")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventParser")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventModel")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[s("strong",[t._v("å®ç°ä¸åŒ Event è§£æç±»")])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceEventParser")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventParser")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventModel")]),t._v(" event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾å¤‡äº‹ä»¶è§£æé€»è¾‘")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ol",{attrs:{start:"3"}},[s("li",[s("strong",[t._v("ç®¡ç†ä¸åŒçš„è§£æç­–ç•¥")])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventParserHolder")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventParser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" parsers "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" parsers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DEVICE_EVENT"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DeviceEventParser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventParser")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" parsers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ol",{attrs:{start:"4"}},[s("li",[s("strong",[t._v("ä½¿ç”¨ç­–ç•¥æ¨¡å¼è§£æäº‹ä»¶")])])]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventParser")]),t._v(" parser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventParserHolder")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getParser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parser "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" parser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("ğŸ¯ "),s("strong",[t._v("è¿™æ ·ï¼Œæ–°å¢ Event è§£ææ—¶ï¼Œåªéœ€æ·»åŠ ä¸€ä¸ªæ–°çš„å®ç°ç±»ï¼Œæ— éœ€æ”¹åŠ¨ç°æœ‰ä»£ç ï¼")])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Enjoy your Flink coding journey! ğŸš€"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[s("strong",[t._v("è®©ä½ çš„ Flink ä»»åŠ¡è·‘èµ·æ¥ï¼Œå°±è¿™ä¹ˆç®€å•ï¼")]),t._v(" ğŸƒğŸ’¨")])]),t._v(" "),s("h2",{attrs:{id:"ğŸ“Œ-éƒ¨ç½²æ–¹å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Œ-éƒ¨ç½²æ–¹å¼"}},[t._v("#")]),t._v(" ğŸ“Œ éƒ¨ç½²æ–¹å¼")]),t._v(" "),s("p",[t._v("Flink æä¾›äº†ä¸¤ç§ä¸»è¦çš„éƒ¨ç½²æ¨¡å¼ï¼Œæˆ‘ä»¬åˆ†åˆ«çœ‹çœ‹å¦‚ä½•é«˜æ•ˆéƒ¨ç½²å®ƒä»¬ğŸ‘‡")]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ğŸŒŸ-session-mode-ä¼šè¯æ¨¡å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-session-mode-ä¼šè¯æ¨¡å¼"}},[t._v("#")]),t._v(" ğŸŒŸ Session Modeï¼ˆä¼šè¯æ¨¡å¼ï¼‰")]),t._v(" "),s("p",[s("strong",[t._v("ğŸ‘‰ å®˜æ–¹æ–‡æ¡£")]),t._v("ï¼š"),s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/resource-providers/standalone/docker/#session-mode-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Flink Standalone Docker - Session Mode"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"ğŸ’¼-ci-cd-ä¸€é”®éƒ¨ç½²"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¼-ci-cd-ä¸€é”®éƒ¨ç½²"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ’¼ CI/CD ä¸€é”®éƒ¨ç½²")])]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("CI:")]),t._v(" ä½¿ç”¨ "),s("code",[t._v("Earthfile")]),t._v("ï¼Œåœ¨ CI ç¯å¢ƒä¸‹æ‰“åŒ… JAR ğŸ")]),t._v(" "),s("li",[s("strong",[t._v("CD:")]),t._v(" è¯»å–æ‰“åŒ…äº§ç‰©ï¼Œä½¿ç”¨ Flink Client æäº¤ Job ğŸš€")])]),t._v(" "),s("h4",{attrs:{id:"ğŸ› ï¸-æœ¬åœ°è°ƒæµ‹-web-ui-æäº¤-job"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ› ï¸-æœ¬åœ°è°ƒæµ‹-web-ui-æäº¤-job"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ› ï¸ æœ¬åœ°è°ƒæµ‹ - Web UI æäº¤ Job")])]),t._v(" "),s("h5",{attrs:{id:"_1ï¸âƒ£-å…ˆæ„å»º-jar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ï¸âƒ£-å…ˆæ„å»º-jar"}},[t._v("#")]),t._v(" "),s("strong",[t._v("1ï¸âƒ£ å…ˆæ„å»º JAR")])]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("åœ¨ IDEA ä¸­æ‰§è¡Œ Gradle æ„å»º")]),t._v(" ğŸ‘‡")])]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("./gradlew clean build\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("ğŸ”¹ "),s("strong",[t._v("äº§ç‰©ä½ç½®")]),t._v("ï¼š"),s("code",[t._v("build/libs/xxx-all.jar")])]),t._v(" "),s("h5",{attrs:{id:"_2ï¸âƒ£-æäº¤-job"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2ï¸âƒ£-æäº¤-job"}},[t._v("#")]),t._v(" "),s("strong",[t._v("2ï¸âƒ£ æäº¤ Job")])]),t._v(" "),s("ol",[s("li",[t._v("è®¿é—® "),s("strong",[t._v("Flink Web UI")]),t._v("ï¼ˆé»˜è®¤ "),s("code",[t._v("http://localhost:8081")]),t._v("ï¼‰")]),t._v(" "),s("li",[s("strong",[t._v("å·¦ä¾§èœå•")]),t._v(" â "),s("code",[t._v("Submit New Job")])]),t._v(" "),s("li",[s("strong",[t._v("ä¸Šä¼  JAR")]),t._v("ï¼Œå¡«å†™è¿è¡Œå‚æ•° â "),s("code",[t._v("Submit")])]),t._v(" "),s("li",[s("strong",[t._v("å·¦ä¾§èœå•")]),t._v(" â "),s("code",[t._v("Running Jobs")]),t._v(" æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ âœ…")])]),t._v(" "),s("hr"),t._v(" "),s("h3",{attrs:{id:"ğŸš€-application-mode-åº”ç”¨æ¨¡å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš€-application-mode-åº”ç”¨æ¨¡å¼"}},[t._v("#")]),t._v(" ğŸš€ Application Modeï¼ˆåº”ç”¨æ¨¡å¼ï¼‰")]),t._v(" "),s("p",[s("strong",[t._v("ğŸ‘‰ å®˜æ–¹æ–‡æ¡£")]),t._v("ï¼š"),s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/deployment/resource-providers/standalone/docker/#application-mode-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("Flink Standalone Docker - Application Mode"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"ğŸ’¼-ci-cd-éƒ¨ç½²æ–¹æ¡ˆ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¼-ci-cd-éƒ¨ç½²æ–¹æ¡ˆ"}},[t._v("#")]),t._v(" "),s("strong",[t._v("ğŸ’¼ CI/CD éƒ¨ç½²æ–¹æ¡ˆ")])]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("CI")]),t._v("ï¼ˆæ‰“åŒ…é˜¶æ®µï¼‰")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("EarthFile")]),t._v(" âœ… å¤ç”¨ç°æœ‰ Quarkus æ‰“åŒ…æµç¨‹")]),t._v(" "),s("li",[s("strong",[t._v("Dockerfile")]),t._v(" âœ… å¤ç”¨ï¼Œæ³¨æ„ "),s("strong",[t._v("ENTRYPOINT")])]),t._v(" "),s("li",[s("strong",[t._v("docker-entrypoint")]),t._v(" âœ… å¤ç”¨ï¼Œä½œä¸º Flink Job å¯åŠ¨ç±»")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("CD")]),t._v("ï¼ˆéƒ¨ç½²é˜¶æ®µï¼‰")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("docker-compose.yml")]),t._v(" æŒ‡å®šæ­£ç¡®çš„ "),s("strong",[t._v("é•œåƒ tag")]),t._v(" å’Œ "),s("strong",[t._v("JAR æ–‡ä»¶åç§°")])]),t._v(" "),s("li",[t._v("æŒ‡å®š Job è¿è¡Œç¯å¢ƒï¼ˆ"),s("code",[t._v("-env.active xxx")]),t._v("ï¼‰")]),t._v(" "),s("li",[s("code",[t._v("services - jobmanager - command")]),t._v(" é…ç½®å¯åŠ¨å‘½ä»¤")])])])]),t._v(" "),s("p",[t._v("ğŸ“ "),s("strong",[t._v("JetStream å¤„ç†é€»è¾‘")])]),t._v(" "),s("blockquote",[s("p",[t._v("å¦‚æœ "),s("code",[t._v("consumer")]),t._v(" ä¸å­˜åœ¨ï¼ŒFlink ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç† "),s("code",[t._v("savepoint")]),t._v(" ğŸ¯")])]),t._v(" "),s("h2",{attrs:{id:"ğŸ”§-ç»Ÿä¸€è½¯ä»¶ç‰ˆæœ¬"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”§-ç»Ÿä¸€è½¯ä»¶ç‰ˆæœ¬"}},[t._v("#")]),t._v(" ğŸ”§ ç»Ÿä¸€è½¯ä»¶ç‰ˆæœ¬")]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("ç»Ÿä¸€ Flink ç‰ˆæœ¬ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´ï¼ğŸ“Œ")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ç»„ä»¶")]),t._v(" "),s("th",[t._v("ç‰ˆæœ¬")]),t._v(" "),s("th",[t._v("ä¾èµ–å£°æ˜")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("strong",[t._v("Flink")])]),t._v(" "),s("td",[t._v("1.15.2")]),t._v(" "),s("td",[s("code",[t._v("flink-streaming-java:1.15.2")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("JNATS")])]),t._v(" "),s("td",[t._v("2.16.9")]),t._v(" "),s("td",[s("code",[t._v("io.nats:jnats:2.16.9")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Protobuf")])]),t._v(" "),s("td",[t._v("3.21.9")]),t._v(" "),s("td",[s("code",[t._v("com.google.protobuf:protobuf-java:3.21.9")])])]),t._v(" "),s("tr",[s("td",[s("strong",[t._v("Java")])]),t._v(" "),s("td",[t._v("11")]),t._v(" "),s("td",[s("code",[t._v("JavaVersion.VERSION_11")])])])])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"ğŸ¯-æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ¯-æ€»ç»“"}},[t._v("#")]),t._v(" ğŸ¯ æ€»ç»“")]),t._v(" "),s("p",[t._v("ğŸ’¡ "),s("strong",[t._v("æ— è®ºæ˜¯ Session Mode è¿˜æ˜¯ Application Modeï¼Œæµç¨‹éƒ½å¾ˆç®€å•ï¼")])]),t._v(" "),s("p",[t._v("âœ… "),s("strong",[t._v("CI/CD æ— ç¼é›†æˆ")])]),t._v(" "),s("p",[t._v("âœ… "),s("strong",[t._v("æœ¬åœ°è°ƒè¯• & Web UI æäº¤ Job")])]),t._v(" "),s("p",[t._v("âœ… "),s("strong",[t._v("ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†ï¼Œç¡®ä¿ç¨³å®šè¿è¡Œ")])]),t._v(" "),s("p",[s("strong",[t._v("é™„å½•å‚è€ƒ")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("é“¾æ¥")])]),t._v(" "),s("th",[s("strong",[t._v("å¤‡æ³¨")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("a",{attrs:{href:"https://www.jianshu.com/p/70fbf632887e",target:"_blank",rel:"noopener noreferrer"}},[t._v("Flink WebUI è¯¦è§£"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("ä½œè€…å¾ˆè¯¦ç»†çš„è¯´æ˜äº†webUIçš„ç›¸å…³æ“ä½œï¼Œä»‹ç»äº†å¸¸ç”¨æ“ä½œï¼Œä¸€äº›å‚æ•°é…ç½®å«ä¹‰ï¼Œå¯¹äºæ–°æ‰‹ä¸Šæ‰‹éå¸¸å‹å¥½ã€‚")])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.17/zh/docs/dev/datastream/fault-tolerance/checkpointing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Checkpointing"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("ä¸»è¦å…³æ³¨é…ç½®éƒ¨åˆ†")])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.17/zh/docs/dev/datastream/event-time/generating_watermarks/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ç”Ÿæˆ Watermark"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("æ°´ä½çº¿çš„ç”Ÿæˆç­–ç•¥ï¼Œä½¿ç”¨åŠŸèƒ½ä¹‹å‰å»ºè®®é˜…è¯»ä¸€ä¸‹å®˜æ–¹æ–‡æ¡£çš„æè¿°ï¼Œä¾¿äºç†è§£çš„æ›´åŠ æ·±åˆ»ã€‚")])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.17/zh/docs/dev/datastream/operators/windows/",target:"_blank",rel:"noopener noreferrer"}},[t._v("çª—"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("å¾ˆè¯¦ç»†çš„æè¿°äº†çª—å£åŒ…æ‹¬ç”Ÿå‘½å‘¨æœŸï¼Œä¸åŒçš„çª—å£å«ä¹‰ä»¥åŠä¾§é‡ï¼Œå¦‚ä½•è§¦å‘ä»¥åŠç¨‹åºç¼–å†™ç­‰ã€‚")])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.17/zh/docs/ops/state/savepoints/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Savepoints"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("è¯¦ç»†ä»‹ç»äº†savepointï¼Œä»¥åŠå¦‚ä½•è§¦å‘ä½¿ç”¨ã€‚åŒæ—¶åŒ…å«äº†ä½¿ç”¨savepointçš„å¸¸è§é—®é¢˜ï¼Œç½—åˆ—åœ¨ä¸‹é¢ï¼Œå¾ˆå…·æœ‰å‚è€ƒæ„ä¹‰")])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"https://nightlies.apache.org/flink/flink-docs-release-1.17/zh/docs/dev/datastream/overview/",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ¦‚è§ˆ"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("dataStreamAPIå¿«é€Ÿå…¥é—¨ï¼Œå¦‚ä½•å¿«é€Ÿå¼€å‘ä¸€ä¸ªFlink Job")])]),t._v(" "),s("tr",[s("td",[t._v("æœ¬ä»“åº“çš„æ„ä¹‰ä¹Ÿæƒ³å®ç°è¯¥ç›®çš„ï¼Œå°†è¯¥æ–‡ç« åŒæ ·é™„å½•åœ¨æ­¤ï¼Œæ–¹ä¾¿æ£€ç´¢")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("docker-composeç¼–æ’")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"https://github.dev/pinpoint-apm/pinpoint-docker/tree/master/pinpoint-flink",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.dev"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("ç†è§£dockerFile docker-entrypoint docker-composeå‡ ä¸ªæ–‡ä»¶ç›¸äº’å…³ç³»")])]),t._v(" "),s("tr",[s("td",[s("a",{attrs:{href:"https://juejin.cn/post/7128942475657347109#heading-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("juejin.cn"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("å®Œæ•´çš„ä»‹ç»äº†Flinkçš„å„ç§éƒ¨ç½²æ–¹å¼ï¼ŒåŒæ—¶å„ç§éƒ¨ç½²æ–¹å¼çš„æ¶æ„å›¾ä¹ŸåŒæ ·å‡ºå…·ï¼Œå¾ˆå…·æœ‰å‚è€ƒæ€§")])]),t._v(" "),s("tr",[s("td",[t._v("1. "),s("a",{attrs:{href:"https://stackoverflow.com/questions/75604809/whats-the-difference-between-flink-application-cluster-and-job-cluster#:~:text=A%20Flink%20Application%20Cluster%20is,executes%20a%20single%20Flink%20Job.",target:"_blank",rel:"noopener noreferrer"}},[t._v("What's the difference between flink application cluster and job cluster"),s("OutboundLink")],1)]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2. "),s("a",{attrs:{href:"https://stackoverflow.com/questions/70636512/developing-job-for-flink",target:"_blank",rel:"noopener noreferrer"}},[t._v("Developing job for Flink"),s("OutboundLink")],1)]),t._v(" "),s("td",[t._v("SOä¸Šæ¦‚å¿µè¾¨æä»¥åŠå¦‚ä½•éƒ¨ç½²Flink Jobï¼Œé«˜èµå›ç­”")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);