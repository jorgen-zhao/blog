(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{420:function(t,a,s){"use strict";s.r(a);var n=s(14),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"❓嘛是混合式开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#❓嘛是混合式开发"}},[t._v("#")]),t._v(" ❓嘛是混合式开发")]),t._v(" "),a("p",[t._v("你写过App吗？有没有觉得原生开发太累，Web开发又不够“硬核”？混合式开发就跳出来说：“嘿，我来帮你！”它把Web技术和原生功能捏一块儿，一套代码跑iOS和安卓，省时又省力。我用过几次，挺香，今天跟你唠唠这事儿！🥳")]),t._v(" "),a("h2",{attrs:{id:"🚀-混合式开发-传统与现代的完美结合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🚀-混合式开发-传统与现代的完美结合"}},[t._v("#")]),t._v(" 🚀 混合式开发：传统与现代的完美结合")]),t._v(" "),a("h3",{attrs:{id:"🏗-背景介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🏗-背景介绍"}},[t._v("#")]),t._v(" 🏗 背景介绍")]),t._v(" "),a("p",[t._v("随着移动互联网的发展，原生开发（Native）和Web开发（H5）各自占据着一席之地。然而，企业在追求高性能体验的同时，也希望兼顾跨平台和开发成本。于是，**混合式开发（Hybrid Development）**应运而生，它结合了原生和Web的优势，成为越来越多企业的选择。")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"🔍-问题-方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🔍-问题-方案"}},[t._v("#")]),t._v(" 🔍 问题 & 方案")]),t._v(" "),a("h3",{attrs:{id:"💡-最初构思-鱼和熊掌能否兼得"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#💡-最初构思-鱼和熊掌能否兼得"}},[t._v("#")]),t._v(" 💡 最初构思：鱼和熊掌能否兼得？")]),t._v(" "),a("p",[t._v("面对多端兼容的需求，传统的做法是"),a("strong",[t._v("分别开发 iOS 和 Android 版本")]),t._v("，但这样不仅成本高，还可能导致不同平台的用户体验不一致。")]),t._v(" "),a("p",[t._v("混合式开发的出现让我们眼前一亮，它允许在一个代码库的基础上，"),a("strong",[t._v("同时兼顾 Web 的灵活性和 Native 的高性能")]),t._v("。最初，我们决定尝试 "),a("strong",[t._v("React Native")]),t._v(" 和 "),a("strong",[t._v("Flutter")]),t._v(" 这两种方案。")]),t._v(" "),a("h3",{attrs:{id:"选型困惑-🤔"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选型困惑-🤔"}},[t._v("#")]),t._v(" "),a("strong",[t._v("选型困惑")]),t._v(" 🤔")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Flutter")]),t._v("：Google 出品，性能优秀，但需要学习 Dart 语言。")]),t._v(" "),a("li",[a("strong",[t._v("React Native")]),t._v("：Facebook 出品，社区活跃，但对原生模块的支持不够完善。")]),t._v(" "),a("li",[a("strong",[t._v("UniApp")]),t._v("：DCloud 出品，支持多端开发，但对原生 API 的支持有限。")]),t._v(" "),a("li",[a("strong",[t._v("Taro")]),t._v("：京东出品，支持多端开发，但对小程序生态更友好。")]),t._v(" "),a("li",[a("strong",[t._v("Capacitor")]),t._v("：Ionic 团队出品，支持 Web 技术栈，但对原生 API 的支持有限。")]),t._v(" "),a("li",[a("strong",[t._v("Ionic")]),t._v("：基于 Angular/React/Vue，生态完善，但性能较低。")])]),t._v(" "),a("p",[t._v("主流混合式开发方案对比")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("特性")]),t._v(" "),a("th",[t._v("Flutter")]),t._v(" "),a("th",[t._v("React Native")]),t._v(" "),a("th",[t._v("UniApp")]),t._v(" "),a("th",[t._v("Taro")]),t._v(" "),a("th",[t._v("Capacitor")]),t._v(" "),a("th",[t._v("Ionic")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("技术栈")])]),t._v(" "),a("td",[t._v("Dart")]),t._v(" "),a("td",[t._v("JavaScript (React)")]),t._v(" "),a("td",[t._v("JavaScript (Vue)")]),t._v(" "),a("td",[t._v("JavaScript (React)")]),t._v(" "),a("td",[t._v("JavaScript (TS)")]),t._v(" "),a("td",[t._v("JavaScript (Angular/React/Vue)")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("渲染方式")])]),t._v(" "),a("td",[t._v("自绘引擎")]),t._v(" "),a("td",[t._v("Native 组件")]),t._v(" "),a("td",[t._v("WebView + Native")]),t._v(" "),a("td",[t._v("WebView + Native")]),t._v(" "),a("td",[t._v("WebView + Native")]),t._v(" "),a("td",[t._v("WebView + Native")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("性能")])]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("接近原生")]),t._v(" "),a("td",[t._v("中等")]),t._v(" "),a("td",[t._v("中等")]),t._v(" "),a("td",[t._v("中等")]),t._v(" "),a("td",[t._v("较低")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("开发成本")])]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("中")]),t._v(" "),a("td",[t._v("低")]),t._v(" "),a("td",[t._v("低")]),t._v(" "),a("td",[t._v("低")]),t._v(" "),a("td",[t._v("低")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("跨平台能力")])]),t._v(" "),a("td",[t._v("iOS / Android / Web / 桌面")]),t._v(" "),a("td",[t._v("iOS / Android")]),t._v(" "),a("td",[t._v("iOS / Android / H5 / 小程序")]),t._v(" "),a("td",[t._v("iOS / Android / H5 / 小程序")]),t._v(" "),a("td",[t._v("iOS / Android / Web")]),t._v(" "),a("td",[t._v("iOS / Android / Web")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("生态成熟度")])]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("中")]),t._v(" "),a("td",[t._v("中")]),t._v(" "),a("td",[t._v("高")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("社区活跃度")])]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("高")]),t._v(" "),a("td",[t._v("中")]),t._v(" "),a("td",[t._v("中")]),t._v(" "),a("td",[t._v("中")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("原生 API 支持")])]),t._v(" "),a("td",[t._v("强")]),t._v(" "),a("td",[t._v("强")]),t._v(" "),a("td",[t._v("依赖插件")]),t._v(" "),a("td",[t._v("依赖插件")]),t._v(" "),a("td",[t._v("强")]),t._v(" "),a("td",[t._v("依赖插件")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("适用场景")])]),t._v(" "),a("td",[t._v("追求高性能 UI")]),t._v(" "),a("td",[t._v("兼顾性能与开发效率")]),t._v(" "),a("td",[t._v("多端小程序 / H5")]),t._v(" "),a("td",[t._v("微信生态")]),t._v(" "),a("td",[t._v("轻量级应用")]),t._v(" "),a("td",[t._v("快速开发 Web App")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("最终选型 Capacitor")]),t._v(" "),a("p",[t._v("其核心优势在于："),a("strong",[t._v("Capacitor 让 Web 技术真正成为原生应用的一部分，而不是简单的 WebView 容器")]),t._v("。这意味着它既可以用于 "),a("strong",[t._v("已有的 Web 应用扩展为移动端")]),t._v("，又可以作为 "),a("strong",[t._v("移动端开发的轻量级方案")]),t._v("，降低成本，提高可维护性，适用于 "),a("strong",[t._v("长期技术选型")]),t._v("。")])]),t._v(" "),a("h3",{attrs:{id:"capacitor-开发-android-插件的步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#capacitor-开发-android-插件的步骤"}},[t._v("#")]),t._v(" "),a("strong",[t._v("Capacitor 开发 Android 插件的步骤")])]),t._v(" "),a("p",[t._v("Capacitor 允许你使用 Java/Kotlin 编写 Android 插件，以扩展原生功能。以下是完整的开发流程：")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"_1-创建-capacitor-插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建-capacitor-插件"}},[t._v("#")]),t._v(" "),a("strong",[t._v("1. 创建 Capacitor 插件")])]),t._v(" "),a("p",[t._v("运行以下命令，在你的 Capacitor 项目中创建一个新的插件：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("npx @capacitor/cli plugin:generate\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[t._v("根据提示输入：\n"),a("ul",[a("li",[a("strong",[t._v("插件名称")]),t._v("（如 "),a("code",[t._v("CameraPlugin")]),t._v("）")]),t._v(" "),a("li",[a("strong",[t._v("插件 ID")]),t._v("（如 "),a("code",[t._v("com.camera.plugin")]),t._v("）")]),t._v(" "),a("li",[a("strong",[t._v("插件类名")]),t._v("（如 "),a("code",[t._v("CameraPlugin")]),t._v("）")])])])]),t._v(" "),a("p",[t._v("此命令会生成一个插件目录，包含 "),a("code",[t._v("android/")]),t._v("、"),a("code",[t._v("ios/")]),t._v(" 和 "),a("code",[t._v("src/")]),t._v(" 文件夹。")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"_2-编写-android-端插件逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-编写-android-端插件逻辑"}},[t._v("#")]),t._v(" "),a("strong",[t._v("2. 编写 Android 端插件逻辑")])]),t._v(" "),a("p",[t._v("打开 "),a("code",[t._v("android/src/main/java/com/camera/plugin/CameraPlugin.java")]),t._v("，修改 "),a("code",[t._v("CameraPlugin")]),t._v(" 代码：")]),t._v(" "),a("h4",{attrs:{id:"_2-1-继承-plugin-并注册方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-继承-plugin-并注册方法"}},[t._v("#")]),t._v(" "),a("strong",[t._v("2.1 继承 "),a("code",[t._v("Plugin")]),t._v(" 并注册方法")])]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("camera"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Log")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getcapacitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getcapacitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PluginMethod")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getcapacitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSObject")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token import"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getcapacitor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("annotation"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CapacitorPlugin")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@CapacitorPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CameraPlugin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CameraPlugin")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Plugin")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PluginMethod")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSObject")]),t._v(" call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("d")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CameraPlugin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Received: "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSObject")]),t._v(" ret "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("JSObject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"value"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ret"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br")])]),a("ul",[a("li",[a("code",[t._v('@CapacitorPlugin(name = "CameraPlugin")')]),t._v(" 让 Capacitor 识别该插件。")]),t._v(" "),a("li",[a("code",[t._v("@PluginMethod")]),t._v(" 标记为可在前端调用的方法。")])]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"_3-更新-androidmanifest-xml-如需权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-更新-androidmanifest-xml-如需权限"}},[t._v("#")]),t._v(" "),a("strong",[t._v("3. 更新 "),a("code",[t._v("AndroidManifest.xml")]),t._v("（如需权限）")])]),t._v(" "),a("p",[t._v("如果插件需要访问摄像头、定位等功能，在 "),a("code",[t._v("android/src/main/AndroidManifest.xml")]),t._v(" 中添加权限：")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("uses-permission")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("android:")]),t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("android.permission.CAMERA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_4-在前端项目中安装插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-在前端项目中安装插件"}},[t._v("#")]),t._v(" "),a("strong",[t._v("4. 在前端项目中安装插件")])]),t._v(" "),a("p",[t._v("运行以下命令将插件链接到 Capacitor：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" path-to-your-plugin\nnpx cap "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),t._v(" android\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_5-在前端调用插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-在前端调用插件"}},[t._v("#")]),t._v(" "),a("strong",[t._v("5. 在前端调用插件")])]),t._v(" "),a("p",[t._v("在前端（如 Vue/React/Angular），使用 Capacitor 调用你的插件：")]),t._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Plugins "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@capacitor/core'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CameraPlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" CameraPlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, Capacitor!"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"_6-运行-android-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-运行-android-项目"}},[t._v("#")]),t._v(" "),a("strong",[t._v("6. 运行 Android 项目")])]),t._v(" "),a("p",[t._v("进入 "),a("code",[t._v("android/")]),t._v(" 目录，使用 Android Studio 打开项目：")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("npx cap "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),t._v(" android\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("在模拟器或真机上运行并测试你的插件。这里更推荐使用真机来运行。Android设备上记得打开开发者模式。")]),t._v(" "),a("p",[t._v("这里只是简单的演示，实际开发中，你可能需要处理权限请求、异步任务、UI 线程等问题。详细的开发文档请参考 "),a("a",{attrs:{href:"https://capacitorjs.com/docs/getting-started/with-ionic",target:"_blank",rel:"noopener noreferrer"}},[t._v("Capacitor 官方文档。"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"🎭-自嘲一下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🎭-自嘲一下"}},[t._v("#")]),t._v(" 🎭 自嘲一下")]),t._v(" "),a("blockquote",[a("p",[t._v("开发前：混合式开发一统江湖！"),a("br"),t._v("\n开发中：怎么又崩了？这个 Native 模块怎么调？🤯"),a("br"),t._v("\n开发后：终于跑通了！看起来真香啊！🔥")])]),t._v(" "),a("p",[a("strong",[t._v("混合式开发，没有银弹，只有权衡。但只要方向对，坑踩多了，总会越来越顺！")]),t._v(" 😆")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("📌 "),a("em",[t._v('"最困难之时，就是我们离成功不远之日。"')]),t._v(" —— 拿破仑")])])}),[],!1,null,null,null);a.default=r.exports}}]);