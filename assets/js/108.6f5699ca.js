(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{459:function(t,s,a){"use strict";a.r(s);var n=a(15),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("åœ¨AIé¢†åŸŸï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´ä¸€ä¸ªä¸¤éš¾çš„é€‰æ‹©ï¼šä¸€æ–¹é¢ï¼Œæˆ‘ä»¬æ¸´æœ›æ‹¥æœ‰å‚æ•°é‡å·¨å¤§ã€èƒ½åŠ›å¼ºå¤§çš„å¤§è¯­è¨€æ¨¡å‹ï¼›å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬åˆéœ€è¦å°†è¿™äº›æ¨¡å‹éƒ¨ç½²åˆ°èµ„æºå—é™çš„ç¯å¢ƒä¸­ï¼Œå¦‚ç§»åŠ¨è®¾å¤‡ã€è¾¹ç¼˜è®¡ç®—èŠ‚ç‚¹æˆ–ä½åŠŸè€—æœåŠ¡å™¨ã€‚ğŸ¤” è¿™ç§çŸ›ç›¾å‚¬ç”Ÿäº†ä¸€ä¸ªé‡è¦çš„ç ”ç©¶æ–¹å‘â€”â€”å¤§è¯­è¨€æ¨¡å‹çš„è’¸é¦ä¸å‹ç¼©æŠ€æœ¯ã€‚")]),t._v(" "),s("p",[t._v('ä»Šå¤©ï¼Œæˆ‘æƒ³å’Œå¤§å®¶åˆ†äº«è¿™ä¸ªæ—¢å……æ»¡æŒ‘æˆ˜åˆæå…·ä»·å€¼çš„æŠ€æœ¯é¢†åŸŸï¼Œæ¢ç´¢å¦‚ä½•å°†"åºç„¶å¤§ç‰©"å˜æˆ"è½»é‡çº§é€‰æ‰‹"ï¼ŒåŒæ—¶å°½å¯èƒ½ä¿ç•™å…¶å¼ºå¤§çš„èƒ½åŠ›ã€‚')]),t._v(" "),s("h2",{attrs:{id:"å¤§è¯­è¨€æ¨¡å‹å‹ç¼©çš„å¿…è¦æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤§è¯­è¨€æ¨¡å‹å‹ç¼©çš„å¿…è¦æ€§"}},[t._v("#")]),t._v(" å¤§è¯­è¨€æ¨¡å‹å‹ç¼©çš„å¿…è¦æ€§")]),t._v(" "),s("h3",{attrs:{id:"èµ„æºé™åˆ¶çš„ç°å®æŒ‘æˆ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#èµ„æºé™åˆ¶çš„ç°å®æŒ‘æˆ˜"}},[t._v("#")]),t._v(" èµ„æºé™åˆ¶çš„ç°å®æŒ‘æˆ˜")]),t._v(" "),s("p",[t._v("éšç€å¤§è¯­è¨€æ¨¡å‹(LLM)å‚æ•°é‡çš„çˆ†ç‚¸å¼å¢é•¿ï¼Œä»æœ€åˆçš„å‡ åƒä¸‡åˆ°å¦‚ä»Šçš„æ•°åƒäº¿ï¼Œæˆ‘ä»¬å¯¹è®¡ç®—èµ„æºçš„éœ€æ±‚ä¹Ÿåœ¨æ€¥å‰§æ”€å‡ã€‚"),s("s",[t._v('æˆ‘çš„ç¬”è®°æœ¬ç”µè„‘ææ€•å·²ç»æ— æ³•æ‰¿å—è¿™äº›"å¤§å®¶ä¼™"çš„é‡é‡äº†')]),t._v("ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸é¢ä¸´ä»¥ä¸‹é™åˆ¶ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("è®¡ç®—èµ„æºé™åˆ¶")]),t._v("ï¼šé«˜ç«¯GPU/TPUèµ„æºæœ‰é™ä¸”æˆæœ¬é«˜æ˜‚")]),t._v(" "),s("li",[s("strong",[t._v("å†…å­˜é™åˆ¶")]),t._v("ï¼šå¤§æ¨¡å‹éš¾ä»¥åŠ è½½åˆ°å†…å­˜æœ‰é™çš„è®¾å¤‡")]),t._v(" "),s("li",[s("strong",[t._v("æ¨ç†å»¶è¿Ÿ")]),t._v("ï¼šå¤æ‚æ¨¡å‹éš¾ä»¥æ»¡è¶³å®æ—¶åº”ç”¨éœ€æ±‚")]),t._v(" "),s("li",[s("strong",[t._v("èƒ½è€—é™åˆ¶")]),t._v("ï¼šå¤§æ¨¡å‹æ¨ç†èƒ½è€—å·¨å¤§ï¼Œä¸ç¬¦åˆç»¿è‰²è®¡ç®—ç†å¿µ")])]),t._v(" "),s("h3",{attrs:{id:"éƒ¨ç½²åœºæ™¯çš„å¤šæ ·åŒ–éœ€æ±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#éƒ¨ç½²åœºæ™¯çš„å¤šæ ·åŒ–éœ€æ±‚"}},[t._v("#")]),t._v(" éƒ¨ç½²åœºæ™¯çš„å¤šæ ·åŒ–éœ€æ±‚")]),t._v(" "),s("p",[t._v("ä¸åŒçš„åº”ç”¨åœºæ™¯å¯¹æ¨¡å‹çš„è¦æ±‚å„ä¸ç›¸åŒï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("äº‘ç«¯æœåŠ¡")]),t._v("ï¼šå¯ä»¥æ¥å—è¾ƒé«˜çš„å»¶è¿Ÿå’Œèµ„æºæ¶ˆè€—")]),t._v(" "),s("li",[s("strong",[t._v("ç§»åŠ¨è®¾å¤‡")]),t._v("ï¼šéœ€è¦ä½åŠŸè€—ã€å°ä½“ç§¯ã€å¿«é€Ÿå“åº”")]),t._v(" "),s("li",[s("strong",[t._v("è¾¹ç¼˜è®¡ç®—")]),t._v("ï¼šéœ€è¦åœ¨æœ‰é™èµ„æºä¸‹å®ç°æ™ºèƒ½å†³ç­–")]),t._v(" "),s("li",[s("strong",[t._v("åµŒå…¥å¼ç³»ç»Ÿ")]),t._v("ï¼šå¯¹æ¨¡å‹å¤§å°å’Œè®¡ç®—èƒ½åŠ›è¦æ±‚æä¸ºè‹›åˆ»")])]),t._v(" "),s("p",[t._v('å› æ­¤ï¼Œå¦‚ä½•å°†å¤§æ¨¡å‹çš„èƒ½åŠ›"å‹ç¼©"å¹¶é€‚é…åˆ°è¿™äº›å¤šæ ·åŒ–çš„ç¯å¢ƒä¸­ï¼Œæˆä¸ºäº†ä¸€ä¸ªäºŸå¾…è§£å†³çš„é—®é¢˜ã€‚')]),t._v(" "),s("h2",{attrs:{id:"çŸ¥è¯†è’¸é¦çš„åŸºæœ¬åŸç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çŸ¥è¯†è’¸é¦çš„åŸºæœ¬åŸç†"}},[t._v("#")]),t._v(" çŸ¥è¯†è’¸é¦çš„åŸºæœ¬åŸç†")]),t._v(" "),s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯çŸ¥è¯†è’¸é¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯çŸ¥è¯†è’¸é¦"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯çŸ¥è¯†è’¸é¦ï¼Ÿ")]),t._v(" "),s("p",[t._v('çŸ¥è¯†è’¸é¦æ˜¯ä¸€ç§æ¨¡å‹å‹ç¼©æŠ€æœ¯ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¤§å‹"æ•™å¸ˆæ¨¡å‹"çš„çŸ¥è¯†è½¬ç§»åˆ°å°å‹"å­¦ç”Ÿæ¨¡å‹"ä¸­ã€‚å°±åƒä¸€ä½ç»éªŒä¸°å¯Œçš„è€å¸ˆå°†è‡ªå·±çš„çŸ¥è¯†å’Œç»éªŒä¼ æˆç»™å­¦ç”Ÿä¸€æ ·ï¼Œæ•™å¸ˆæ¨¡å‹é€šè¿‡"æ•™å­¦"è¿‡ç¨‹ï¼Œå¸®åŠ©å­¦ç”Ÿæ¨¡å‹å­¦ä¹ åˆ°æ›´é«˜æ•ˆã€æ›´ç´§å‡‘çš„çŸ¥è¯†è¡¨ç¤ºã€‚')]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v('çŸ¥è¯†è’¸é¦çš„æœ¬è´¨ä¸æ˜¯ç®€å•åœ°å¤åˆ¶å‚æ•°ï¼Œè€Œæ˜¯ä¼ é€’æ¨¡å‹çš„"çŸ¥è¯†"â€”â€”å³æ¨¡å‹å­¦åˆ°çš„ç‰¹å¾è¡¨ç¤ºå’Œå†³ç­–è¾¹ç•Œã€‚')])]),t._v(" "),s("h3",{attrs:{id:"è’¸é¦è¿‡ç¨‹çš„å…³é”®è¦ç´ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è’¸é¦è¿‡ç¨‹çš„å…³é”®è¦ç´ "}},[t._v("#")]),t._v(" è’¸é¦è¿‡ç¨‹çš„å…³é”®è¦ç´ ")]),t._v(" "),s("p",[t._v("ä¸€ä¸ªå®Œæ•´çš„è’¸é¦è¿‡ç¨‹é€šå¸¸åŒ…å«ä»¥ä¸‹å‡ ä¸ªå…³é”®è¦ç´ ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("æ•™å¸ˆæ¨¡å‹")]),t._v("ï¼šé€šå¸¸æ˜¯å¤§å‹é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ‹¥æœ‰å¼ºå¤§çš„èƒ½åŠ›å’Œä¸°å¯Œçš„çŸ¥è¯†")]),t._v(" "),s("li",[s("strong",[t._v("å­¦ç”Ÿæ¨¡å‹")]),t._v("ï¼šç›®æ ‡å‹ç¼©æ¨¡å‹ï¼Œç»“æ„æ›´ç®€å•ï¼Œå‚æ•°æ›´å°‘")]),t._v(" "),s("li",[s("strong",[t._v("è’¸é¦æŸå¤±å‡½æ•°")]),t._v("ï¼šè¡¡é‡æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹è¾“å‡ºå·®å¼‚çš„å‡½æ•°")]),t._v(" "),s("li",[s("strong",[t._v("æ¸©åº¦å‚æ•°")]),t._v("ï¼šæ§åˆ¶è¾“å‡ºåˆ†å¸ƒå¹³æ»‘åº¦çš„è¶…å‚æ•°")])]),t._v(" "),s("h3",{attrs:{id:"è½¯æ ‡ç­¾vsç¡¬æ ‡ç­¾"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è½¯æ ‡ç­¾vsç¡¬æ ‡ç­¾"}},[t._v("#")]),t._v(" è½¯æ ‡ç­¾vsç¡¬æ ‡ç­¾")]),t._v(" "),s("p",[t._v("åœ¨ä¼ ç»Ÿç›‘ç£å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¡¬æ ‡ç­¾(one-hotç¼–ç )è¿›è¡Œè®­ç»ƒã€‚è€Œåœ¨çŸ¥è¯†è’¸é¦ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†è½¯æ ‡ç­¾çš„æ¦‚å¿µï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("ç¡¬æ ‡ç­¾")]),t._v("ï¼šåªå…³æ³¨æ­£ç¡®ç±»åˆ«çš„æ¦‚ç‡ï¼Œå¦‚[0, 0, 1, 0, 0]")]),t._v(" "),s("li",[s("strong",[t._v("è½¯æ ‡ç­¾")]),t._v("ï¼šåŒ…å«æ•™å¸ˆæ¨¡å‹å¯¹æ‰€æœ‰ç±»åˆ«çš„æ¦‚ç‡åˆ†å¸ƒï¼Œå¦‚[0.05, 0.1, 0.7, 0.1, 0.05]")])]),t._v(" "),s("p",[t._v("è½¯æ ‡ç­¾åŒ…å«äº†ç±»åˆ«ä¹‹é—´çš„ç›¸å¯¹å…³ç³»å’Œä¸ç¡®å®šæ€§ä¿¡æ¯ï¼Œä¸ºå­¦ç”Ÿæ¨¡å‹æä¾›äº†æ›´ä¸°å¯Œçš„å­¦ä¹ ä¿¡å·ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å¤§è¯­è¨€æ¨¡å‹è’¸é¦çš„æŠ€æœ¯æ–¹æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤§è¯­è¨€æ¨¡å‹è’¸é¦çš„æŠ€æœ¯æ–¹æ³•"}},[t._v("#")]),t._v(" å¤§è¯­è¨€æ¨¡å‹è’¸é¦çš„æŠ€æœ¯æ–¹æ³•")]),t._v(" "),s("h3",{attrs:{id:"è¾“å‡ºå±‚è’¸é¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¾“å‡ºå±‚è’¸é¦"}},[t._v("#")]),t._v(" è¾“å‡ºå±‚è’¸é¦")]),t._v(" "),s("p",[t._v("è¾“å‡ºå±‚è’¸é¦æ˜¯æœ€ç›´æ¥çš„è’¸é¦æ–¹æ³•ï¼Œä¸»è¦å…³æ³¨æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹åœ¨è¾“å‡ºå±‚çš„ä¸€è‡´æ€§ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®€åŒ–çš„è¾“å‡ºå±‚è’¸é¦æŸå¤±å‡½æ•°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("distillation_loss")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_logits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" student_logits"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" temperature"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨æ¸©åº¦ç¼©æ”¾è½¯åŒ–æ¦‚ç‡åˆ†å¸ƒ")]),t._v("\n    teacher_probs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("softmax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_logits "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" temperature"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dim"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    student_probs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log_softmax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("student_logits "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" temperature"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dim"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¡ç®—KLæ•£åº¦ä½œä¸ºè’¸é¦æŸå¤±")]),t._v("\n    loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("kl_div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("student_probs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" teacher_probs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reduction"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'batchmean'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ·»åŠ æ¸©åº¦ç¼©æ”¾çš„å½’ä¸€åŒ–å› å­")]),t._v("\n    loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" temperature "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" temperature\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" loss\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ç®€å•ç›´æ¥ï¼Œä½†å¯èƒ½æ— æ³•å……åˆ†ä¼ é€’æ•™å¸ˆæ¨¡å‹çš„ä¸­é—´å±‚çŸ¥è¯†ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ä¸­é—´å±‚ç‰¹å¾è’¸é¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´å±‚ç‰¹å¾è’¸é¦"}},[t._v("#")]),t._v(" ä¸­é—´å±‚ç‰¹å¾è’¸é¦")]),t._v(" "),s("p",[t._v('ä¸ºäº†æ›´å¥½åœ°ä¼ é€’æ•™å¸ˆæ¨¡å‹çš„"çŸ¥è¯†"ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸­é—´å±‚ç‰¹å¾è’¸é¦ï¼š')]),t._v(" "),s("div",{staticClass:"custom-block theorem"},[s("p",{staticClass:"title"},[t._v("THEOREM")]),s("p",[t._v("å¤§è¯­è¨€æ¨¡å‹åœ¨ä¸åŒå±‚æ¬¡ä¸Šæ•è·äº†ä¸åŒç²’åº¦çš„ä¿¡æ¯ï¼šåº•å±‚æ•è·è¯­æ³•å’Œå±€éƒ¨æ¨¡å¼ï¼Œä¸­å±‚æ•è·è¯­ä¹‰å…³ç³»ï¼Œé«˜å±‚æ•è·æŠ½è±¡æ¦‚å¿µå’Œæ¨ç†èƒ½åŠ›ã€‚")])]),s("p",[t._v("ä¸­é—´å±‚è’¸é¦é€šè¿‡åŒ¹é…æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹åœ¨ä¸­é—´å±‚çš„ç‰¹å¾è¡¨ç¤ºæ¥å®ç°çŸ¥è¯†ä¼ é€’ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®€åŒ–çš„ä¸­é—´å±‚ç‰¹å¾è’¸é¦æŸå¤±å‡½æ•°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("feature_distillation_loss")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" student_features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¡ç®—ç‰¹å¾è¡¨ç¤ºä¹‹é—´çš„å·®å¼‚")]),t._v("\n    loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" t_feat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s_feat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("zip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" student_features"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨å‡æ–¹è¯¯å·®æˆ–ä½™å¼¦ç›¸ä¼¼åº¦ä½œä¸ºè·ç¦»åº¦é‡")]),t._v("\n        loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mse_loss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t_feat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s_feat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" loss\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"æ³¨æ„åŠ›è’¸é¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨æ„åŠ›è’¸é¦"}},[t._v("#")]),t._v(" æ³¨æ„åŠ›è’¸é¦")]),t._v(" "),s("p",[t._v("æ³¨æ„åŠ›æœºåˆ¶æ˜¯Transformeræ¶æ„çš„æ ¸å¿ƒï¼Œè’¸é¦æ³¨æ„åŠ›åˆ†å¸ƒå¯ä»¥è®©å­¦ç”Ÿæ¨¡å‹å­¦ä¹ åˆ°æ•™å¸ˆæ¨¡å‹çš„å…³æ³¨æ¨¡å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®€åŒ–çš„æ³¨æ„åŠ›è’¸é¦æŸå¤±å‡½æ•°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("attention_distillation_loss")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_attention"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" student_attention"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¡ç®—æ³¨æ„åŠ›çŸ©é˜µçš„å·®å¼‚")]),t._v("\n    loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" t_attn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s_attn "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("zip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_attention"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" student_attention"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ä½¿ç”¨KLæ•£åº¦æˆ–å‡æ–¹è¯¯å·®")]),t._v("\n        loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("kl_div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log_softmax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s_attn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dim"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n                        F"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("softmax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t_attn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dim"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n                        reduction"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'batchmean'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" loss\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"å¤šä»»åŠ¡è’¸é¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤šä»»åŠ¡è’¸é¦"}},[t._v("#")]),t._v(" å¤šä»»åŠ¡è’¸é¦")]),t._v(" "),s("p",[t._v("å¤§è¯­è¨€æ¨¡å‹é€šå¸¸éœ€è¦å®Œæˆå¤šç§ä»»åŠ¡ï¼Œå¦‚é—®ç­”ã€æ‘˜è¦ã€ç¿»è¯‘ç­‰ã€‚å¤šä»»åŠ¡è’¸é¦å¯ä»¥è®©å­¦ç”Ÿæ¨¡å‹åœ¨ä¸åŒä»»åŠ¡ä¸ŠåŒæ—¶å­¦ä¹ æ•™å¸ˆæ¨¡å‹çš„çŸ¥è¯†ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®€åŒ–çš„å¤šä»»åŠ¡è’¸é¦æŸå¤±å‡½æ•°")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("multi_task_distillation_loss")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_outputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" student_outputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" task_weights"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    total_loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" task"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t_out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s_out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("enumerate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("zip")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("teacher_outputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" student_outputs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¡ç®—æ¯ä¸ªä»»åŠ¡çš„è’¸é¦æŸå¤±")]),t._v("\n        task_loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" compute_task_specific_loss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t_out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" s_out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ ¹æ®ä»»åŠ¡æƒé‡åŠ æƒ")]),t._v("\n        total_loss "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" task_weights"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("task"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" task_loss\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" total_loss\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h2",{attrs:{id:"å¤§è¯­è¨€æ¨¡å‹çš„å…¶ä»–å‹ç¼©æŠ€æœ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¤§è¯­è¨€æ¨¡å‹çš„å…¶ä»–å‹ç¼©æŠ€æœ¯"}},[t._v("#")]),t._v(" å¤§è¯­è¨€æ¨¡å‹çš„å…¶ä»–å‹ç¼©æŠ€æœ¯")]),t._v(" "),s("h3",{attrs:{id:"é‡åŒ–æŠ€æœ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é‡åŒ–æŠ€æœ¯"}},[t._v("#")]),t._v(" é‡åŒ–æŠ€æœ¯")]),t._v(" "),s("p",[t._v("é‡åŒ–æ˜¯å°†æ¨¡å‹çš„æµ®ç‚¹å‚æ•°è½¬æ¢ä¸ºä½ç²¾åº¦è¡¨ç¤º(å¦‚8ä½æ•´æ•°ç”šè‡³4ä½æ•´æ•°)çš„è¿‡ç¨‹ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("32ä½æµ®ç‚¹ â†’ 16ä½æµ®ç‚¹ â†’ 8ä½æ•´æ•° â†’ 4ä½æ•´æ•°\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("é‡åŒ–çš„ä¼˜åŠ¿ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ˜¾è‘—å‡å°‘æ¨¡å‹å¤§å°")]),t._v(" "),s("li",[t._v("åŠ å¿«æ¨ç†é€Ÿåº¦")]),t._v(" "),s("li",[t._v("é™ä½å†…å­˜å¸¦å®½éœ€æ±‚")])]),t._v(" "),s("p",[t._v("æŒ‘æˆ˜ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç²¾åº¦æŸå¤±")]),t._v(" "),s("li",[t._v("éœ€è¦ä¸“é—¨çš„ç¡¬ä»¶æ”¯æŒ")])]),t._v(" "),s("h3",{attrs:{id:"å‰ªææŠ€æœ¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰ªææŠ€æœ¯"}},[t._v("#")]),t._v(" å‰ªææŠ€æœ¯")]),t._v(" "),s("p",[t._v("å‰ªææ˜¯é€šè¿‡ç§»é™¤æ¨¡å‹ä¸­ä¸é‡è¦çš„å‚æ•°æˆ–ç¥ç»å…ƒæ¥å‡å°‘æ¨¡å‹å¤æ‚åº¦çš„æŠ€æœ¯ï¼š")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç®€åŒ–çš„ç»“æ„åŒ–å‰ªæç¤ºä¾‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("structured_pruning")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pruning_ratio"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å¯¹æ¯ä¸€å±‚è¿›è¡Œå‰ªæ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" module "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("named_modules"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("isinstance")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Linear"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¡ç®—æƒé‡çš„é‡è¦æ€§")]),t._v("\n            importance "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("abs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ç¡®å®šå‰ªæé˜ˆå€¼")]),t._v("\n            threshold "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" torch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("kthvalue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("importance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flatten"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pruning_ratio "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" importance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("numel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# åº”ç”¨æ©ç ")]),t._v("\n            mask "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" importance "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" threshold\n            module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weight"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*=")]),t._v(" mask"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("float")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("å‰ªæå¯åˆ†ä¸ºï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("éç»“æ„åŒ–å‰ªæ")]),t._v("ï¼šéšæœºç§»é™¤å•ä¸ªå‚æ•°")]),t._v(" "),s("li",[s("strong",[t._v("ç»“æ„åŒ–å‰ªæ")]),t._v("ï¼šç§»é™¤æ•´ä¸ªç¥ç»å…ƒæˆ–é€šé“")])]),t._v(" "),s("h3",{attrs:{id:"ä½ç§©åˆ†è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä½ç§©åˆ†è§£"}},[t._v("#")]),t._v(" ä½ç§©åˆ†è§£")]),t._v(" "),s("p",[t._v("ä½ç§©åˆ†è§£é€šè¿‡å°†æƒé‡çŸ©é˜µåˆ†è§£ä¸ºå¤šä¸ªä½ç§©çŸ©é˜µçš„ä¹˜ç§¯æ¥å‡å°‘å‚æ•°é‡ï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("W âˆˆ R^{mÃ—n} â‰ˆ U âˆˆ R^{mÃ—k} Ã— V âˆˆ R^{kÃ—n}, å…¶ä¸­ k << min(m,n)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("è¿™ç§æŠ€æœ¯ç‰¹åˆ«é€‚åˆäºå¤§è¯­è¨€æ¨¡å‹ä¸­çš„æ³¨æ„åŠ›çŸ©é˜µå’Œå‰é¦ˆç½‘ç»œå±‚ã€‚")]),t._v(" "),s("h2",{attrs:{id:"è’¸é¦ä¸å‹ç¼©çš„å®è·µæ¡ˆä¾‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è’¸é¦ä¸å‹ç¼©çš„å®è·µæ¡ˆä¾‹"}},[t._v("#")]),t._v(" è’¸é¦ä¸å‹ç¼©çš„å®è·µæ¡ˆä¾‹")]),t._v(" "),s("h3",{attrs:{id:"llamaæ¨¡å‹çš„å‹ç¼©"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#llamaæ¨¡å‹çš„å‹ç¼©"}},[t._v("#")]),t._v(" LLaMAæ¨¡å‹çš„å‹ç¼©")]),t._v(" "),s("p",[t._v("Metaçš„LLaMAæ¨¡å‹æ˜¯ä¸€ä¸ªå…¸å‹çš„å¤§è¯­è¨€æ¨¡å‹å‹ç¼©æ¡ˆä¾‹ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("åŸå§‹æ¨¡å‹")]),t._v("ï¼š65Bå‚æ•°ï¼ŒFP16æ ¼å¼ï¼Œçº¦130GB")]),t._v(" "),s("li",[s("strong",[t._v("å‹ç¼©ç‰ˆæœ¬")]),t._v("ï¼š\n"),s("ul",[s("li",[t._v("é‡åŒ–ç‰ˆæœ¬ï¼š8ä½é‡åŒ–ï¼Œçº¦65GB")]),t._v(" "),s("li",[t._v("å‰ªæç‰ˆæœ¬ï¼šå‰ªé™¤50%å‚æ•°ï¼Œçº¦32.5GB")]),t._v(" "),s("li",[t._v("è’¸é¦ç‰ˆæœ¬ï¼š7Bå­¦ç”Ÿæ¨¡å‹ï¼Œä¿ç•™çº¦90%èƒ½åŠ›")])])])]),t._v(" "),s("h3",{attrs:{id:"bertçš„è’¸é¦ä¸é‡åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bertçš„è’¸é¦ä¸é‡åŒ–"}},[t._v("#")]),t._v(" BERTçš„è’¸é¦ä¸é‡åŒ–")]),t._v(" "),s("p",[t._v("Googleçš„ç ”ç©¶å±•ç¤ºäº†BERTæ¨¡å‹çš„è’¸é¦ä¸é‡åŒ–æ•ˆæœï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("æ¨¡å‹ç‰ˆæœ¬")]),t._v(" "),s("th",[t._v("å‚æ•°é‡")]),t._v(" "),s("th",[t._v("æ¨¡å‹å¤§å°")]),t._v(" "),s("th",[t._v("æ¨ç†é€Ÿåº¦")]),t._v(" "),s("th",[t._v("GLUEåˆ†æ•°")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("åŸå§‹BERT-Large")]),t._v(" "),s("td",[t._v("340M")]),t._v(" "),s("td",[t._v("1.34GB")]),t._v(" "),s("td",[t._v("1x")]),t._v(" "),s("td",[t._v("83.4")])]),t._v(" "),s("tr",[s("td",[t._v("è’¸é¦BERT-Base")]),t._v(" "),s("td",[t._v("110M")]),t._v(" "),s("td",[t._v("0.43GB")]),t._v(" "),s("td",[t._v("3.2x")]),t._v(" "),s("td",[t._v("82.3")])]),t._v(" "),s("tr",[s("td",[t._v("é‡åŒ–è’¸é¦BERT")]),t._v(" "),s("td",[t._v("110M")]),t._v(" "),s("td",[t._v("0.14GB")]),t._v(" "),s("td",[t._v("9.1x")]),t._v(" "),s("td",[t._v("81.7")])])])]),t._v(" "),s("p",[t._v("è¿™ä¸ªæ¡ˆä¾‹å±•ç¤ºäº†åœ¨ä¿æŒè¾ƒé«˜æ€§èƒ½çš„åŒæ—¶ï¼Œæ˜¾è‘—å‡å°‘æ¨¡å‹å¤§å°å’Œæ¨ç†å»¶è¿Ÿçš„å¯èƒ½æ€§ã€‚")]),t._v(" "),s("h2",{attrs:{id:"è’¸é¦ä¸å‹ç¼©çš„æŒ‘æˆ˜ä¸æœªæ¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è’¸é¦ä¸å‹ç¼©çš„æŒ‘æˆ˜ä¸æœªæ¥"}},[t._v("#")]),t._v(" è’¸é¦ä¸å‹ç¼©çš„æŒ‘æˆ˜ä¸æœªæ¥")]),t._v(" "),s("h3",{attrs:{id:"å½“å‰é¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å½“å‰é¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜"}},[t._v("#")]),t._v(" å½“å‰é¢ä¸´çš„ä¸»è¦æŒ‘æˆ˜")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("çŸ¥è¯†ä¼ é€’çš„ä¸å®Œæ•´æ€§")]),t._v("ï¼šå­¦ç”Ÿæ¨¡å‹éš¾ä»¥å®Œå…¨å¤åˆ¶æ•™å¸ˆæ¨¡å‹çš„æ‰€æœ‰èƒ½åŠ›")]),t._v(" "),s("li",[s("strong",[t._v("è’¸é¦è¿‡ç¨‹çš„è®¡ç®—å¼€é”€")]),t._v("ï¼šè’¸é¦è®­ç»ƒæœ¬èº«ä¹Ÿéœ€è¦å¤§é‡è®¡ç®—èµ„æº")]),t._v(" "),s("li",[s("strong",[t._v("ä»»åŠ¡ç‰¹å®šæ€§")]),t._v("ï¼šé’ˆå¯¹ç‰¹å®šä»»åŠ¡è’¸é¦çš„æ¨¡å‹å¯èƒ½ç¼ºä¹æ³›åŒ–èƒ½åŠ›")]),t._v(" "),s("li",[s("strong",[t._v("è¯„ä¼°å›°éš¾")]),t._v("ï¼šå¦‚ä½•å‡†ç¡®è¯„ä¼°å‹ç¼©åæ¨¡å‹çš„èƒ½åŠ›ä¿ç•™ç¨‹åº¦")])]),t._v(" "),s("h3",{attrs:{id:"æœªæ¥å‘å±•æ–¹å‘"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœªæ¥å‘å±•æ–¹å‘"}},[t._v("#")]),t._v(" æœªæ¥å‘å±•æ–¹å‘")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("è‡ªé€‚åº”è’¸é¦")]),t._v("ï¼šæ ¹æ®ä¸åŒä»»åŠ¡å’Œæ•°æ®ç‰¹æ€§åŠ¨æ€è°ƒæ•´è’¸é¦ç­–ç•¥")]),t._v(" "),s("li",[s("strong",[t._v("åˆ†å±‚è’¸é¦")]),t._v("ï¼šé’ˆå¯¹æ¨¡å‹ä¸åŒå±‚æ¬¡é‡‡ç”¨ä¸åŒçš„è’¸é¦æ–¹æ³•")]),t._v(" "),s("li",[s("strong",[t._v("æŒç»­è’¸é¦")]),t._v("ï¼šæ”¯æŒæ•™å¸ˆæ¨¡å‹æ›´æ–°æ—¶å­¦ç”Ÿæ¨¡å‹çš„æŒç»­å­¦ä¹ ")]),t._v(" "),s("li",[s("strong",[t._v("ç¡¬ä»¶æ„ŸçŸ¥è’¸é¦")]),t._v("ï¼šé’ˆå¯¹ç‰¹å®šç¡¬ä»¶æ¶æ„ä¼˜åŒ–çš„è’¸é¦æ–¹æ³•")])]),t._v(" "),s("h2",{attrs:{id:"ä¸ªäººå»ºè®®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ªäººå»ºè®®"}},[t._v("#")]),t._v(" ä¸ªäººå»ºè®®")]),t._v(" "),s("p",[t._v("ä½œä¸ºä¸€ååœ¨AIé¢†åŸŸæ‘¸çˆ¬æ»šæ‰“å¤šå¹´çš„ä»ä¸šè€…ï¼Œæˆ‘è®¤ä¸ºè’¸é¦ä¸å‹ç¼©æŠ€æœ¯æ˜¯è®©å¤§è¯­è¨€æ¨¡å‹çœŸæ­£è½åœ°åº”ç”¨çš„å…³é”®ã€‚ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸€äº›ä¸ªäººå»ºè®®ï¼š")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("æ˜ç¡®éœ€æ±‚ä¼˜å…ˆçº§")]),t._v("ï¼šåœ¨å‹ç¼©å‰æ˜ç¡®ä½ æœ€å…³å¿ƒçš„æŒ‡æ ‡æ˜¯å»¶è¿Ÿã€å¤§å°è¿˜æ˜¯å‡†ç¡®ç‡")]),t._v(" "),s("li",[s("strong",[t._v("æ··åˆä½¿ç”¨å¤šç§æŠ€æœ¯")]),t._v("ï¼šé€šå¸¸ç»“åˆè’¸é¦ã€é‡åŒ–å’Œå‰ªæèƒ½è¾¾åˆ°æœ€ä½³æ•ˆæœ")]),t._v(" "),s("li",[s("strong",[t._v("è¿­ä»£ä¼˜åŒ–")]),t._v("ï¼šå‹ç¼©æ˜¯ä¸€ä¸ªè¿­ä»£è¿‡ç¨‹ï¼Œéœ€è¦ä¸æ–­è°ƒæ•´å’Œä¼˜åŒ–")]),t._v(" "),s("li",[s("strong",[t._v("ä¿æŒè¯„ä¼°ä¸€è‡´æ€§")]),t._v("ï¼šä½¿ç”¨ç›¸åŒçš„è¯„ä¼°é›†å’ŒæŒ‡æ ‡æ¥æ¯”è¾ƒä¸åŒå‹ç¼©æ–¹æ³•çš„æ•ˆæœ")])])]),t._v(" "),s("blockquote",[s("p",[t._v('"åœ¨AIé¢†åŸŸï¼Œæˆ‘ä»¬è¿½æ±‚çš„ä¸æ˜¯æœ€å¤§çš„æ¨¡å‹ï¼Œè€Œæ˜¯æœ€é€‚åˆåœºæ™¯çš„æ¨¡å‹ã€‚"')])]),t._v(" "),s("h2",{attrs:{id:"ç»“è¯­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),s("p",[t._v("å¤§è¯­è¨€æ¨¡å‹çš„è’¸é¦ä¸å‹ç¼©æŠ€æœ¯æ˜¯ä¸€ä¸ªå……æ»¡æ´»åŠ›å’ŒæŒ‘æˆ˜çš„ç ”ç©¶é¢†åŸŸã€‚éšç€æ¨¡å‹è§„æ¨¡çš„ä¸æ–­å¢é•¿å’Œéƒ¨ç½²åœºæ™¯çš„å¤šæ ·åŒ–ï¼Œè¿™é¡¹æŠ€æœ¯çš„é‡è¦æ€§åªä¼šæ—¥ç›Šå‡¸æ˜¾ã€‚ğŸš€")]),t._v(" "),s("p",[t._v("æˆ‘ç›¸ä¿¡ï¼Œé€šè¿‡æŒç»­çš„ç ”ç©¶å’Œåˆ›æ–°ï¼Œæˆ‘ä»¬å°†èƒ½å¤Ÿæ‰“é€ å‡ºæ—¢å¼ºå¤§åˆé«˜æ•ˆçš„è½»é‡åŒ–å¤§è¯­è¨€æ¨¡å‹ï¼Œè®©AIæŠ€æœ¯çœŸæ­£è§¦è¾¾æ¯ä¸€ä¸ªè§’è½ã€‚å¦‚æœä½ å¯¹è’¸é¦ä¸å‹ç¼©æŠ€æœ¯æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ä¸€èµ·æ¢è®¨å’Œäº¤æµï¼")])])}),[],!1,null,null,null);s.default=r.exports}}]);