(window.webpackJsonp=window.webpackJsonp||[]).push([[633],{987:function(t,s,a){"use strict";a.r(s);var r=a(15),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v("åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘å·²ç»ä»‹ç»äº† WebSocket å’Œ MQTT è¿™ä¸¤ç§é‡è¦çš„ç½‘ç»œé€šä¿¡åè®®ã€‚WebSocket ä¸ºæˆ‘ä»¬æä¾›äº†å®æ—¶åŒå‘é€šä¿¡çš„èƒ½åŠ›ï¼Œè€Œ MQTT åˆ™åœ¨ç‰©è”ç½‘é¢†åŸŸå¤§æ”¾å¼‚å½©ã€‚ç„¶è€Œï¼Œå½“æˆ‘ä»¬æµè§ˆç½‘é¡µã€åŠ è½½èµ„æºæ—¶ï¼Œè¿˜æœ‰ä¸€ä½é»˜é»˜æ— é—»çš„è‹±é›„åœ¨èƒŒåå·¥ä½œâ€”â€”é‚£å°±æ˜¯ HTTP/2ã€‚")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("HTTP/2 ä¸æ˜¯ HTTP/1.1 çš„ç®€å•å‡çº§ï¼Œè€Œæ˜¯ä¸€æ¬¡å½»åº•çš„é‡æ„ï¼Œæ—¨åœ¨è§£å†³ Web æ€§èƒ½ç“¶é¢ˆï¼Œä¸ºç°ä»£äº’è”ç½‘åº”ç”¨æä¾›æ›´é«˜æ•ˆã€æ›´å¿«é€Ÿçš„æ•°æ®ä¼ è¾“æ–¹å¼ã€‚")])]),t._v(" "),s("p",[t._v("ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘æ¯å¤©éƒ½åœ¨ä¸ HTTP æ‰“äº¤é“ï¼Œä½†ç›´åˆ°æ·±å…¥äº†è§£ HTTP/2 åï¼Œæˆ‘æ‰çœŸæ­£ç†è§£äº†ç°ä»£ Web æ˜¯å¦‚ä½•å®ç°å¦‚æ­¤æµç•…çš„ç”¨æˆ·ä½“éªŒçš„ã€‚ä»Šå¤©ï¼Œæˆ‘æƒ³å’Œå¤§å®¶åˆ†äº« HTTP/2 çš„æ ¸å¿ƒç‰¹æ€§å’Œå®ƒå¦‚ä½•æ”¹å˜äº†æˆ‘ä»¬çš„ Web å¼€å‘æ–¹å¼ã€‚")]),t._v(" "),s("h2",{attrs:{id:"http-2-çš„å‰ä¸–ä»Šç”Ÿ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-2-çš„å‰ä¸–ä»Šç”Ÿ"}},[t._v("#")]),t._v(" HTTP/2 çš„å‰ä¸–ä»Šç”Ÿ")]),t._v(" "),s("p",[t._v("åœ¨ HTTP/2 å‡ºç°ä¹‹å‰ï¼ŒHTTP/1.1 å·²ç»ç»Ÿæ²»äº†äº’è”ç½‘äºŒåå¤šå¹´ã€‚HTTP/1.1 è™½ç„¶ç®€å•å¯é ï¼Œä½†éšç€ Web åº”ç”¨çš„å¤æ‚åŒ–ï¼Œå®ƒé€æ¸æš´éœ²å‡ºä¸€äº›æ€§èƒ½ç“¶é¢ˆï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("é˜Ÿå¤´é˜»å¡")]),t._v("ï¼šåœ¨åŒä¸€ä¸ª TCP è¿æ¥ä¸­ï¼Œå‰ä¸€ä¸ªè¯·æ±‚æœªå®Œæˆï¼Œåç»­è¯·æ±‚å¿…é¡»ç­‰å¾…")]),t._v(" "),s("li",[s("strong",[t._v("å¤šä¸ª TCP è¿æ¥")]),t._v("ï¼šæµè§ˆå™¨ä¸ºæ¯ä¸ªåŸŸåå»ºç«‹å¤šä¸ªè¿æ¥ï¼ˆé€šå¸¸ä¸º6ä¸ªï¼‰ï¼Œå¢åŠ äº†æœåŠ¡å™¨è´Ÿæ‹…")]),t._v(" "),s("li",[s("strong",[t._v("å¤´éƒ¨å†—ä½™")]),t._v("ï¼šHTTP å¤´éƒ¨åœ¨æ¯æ¬¡è¯·æ±‚ä¸­é‡å¤å‘é€ï¼Œæµªè´¹å¸¦å®½")]),t._v(" "),s("li",[s("strong",[t._v("ä¸æ”¯æŒæœåŠ¡å™¨æ¨é€")]),t._v("ï¼šæœåŠ¡å™¨æ— æ³•ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€èµ„æº")])]),t._v(" "),s("p",[t._v("è¿™äº›é—®é¢˜åœ¨ç§»åŠ¨äº’è”ç½‘æ—¶ä»£å˜å¾—æ›´åŠ çªå‡ºï¼Œå› ä¸ºç§»åŠ¨ç½‘ç»œé€šå¸¸å…·æœ‰æ›´é«˜çš„å»¶è¿Ÿå’Œæ›´ä¸ç¨³å®šçš„è¿æ¥ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒGoogle åœ¨ 2012 å¹´æ¨å‡ºäº† SPDY åè®®ï¼Œä½œä¸º HTTP çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå¹¶æœ€ç»ˆå°†å…¶è´¡çŒ®ç»™ IETFï¼Œå½¢æˆäº† HTTP/2 æ ‡å‡†ã€‚")]),t._v(" "),s("p",[t._v("HTTP/2 äº 2015 å¹´æ­£å¼å‘å¸ƒï¼Œè‡³ä»Šå·²æˆä¸ºç°ä»£ Web çš„åŸºç¡€ã€‚æ ¹æ® W3Techs çš„æ•°æ®ï¼Œæˆªè‡³ 2023 å¹´ï¼Œè¶…è¿‡ 60% çš„ç½‘ç«™å·²ç»æ”¯æŒ HTTP/2ã€‚")]),t._v(" "),s("h2",{attrs:{id:"http-2-çš„æ ¸å¿ƒç‰¹æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-2-çš„æ ¸å¿ƒç‰¹æ€§"}},[t._v("#")]),t._v(" HTTP/2 çš„æ ¸å¿ƒç‰¹æ€§")]),t._v(" "),s("p",[t._v("HTTP/2 å¼•å…¥äº†è®¸å¤šé©å‘½æ€§çš„ç‰¹æ€§ï¼Œå½»åº•æ”¹å˜äº† Web é€šä¿¡çš„æ–¹å¼ã€‚è®©æˆ‘ä»¬é€ä¸€æ¢è®¨è¿™äº›ç‰¹æ€§ï¼š")]),t._v(" "),s("h3",{attrs:{id:"_1-äºŒè¿›åˆ¶åˆ†å¸§å±‚-ğŸ“¡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-äºŒè¿›åˆ¶åˆ†å¸§å±‚-ğŸ“¡"}},[t._v("#")]),t._v(" 1. äºŒè¿›åˆ¶åˆ†å¸§å±‚ ğŸ“¡")]),t._v(" "),s("p",[t._v("HTTP/2 æœ€å¤§çš„å˜åŒ–ä¹‹ä¸€æ˜¯å¼•å…¥äº†äºŒè¿›åˆ¶åˆ†å¸§å±‚ã€‚ä¸ HTTP/1.1 çš„çº¯æ–‡æœ¬ä¸åŒï¼ŒHTTP/2 å°†æ‰€æœ‰ä¼ è¾“çš„ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ç¼–ç ã€‚")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å¸§")]),t._v("ï¼šHTTP/2 ä¸­é€šä¿¡çš„æœ€å°å•ä½ï¼Œæ¯ä¸ªå¸§åŒ…å«å¸§å¤´ï¼Œè‡³å°‘æ ‡è¯†å‡ºè¯¥å¸§æ‰€å±çš„æµ")]),t._v(" "),s("li",[s("strong",[t._v("æ¶ˆæ¯")]),t._v("ï¼šé€»è¾‘ä¸Šçš„ HTTP æ¶ˆæ¯ï¼Œä¾‹å¦‚ä¸€ä¸ªè¯·æ±‚æˆ–ä¸€ä¸ªå“åº”ï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªå¸§ç»„æˆ")]),t._v(" "),s("li",[s("strong",[t._v("æµ")]),t._v("ï¼šä¸€ä¸ªå·²å»ºç«‹çš„ TCP è¿æ¥å†…çš„åŒå‘å­—èŠ‚æµï¼Œå¯ä»¥æ‰¿è½½ä¸€æ¡æˆ–å¤šæ¡åŒå‘æ¶ˆæ¯")])]),t._v(" "),s("div",{staticClass:"custom-block theorem"},[s("p",{staticClass:"title"},[t._v("THEOREM")]),s("p",[t._v("äºŒè¿›åˆ¶åˆ†å¸§å±‚ä½¿å¾— HTTP/2 èƒ½å¤Ÿåœ¨ä¸€ä¸ª TCP è¿æ¥ä¸Šå¹¶è¡Œå¤„ç†å¤šä¸ªè¯·æ±‚å’Œå“åº”ï¼Œå½»åº•è§£å†³äº† HTTP/1.1 çš„é˜Ÿå¤´é˜»å¡é—®é¢˜ã€‚\n::`")]),t._v(" "),s("h3",{attrs:{id:"_2-å¤šè·¯å¤ç”¨-ğŸš€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¤šè·¯å¤ç”¨-ğŸš€"}},[t._v("#")]),t._v(" 2. å¤šè·¯å¤ç”¨ ğŸš€")]),t._v(" "),s("p",[t._v("å¤šè·¯å¤ç”¨æ˜¯ HTTP/2 æœ€æ ¸å¿ƒçš„ç‰¹æ€§ä¹‹ä¸€ã€‚å®ƒå…è®¸åœ¨å•ä¸ª TCP è¿æ¥ä¸ŠåŒæ—¶å¹¶è¡Œå¤„ç†å¤šä¸ªè¯·æ±‚å’Œå“åº”ï¼Œè€Œæ— éœ€æŒ‰ç…§è¯·æ±‚é¡ºåºä¸€ä¸€å“åº”ã€‚")]),t._v(" "),s("div",{staticClass:"language-mermaid line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-mermaid"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("graph")]),t._v(" LR\n    A"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[æµè§ˆå™¨]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|HTTP/1.1|")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[æœåŠ¡å™¨]")]),t._v("\n    A "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|è¯·æ±‚1|")]),t._v(" B\n    A "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|è¯·æ±‚2|")]),t._v(" B\n    A "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|è¯·æ±‚3|")]),t._v(" B\n    B "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|å“åº”1|")]),t._v(" A\n    B "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|å“åº”2|")]),t._v(" A\n    B "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|å“åº”3|")]),t._v(" A\n    \n    C"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[æµè§ˆå™¨]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|HTTP/2|")]),t._v(" D"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[æœåŠ¡å™¨]")]),t._v("\n    C "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|å¹¶è¡Œè¯·æ±‚|")]),t._v(" D\n    D "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),s("span",{pre:!0,attrs:{class:"token label property"}},[t._v("|å¹¶è¡Œå“åº”|")]),t._v(" C\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("è¿™æ„å‘³ç€ï¼Œå³ä½¿æŸä¸ªè¯·æ±‚çš„å¤„ç†æ—¶é—´è¾ƒé•¿ï¼Œä¹Ÿä¸ä¼šé˜»å¡å…¶ä»–è¯·æ±‚çš„å¤„ç†ã€‚è¿™å¯¹äºç°ä»£ Web åº”ç”¨è‡³å…³é‡è¦ï¼Œå› ä¸ºä¸€ä¸ªå…¸å‹çš„ç½‘é¡µå¯èƒ½éœ€è¦åŠ è½½æ•°åä¸ªèµ„æºï¼ˆCSSã€JavaScriptã€å›¾ç‰‡ç­‰ï¼‰ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_3-å¤´éƒ¨å‹ç¼©-ğŸ—œï¸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-å¤´éƒ¨å‹ç¼©-ğŸ—œï¸"}},[t._v("#")]),t._v(" 3. å¤´éƒ¨å‹ç¼© ğŸ—œï¸")]),t._v(" "),s("p",[t._v("HTTP/2 ä½¿ç”¨ HPACK ç®—æ³•å¯¹ HTTP å¤´éƒ¨è¿›è¡Œå‹ç¼©ï¼Œå¤§å¤§å‡å°‘äº†å¤´éƒ¨çš„å¤§å°å’Œä¼ è¾“å¼€é”€ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨ HTTP/1.1 ä¸­ï¼Œæ¯ä¸ªè¯·æ±‚å’Œå“åº”éƒ½ä¼šé‡å¤å‘é€ç›¸åŒçš„å¤´éƒ¨ä¿¡æ¯")]),t._v(" "),s("li",[t._v("HPACK é€šè¿‡ç»´æŠ¤ä¸€ä¸ªå…±äº«çš„å­—å…¸ï¼Œåªå‘é€å¤´éƒ¨å­—æ®µçš„å·®å¼‚éƒ¨åˆ†")]),t._v(" "),s("li",[t._v("æ”¯æŒåŠ¨æ€æ›´æ–°å­—å…¸ï¼Œé€‚åº”ä¸æ–­å˜åŒ–çš„å¤´éƒ¨å­—æ®µ")])]),t._v(" "),s("p",[t._v("å¯¹äºç§»åŠ¨ç”¨æˆ·æ¥è¯´ï¼Œè¿™å°¤å…¶é‡è¦ï¼Œå› ä¸ºå®ƒå¯ä»¥æ˜¾è‘—å‡å°‘æ•°æ®ä¼ è¾“é‡ï¼Œé™ä½æµé‡è´¹ç”¨ï¼Œæé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚")]),t._v(" "),s("h3",{attrs:{id:"_4-æœåŠ¡å™¨æ¨é€-ğŸš€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-æœåŠ¡å™¨æ¨é€-ğŸš€"}},[t._v("#")]),t._v(" 4. æœåŠ¡å™¨æ¨é€ ğŸš€")]),t._v(" "),s("p",[t._v("æœåŠ¡å™¨æ¨é€æ˜¯ HTTP/2 çš„å¦ä¸€ä¸ªé©å‘½æ€§ç‰¹æ€§ï¼Œå…è®¸æœåŠ¡å™¨åœ¨å®¢æˆ·ç«¯è¯·æ±‚ä¹‹å‰ä¸»åŠ¨å‘å®¢æˆ·ç«¯æ¨é€èµ„æºã€‚")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚ï¼Œå½“æµè§ˆå™¨è¯·æ±‚ HTML æ–‡ä»¶æ—¶ï¼ŒæœåŠ¡å™¨å¯ä»¥é¢„æµ‹æµè§ˆå™¨æ¥ä¸‹æ¥å¯èƒ½éœ€è¦çš„ CSS å’Œ JavaScript æ–‡ä»¶ï¼Œå¹¶ä¸»åŠ¨å°†è¿™äº›æ–‡ä»¶æ¨é€åˆ°æµè§ˆå™¨ç¼“å­˜ä¸­ï¼Œè€Œæ— éœ€æµè§ˆå™¨å†æ¬¡è¯·æ±‚ã€‚")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("æç¤º")]),t._v(" "),s("p",[t._v("æœåŠ¡å™¨æ¨é€å¯ä»¥å‡å°‘ä¸€ä¸ªå®Œæ•´çš„è¯·æ±‚-å“åº”å‘¨æœŸï¼Œä»è€Œæ˜¾è‘—æé«˜é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ä½†éœ€è¦æ³¨æ„ï¼Œä¸æ°å½“çš„æ¨é€å¯èƒ½ä¼šæµªè´¹å¸¦å®½ï¼Œå› æ­¤éœ€è¦è°¨æ…ä½¿ç”¨ã€‚")])])]),s("h3",{attrs:{id:"_5-æµé‡æ§åˆ¶-âš–ï¸"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-æµé‡æ§åˆ¶-âš–ï¸"}},[t._v("#")]),t._v(" 5. æµé‡æ§åˆ¶ âš–ï¸")]),t._v(" "),s("p",[t._v("HTTP/2 æä¾›äº†åŸºäºæµçš„æµé‡æ§åˆ¶æœºåˆ¶ï¼Œå…è®¸æ¥æ”¶æ–¹åŠ¨æ€è°ƒæ•´æ¥æ”¶çª—å£å¤§å°ï¼Œé˜²æ­¢å‘é€æ–¹å‘é€è¿‡å¤šæ•°æ®å¯¼è‡´æ¥æ”¶æ–¹ä¸å ªé‡è´Ÿã€‚")]),t._v(" "),s("p",[t._v("è¿™å¯¹äºå¤„ç†ä¸åŒèƒ½åŠ›çš„å®¢æˆ·ç«¯ï¼ˆå¦‚ç§»åŠ¨è®¾å¤‡ï¼‰ç‰¹åˆ«æœ‰ç”¨ï¼Œå¯ä»¥æ ¹æ®å®¢æˆ·ç«¯çš„å®é™…æ¥æ”¶èƒ½åŠ›è°ƒæ•´æ•°æ®ä¼ è¾“é€Ÿç‡ã€‚")]),t._v(" "),s("h2",{attrs:{id:"http-2-çš„å®é™…åº”ç”¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-2-çš„å®é™…åº”ç”¨"}},[t._v("#")]),t._v(" HTTP/2 çš„å®é™…åº”ç”¨")]),t._v(" "),s("p",[t._v("äº†è§£äº† HTTP/2 çš„ç‰¹æ€§åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­å……åˆ†åˆ©ç”¨è¿™äº›ç‰¹æ€§ï¼š")]),t._v(" "),s("h3",{attrs:{id:"_1-å¯ç”¨-http-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¯ç”¨-http-2"}},[t._v("#")]),t._v(" 1. å¯ç”¨ HTTP/2")]),t._v(" "),s("p",[t._v("å¤§å¤šæ•°ç°ä»£ Web æœåŠ¡å™¨ï¼ˆå¦‚ Nginxã€Apacheã€Node.jsï¼‰éƒ½æ”¯æŒ HTTP/2ã€‚å¯ç”¨ HTTP/2 é€šå¸¸åªéœ€è¦ç®€å•çš„é…ç½®ï¼š")]),t._v(" "),s("p",[s("strong",[t._v("Nginx é…ç½®ç¤ºä¾‹")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-nginx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("443")]),t._v(" ssl http2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_certificate")]),t._v(" /path/to/cert.pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ssl_certificate_key")]),t._v(" /path/to/key.pem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("strong",[t._v("Node.js (http2 æ¨¡å—)")]),t._v(":")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" http2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSecureServer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server-key.pem'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cert")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server-cert.pem'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stream'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" headers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†è¯·æ±‚")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_2-ä¼˜åŒ–èµ„æºåŠ è½½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¼˜åŒ–èµ„æºåŠ è½½"}},[t._v("#")]),t._v(" 2. ä¼˜åŒ–èµ„æºåŠ è½½")]),t._v(" "),s("p",[t._v("HTTP/2 çš„å¤šè·¯å¤ç”¨ç‰¹æ€§æ”¹å˜äº†æˆ‘ä»¬å¯¹èµ„æºåŠ è½½çš„ä¼˜åŒ–ç­–ç•¥ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("å‡å°‘åŸŸåæ•°é‡")]),t._v("ï¼šåœ¨ HTTP/1.1 ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸å»ºè®®å°†é™æ€èµ„æºåˆ†æ•£åˆ°ä¸åŒåŸŸåä»¥çªç ´æµè§ˆå™¨è¿æ¥é™åˆ¶ã€‚ä½†åœ¨ HTTP/2 ä¸‹ï¼Œå°†èµ„æºæ”¾åœ¨åŒä¸€åŸŸåä¸‹æ›´é«˜æ•ˆï¼Œå› ä¸ºå¯ä»¥å……åˆ†åˆ©ç”¨å¤šè·¯å¤ç”¨")]),t._v(" "),s("li",[s("strong",[t._v("åˆå¹¶æ–‡ä»¶ä¸å†æ˜¯å¿…é¡»")]),t._v("ï¼šè™½ç„¶åˆå¹¶æ–‡ä»¶ä»ç„¶å¯ä»¥å‡å°‘è¯·æ±‚æ•°ï¼Œä½†åœ¨ HTTP/2 ä¸‹ï¼Œè¿™ç§ä¼˜åŒ–çš„é‡è¦æ€§å¤§å¤§é™ä½")]),t._v(" "),s("li",[s("strong",[t._v("ä½¿ç”¨æœåŠ¡å™¨æ¨é€")]),t._v("ï¼šå¯¹äºå…³é”®èµ„æºï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æœåŠ¡å™¨æ¨é€æŠ€æœ¯ï¼Œæå‰å°†èµ„æºæ¨é€åˆ°å®¢æˆ·ç«¯")])]),t._v(" "),s("h3",{attrs:{id:"_3-åˆ©ç”¨-alpn-åå•†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-åˆ©ç”¨-alpn-åå•†"}},[t._v("#")]),t._v(" 3. åˆ©ç”¨ ALPN åå•†")]),t._v(" "),s("p",[t._v("ALPN (Application-Layer Protocol Negotiation) æ˜¯ TLS çš„æ‰©å±•ï¼Œå…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨æ¡æ‰‹é˜¶æ®µåå•†ä½¿ç”¨å“ªä¸ªåº”ç”¨å±‚åè®®ï¼ˆå¦‚ HTTP/1.1 æˆ– HTTP/2ï¼‰ã€‚ç¡®ä¿ä½ çš„æœåŠ¡å™¨é…ç½®æ”¯æŒ ALPNï¼Œä»¥ä¾¿ä¸å®¢æˆ·ç«¯åå•†ä½¿ç”¨æœ€é«˜æ•ˆçš„åè®®ã€‚")]),t._v(" "),s("h2",{attrs:{id:"http-2-çš„å±€é™æ€§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http-2-çš„å±€é™æ€§"}},[t._v("#")]),t._v(" HTTP/2 çš„å±€é™æ€§")]),t._v(" "),s("p",[t._v("å°½ç®¡ HTTP/2 å¸¦æ¥äº†è®¸å¤šæ”¹è¿›ï¼Œä½†å®ƒå¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼š")]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("TCP é˜Ÿå¤´é˜»å¡")]),t._v("ï¼šè™½ç„¶ HTTP/2 è§£å†³äº† HTTP å±‚çš„é˜Ÿå¤´é˜»å¡ï¼Œä½†å¦‚æœåº•å±‚ TCP è¿ä¸¢åŒ…ï¼Œæ•´ä¸ªè¿æ¥ä»ç„¶ä¼šé˜»å¡")]),t._v(" "),s("li",[s("strong",[t._v("éƒ¨ç½²å¤æ‚æ€§")]),t._v("ï¼šè¦å……åˆ†åˆ©ç”¨ HTTP/2ï¼Œéœ€è¦ HTTPSï¼Œè¿™å¢åŠ äº†éƒ¨ç½²çš„å¤æ‚æ€§")]),t._v(" "),s("li",[s("strong",[t._v("æµè§ˆå™¨å…¼å®¹æ€§")]),t._v("ï¼šè™½ç„¶ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒ HTTP/2ï¼Œä½†æŸäº›æ—§ç‰ˆæµè§ˆå™¨å¯èƒ½ä¸æ”¯æŒ")])]),t._v(" "),s("p",[t._v("ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒQUIC åè®®ï¼ˆåŸºäº UDPï¼‰åº”è¿è€Œç”Ÿï¼Œå®ƒè¿›ä¸€æ­¥è§£å†³äº† TCP é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œå¹¶æä¾›äº†æ›´å¿«çš„è¿æ¥å»ºç«‹é€Ÿåº¦ã€‚QUIC å·²ç»æˆä¸º HTTP/3 çš„åŸºç¡€åè®®ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ç»“è¯­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),s("p",[t._v("HTTP/2 çš„å‡ºç°æ˜¯ Web å‘å±•å²ä¸Šçš„ä¸€ä¸ªé‡è¦é‡Œç¨‹ç¢‘ï¼Œå®ƒé€šè¿‡äºŒè¿›åˆ¶åˆ†å¸§ã€å¤šè·¯å¤ç”¨ã€å¤´éƒ¨å‹ç¼©ç­‰åˆ›æ–°ç‰¹æ€§ï¼Œæå¤§åœ°æé«˜äº† Web é€šä¿¡çš„æ•ˆç‡å’Œæ€§èƒ½ã€‚")]),t._v(" "),s("p",[t._v("ä½œä¸ºä¸€å Web å¼€å‘è€…ï¼Œäº†è§£ HTTP/2 çš„å·¥ä½œåŸç†å’Œæœ€ä½³å®è·µï¼Œä¸ä»…æœ‰åŠ©äºæˆ‘ä»¬æ„å»ºæ›´å¿«é€Ÿã€æ›´é«˜æ•ˆçš„åº”ç”¨ï¼Œä¹Ÿèƒ½è®©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£ç°ä»£ Web çš„åº•å±‚æ¶æ„ã€‚")]),t._v(" "),s("p",[t._v("éšç€ HTTP/3 çš„å…´èµ·ï¼ŒWeb é€šä¿¡æŠ€æœ¯ä»åœ¨ä¸æ–­å‘å±•ã€‚ä½†æ— è®ºæŠ€æœ¯å¦‚ä½•æ¼”è¿›ï¼Œç†è§£ HTTP/2 çš„æ ¸å¿ƒæ€æƒ³å°†å§‹ç»ˆæ˜¯æˆ‘ä»¬æ„å»ºé«˜æ€§èƒ½ Web åº”ç”¨çš„åŸºç¡€ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v('"åè®®æ˜¯äº’è”ç½‘çš„åŸºçŸ³ï¼Œç†è§£å®ƒä»¬å°±æ˜¯ç†è§£äº†äº’è”ç½‘çš„å·¥ä½œæ–¹å¼ã€‚"')])]),t._v(" "),s("hr"),t._v(" "),s("p",[s("em",[t._v("å¦‚æœä½ å¯¹ HTTP/2 æˆ–å…¶ä»–ç½‘ç»œåè®®æœ‰ä»»ä½•ç–‘é—®æˆ–è§è§£ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµï¼")])])])}),[],!1,null,null,null);s.default=e.exports}}]);