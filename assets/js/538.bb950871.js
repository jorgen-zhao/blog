(window.webpackJsonp=window.webpackJsonp||[]).push([[538],{894:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"å‰è¨€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),s("p",[t._v('åœ¨æ„å»ºç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ—©å·²ä¸æ˜¯ç®€å•çš„"ç”Ÿäº§è€…-æ¶ˆè´¹è€…"æ¨¡å¼é€šä¿¡å·¥å…·äº†ã€‚éšç€Kafkaã€Pulsarã€RabbitMQ Streamç­‰æŠ€æœ¯çš„å‘å±•ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å·²ç»æ¼”å˜æˆäº†å¼ºå¤§çš„äº‹ä»¶æµå¤„ç†å¹³å°ã€‚ç„¶è€Œï¼Œæˆ‘åœ¨ç¿»é˜…è‡ªå·±çš„åšå®¢æ–‡ç« æ—¶ï¼Œå‘ç°äº†ä¸€ä¸ªæ˜æ˜¾çš„çŸ¥è¯†ç¼ºå£â€”â€”å…³äºæ¶ˆæ¯é˜Ÿåˆ—æµå¤„ç†èƒ½åŠ›çš„æ¢è®¨ã€‚')]),t._v(" "),s("blockquote",[s("p",[t._v('æ¶ˆæ¯é˜Ÿåˆ—ä¸å†ä»…ä»…æ˜¯æ¶ˆæ¯çš„"ä¸­è½¬ç«™"ï¼Œè€Œæ˜¯æˆä¸ºäº†å®æ—¶æ•°æ®æµçš„"é«˜é€Ÿå…¬è·¯"ã€‚')])]),t._v(" "),s("p",[t._v("ä»Šå¤©ï¼Œæˆ‘æƒ³å’Œå¤§å®¶èŠèŠæ¶ˆæ¯é˜Ÿåˆ—çš„æµå¤„ç†èƒ½åŠ›ï¼Œä»¥åŠå®ƒå¦‚ä½•æˆä¸ºæ„å»ºäº‹ä»¶é©±åŠ¨æ¶æ„çš„æ ¸å¿ƒå¼•æ“ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—ä¸æµå¤„ç†çš„åŒºåˆ«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—ä¸æµå¤„ç†çš„åŒºåˆ«"}},[t._v("#")]),t._v(" ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—ä¸æµå¤„ç†çš„åŒºåˆ«")]),t._v(" "),s("p",[t._v("é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—å’Œæµå¤„ç†çš„åŒºåˆ«ï¼š")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("ç‰¹æ€§")]),t._v(" "),s("th",[t._v("ä¼ ç»Ÿæ¶ˆæ¯é˜Ÿåˆ—")]),t._v(" "),s("th",[t._v("æµå¤„ç†å¹³å°")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("æ•°æ®æ¨¡å‹")]),t._v(" "),s("td",[t._v("ç‚¹å¯¹ç‚¹æˆ–å‘å¸ƒ-è®¢é˜…")]),t._v(" "),s("td",[t._v("æŒä¹…åŒ–çš„æ•°æ®æµ")])]),t._v(" "),s("tr",[s("td",[t._v("æ•°æ®ä¿ç•™")]),t._v(" "),s("td",[t._v("é€šå¸¸è¢«æ¶ˆè´¹ååˆ é™¤")]),t._v(" "),s("td",[t._v("æŒä¹…å­˜å‚¨ï¼Œå¯å›æº¯")])]),t._v(" "),s("tr",[s("td",[t._v("æ¶ˆè´¹æ¨¡å¼")]),t._v(" "),s("td",[t._v("æ¶ˆè´¹ä¸€æ¬¡å³åˆ é™¤")]),t._v(" "),s("td",[t._v("å¯å¤šæ¬¡æ¶ˆè´¹ï¼Œæ”¯æŒåç§»é‡ç®¡ç†")])]),t._v(" "),s("tr",[s("td",[t._v("å®æ—¶æ€§")]),t._v(" "),s("td",[t._v("è¿‘å®æ—¶")]),t._v(" "),s("td",[t._v("çœŸæ­£çš„å®æ—¶å¤„ç†")])]),t._v(" "),s("tr",[s("td",[t._v("æ‰©å±•èƒ½åŠ›")]),t._v(" "),s("td",[t._v("åŸºäºé˜Ÿåˆ—æ‰©å±•")]),t._v(" "),s("td",[t._v("åŸºäºåˆ†åŒºæ‰©å±•ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•")])])])]),t._v(" "),s("p",[t._v("ä¼ ç»Ÿçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸»è¦å…³æ³¨çš„æ˜¯"),s("strong",[t._v("å¯é çš„æ¶ˆæ¯ä¼ é€’")]),t._v("ï¼Œè€Œæµå¤„ç†å¹³å°åˆ™æ›´å…³æ³¨"),s("strong",[t._v("æ•°æ®çš„æŒä¹…åŒ–å’Œå®æ—¶å¤„ç†èƒ½åŠ›")]),t._v("ã€‚")]),t._v(" "),s("h2",{attrs:{id:"æµå¤„ç†çš„æ ¸å¿ƒæ¦‚å¿µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµå¤„ç†çš„æ ¸å¿ƒæ¦‚å¿µ"}},[t._v("#")]),t._v(" æµå¤„ç†çš„æ ¸å¿ƒæ¦‚å¿µ")]),t._v(" "),s("h3",{attrs:{id:"ğŸ“¡-æ•°æ®æµä¸äº‹ä»¶æº¯æº"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“¡-æ•°æ®æµä¸äº‹ä»¶æº¯æº"}},[t._v("#")]),t._v(" ğŸ“¡ æ•°æ®æµä¸äº‹ä»¶æº¯æº")]),t._v(" "),s("p",[t._v("åœ¨æµå¤„ç†æ¨¡å‹ä¸­ï¼Œæ•°æ®ä¸å†è¢«è§†ä¸ºå­¤ç«‹çš„è®°å½•ï¼Œè€Œæ˜¯è¿ç»­çš„ã€æœ‰åºçš„äº‹ä»¶æµã€‚è¿™ç§æ¨¡å‹å¤©ç„¶æ”¯æŒ**äº‹ä»¶æº¯æº(Event Sourcing)**æ¨¡å¼ï¼š")]),t._v(" "),s("div",{staticClass:"language-mermaid line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-mermaid"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("graph")]),t._v(" LR\n    A"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[ä¸šåŠ¡æ“ä½œ]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" B"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[äº‹ä»¶ç”Ÿæˆ]")]),t._v("\n    B "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" C"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[äº‹ä»¶å­˜å‚¨]")]),t._v("\n    C "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" D"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[äº‹ä»¶æµ]")]),t._v("\n    D "),s("span",{pre:!0,attrs:{class:"token arrow operator"}},[t._v("--\x3e")]),t._v(" E"),s("span",{pre:!0,attrs:{class:"token text string"}},[t._v("[äº‹ä»¶æ¶ˆè´¹è€…]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("äº‹ä»¶æº¯æºçš„ä¼˜åŠ¿åœ¨äºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å®Œæ•´çš„ä¸šåŠ¡å†å²è¢«è®°å½•")]),t._v(" "),s("li",[t._v("æ”¯æŒæ—¶é—´æ—…è¡Œå¼æŸ¥è¯¢")]),t._v(" "),s("li",[t._v("ç³»ç»ŸçŠ¶æ€å¯é‡å»º")]),t._v(" "),s("li",[t._v("å®¡è®¡å’Œåˆè§„æ€§æ”¯æŒ")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ”„-çŠ¶æ€è®¡ç®—ä¸çª—å£æ“ä½œ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”„-çŠ¶æ€è®¡ç®—ä¸çª—å£æ“ä½œ"}},[t._v("#")]),t._v(" ğŸ”„ çŠ¶æ€è®¡ç®—ä¸çª—å£æ“ä½œ")]),t._v(" "),s("p",[t._v("æµå¤„ç†çš„å¦ä¸€ä¸ªæ ¸å¿ƒæ˜¯"),s("strong",[t._v("çŠ¶æ€è®¡ç®—")]),t._v("ã€‚ä¸æ‰¹å¤„ç†ä¸åŒï¼Œæµå¤„ç†éœ€è¦åœ¨æ•°æ®æµåŠ¨è¿‡ç¨‹ä¸­ç»´æŠ¤å’Œæ›´æ–°çŠ¶æ€ï¼š")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼ªä»£ç ç¤ºä¾‹ï¼šçª—å£è®¡æ•°")]),t._v("\nstream\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("window")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TumblingEventTimeWindows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("minutes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("å¸¸è§çš„çª—å£æ“ä½œåŒ…æ‹¬ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ»šåŠ¨çª—å£(Tumbling Window)")]),t._v(" "),s("li",[t._v("æ»‘åŠ¨çª—å£(Hopping Window)")]),t._v(" "),s("li",[t._v("ä¼šè¯çª—å£(Session Window)")]),t._v(" "),s("li",[t._v("å…¨å±€çª—å£(Global Window)")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ§©-æµå¤„ç†æ‹“æ‰‘ä¸ç®—å­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§©-æµå¤„ç†æ‹“æ‰‘ä¸ç®—å­"}},[t._v("#")]),t._v(" ğŸ§© æµå¤„ç†æ‹“æ‰‘ä¸ç®—å­")]),t._v(" "),s("p",[t._v("æµå¤„ç†åº”ç”¨é€šå¸¸æ„å»ºä¸º**æœ‰å‘æ— ç¯å›¾(DAG)**çš„å½¢å¼ï¼Œå…¶ä¸­èŠ‚ç‚¹æ˜¯å¤„ç†ç®—å­ï¼Œè¾¹æ˜¯æ•°æ®æµï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Source -> Transform -> Transform -> Sink\n   |         |          |\n Filter  MapFunction  Aggregation\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("å¸¸è§çš„æµå¤„ç†ç®—å­åŒ…æ‹¬ï¼š")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("Sourceç®—å­")]),t._v("ï¼šæ•°æ®æºæ¥å…¥")]),t._v(" "),s("li",[s("strong",[t._v("è½¬æ¢ç®—å­")]),t._v("ï¼šmap, filter, flatMapç­‰")]),t._v(" "),s("li",[s("strong",[t._v("è¿æ¥ç®—å­")]),t._v("ï¼šjoin, co-groupç­‰")]),t._v(" "),s("li",[s("strong",[t._v("èšåˆç®—å­")]),t._v("ï¼šreduce, aggregate, window aggregationç­‰")]),t._v(" "),s("li",[s("strong",[t._v("Sinkç®—å­")]),t._v("ï¼šç»“æœè¾“å‡º")])]),t._v(" "),s("h2",{attrs:{id:"ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—çš„æµå¤„ç†èƒ½åŠ›"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—çš„æµå¤„ç†èƒ½åŠ›"}},[t._v("#")]),t._v(" ä¸»æµæ¶ˆæ¯é˜Ÿåˆ—çš„æµå¤„ç†èƒ½åŠ›")]),t._v(" "),s("h3",{attrs:{id:"kafka-streams"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kafka-streams"}},[t._v("#")]),t._v(" Kafka Streams")]),t._v(" "),s("p",[t._v("Kafkaä½œä¸ºæœ€æµè¡Œçš„æ¶ˆæ¯é˜Ÿåˆ—ä¹‹ä¸€ï¼Œæä¾›äº†å¼ºå¤§çš„æµå¤„ç†èƒ½åŠ›ï¼š")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Kafka Streamsç¤ºä¾‹ï¼šå®æ—¶è¯é¢‘ç»Ÿè®¡")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KStream")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" textLines "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" builder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TextLinesTopic"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("KTable")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" wordCounts "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" textLines\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("flatMapValues")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Arrays")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asList")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLowerCase")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("groupBy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" word"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" word"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwordCounts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WordsWithCountsTopic"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Produced")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Serdes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Serdes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Long")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("Kafka Streamsçš„ä¼˜åŠ¿ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ— éœ€éƒ¨ç½²ç‹¬ç«‹é›†ç¾¤")]),t._v(" "),s("li",[t._v("ä¸Kafkaç”Ÿæ€æ— ç¼é›†æˆ")]),t._v(" "),s("li",[t._v("æ”¯æŒexactly-onceè¯­ä¹‰")]),t._v(" "),s("li",[t._v("è‡ªåŠ¨åŒ–çš„çŠ¶æ€å­˜å‚¨ç®¡ç†")])]),t._v(" "),s("h3",{attrs:{id:"apache-pulsar-functions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apache-pulsar-functions"}},[t._v("#")]),t._v(" Apache Pulsar Functions")]),t._v(" "),s("p",[t._v("Pulsaræä¾›äº†è½»é‡çº§çš„å‡½æ•°è®¡ç®—èƒ½åŠ›ï¼š")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Pulsar Functionsé…ç½®ç¤ºä¾‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" word"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("count\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("className")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" org.apache.pulsar.functions.api.examples.WordCount\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("inputs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" persistent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("tenant/my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("namespace/input"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("topic\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("output")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" persistent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("tenant/my"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("namespace/output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("topic\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("autoAck")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("Pulsar Functionsçš„ç‰¹ç‚¹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æ”¯æŒå¤šç§è¯­è¨€(Java, Python, Goç­‰)")]),t._v(" "),s("li",[t._v("å†…ç½®çŠ¶æ€ç®¡ç†")]),t._v(" "),s("li",[t._v("è‡ªåŠ¨æ‰©ç¼©å®¹")]),t._v(" "),s("li",[t._v("æ”¯æŒå¤æ‚çš„å‡½æ•°é“¾å¼è°ƒç”¨")])]),t._v(" "),s("h3",{attrs:{id:"rabbitmq-stream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rabbitmq-stream"}},[t._v("#")]),t._v(" RabbitMQ Stream")]),t._v(" "),s("p",[t._v("RabbitMQå¼•å…¥äº†æµå¼å¤„ç†èƒ½åŠ›ï¼š")]),t._v(" "),s("div",{staticClass:"language-erlang line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-erlang"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("% RabbitMQ Streamç¤ºä¾‹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% åˆ›å»ºæµ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("rabbit_stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("my_stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% å‘å¸ƒæ¶ˆæ¯")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("rabbit_stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("publish")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("my_stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<<")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"message"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("%% æ¶ˆè´¹æ¶ˆæ¯")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("rabbit_stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token atom"}},[t._v("my_stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("RabbitMQ Streamçš„ä¼˜åŠ¿ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¿æŒäº†AMQPåè®®çš„å…¼å®¹æ€§")]),t._v(" "),s("li",[t._v("æ”¯æŒæ¶ˆæ¯å›æº¯")]),t._v(" "),s("li",[t._v("ä¸RabbitMQç°æœ‰ç”Ÿæ€é›†æˆ")]),t._v(" "),s("li",[t._v("æä¾›æµå¼å’Œé˜Ÿåˆ—ä¸¤ç§æ¶ˆè´¹æ¨¡å¼")])]),t._v(" "),s("h2",{attrs:{id:"æµå¤„ç†æ¶æ„æ¨¡å¼"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµå¤„ç†æ¶æ„æ¨¡å¼"}},[t._v("#")]),t._v(" æµå¤„ç†æ¶æ„æ¨¡å¼")]),t._v(" "),s("h3",{attrs:{id:"ğŸ—-äº‹ä»¶é©±åŠ¨æ¶æ„-eda"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ—-äº‹ä»¶é©±åŠ¨æ¶æ„-eda"}},[t._v("#")]),t._v(" ğŸ— äº‹ä»¶é©±åŠ¨æ¶æ„(EDA)")]),t._v(" "),s("p",[t._v("æµå¤„ç†æ˜¯æ„å»ºäº‹ä»¶é©±åŠ¨æ¶æ„çš„æ ¸å¿ƒï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   äº‹ä»¶æº    â”‚ â”€â”€> â”‚  äº‹ä»¶æ€»çº¿    â”‚ â”€â”€> â”‚  äº‹ä»¶å¤„ç†å™¨  â”‚\nâ”‚ (æ•°æ®åº“/UI) â”‚     â”‚ (æ¶ˆæ¯é˜Ÿåˆ—)   â”‚     â”‚ (å¾®æœåŠ¡)    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("EDAçš„ä¼˜åŠ¿ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç³»ç»Ÿç»„ä»¶é—´è§£è€¦")]),t._v(" "),s("li",[t._v("æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦")]),t._v(" "),s("li",[t._v("æ›´å¥½çš„å¯æ‰©å±•æ€§")]),t._v(" "),s("li",[t._v("æ”¯æŒå¤æ‚çš„äº‹ä»¶å¤„ç†æµç¨‹")])]),t._v(" "),s("h3",{attrs:{id:"ğŸ”„-cqrsæ¨¡å¼-å‘½ä»¤æŸ¥è¯¢è´£ä»»åˆ†ç¦»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”„-cqrsæ¨¡å¼-å‘½ä»¤æŸ¥è¯¢è´£ä»»åˆ†ç¦»"}},[t._v("#")]),t._v(" ğŸ”„ CQRSæ¨¡å¼(å‘½ä»¤æŸ¥è¯¢è´£ä»»åˆ†ç¦»)")]),t._v(" "),s("p",[t._v("æµå¤„ç†ä½¿CQRSæ¨¡å¼æ›´åŠ å¯è¡Œï¼š")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("å‘½ä»¤ç«¯                  æŸ¥è¯¢ç«¯\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ ç”¨æˆ·æ“ä½œ â”‚ â”€â”€â”€â”€â”€â”€â”€>  â”‚ äº‹ä»¶å­˜å‚¨ â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                        â”‚\n                        â–¼\n                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                   â”‚ äº‹ä»¶æµ  â”‚\n                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                        â”‚\n                        â–¼\n                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n                   â”‚ æŸ¥è¯¢æ¨¡å‹ â”‚\n                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("CQRSç»“åˆæµå¤„ç†çš„ä¼˜åŠ¿ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è¯»å†™åˆ†ç¦»ï¼Œä¼˜åŒ–æ€§èƒ½")]),t._v(" "),s("li",[t._v("æ”¯æŒå¤æ‚çš„æŸ¥è¯¢éœ€æ±‚")]),t._v(" "),s("li",[t._v("æ›´å¥½çš„å¯æ‰©å±•æ€§")]),t._v(" "),s("li",[t._v("äº‹ä»¶æº¯æºèƒ½åŠ›")])]),t._v(" "),s("h2",{attrs:{id:"æµå¤„ç†çš„æœ€ä½³å®è·µ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æµå¤„ç†çš„æœ€ä½³å®è·µ"}},[t._v("#")]),t._v(" æµå¤„ç†çš„æœ€ä½³å®è·µ")]),t._v(" "),s("h3",{attrs:{id:"ğŸ’¡-çŠ¶æ€ç®¡ç†ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¡-çŠ¶æ€ç®¡ç†ç­–ç•¥"}},[t._v("#")]),t._v(" ğŸ’¡ çŠ¶æ€ç®¡ç†ç­–ç•¥")]),t._v(" "),s("p",[t._v("æµå¤„ç†ä¸­çš„çŠ¶æ€ç®¡ç†è‡³å…³é‡è¦ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("çŠ¶æ€å­˜å‚¨é€‰æ‹©")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æœ¬åœ°çŠ¶æ€ï¼šä½å»¶è¿Ÿï¼Œä½†å¯é æ€§å—é™")]),t._v(" "),s("li",[t._v("åˆ†å¸ƒå¼çŠ¶æ€ï¼šé«˜å¯é æ€§ï¼Œä½†å¯èƒ½æœ‰å»¶è¿Ÿ")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("çŠ¶æ€ä¸€è‡´æ€§")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("è‡³å°‘ä¸€æ¬¡å¤„ç†(At-least-once)")]),t._v(" "),s("li",[t._v("ç²¾ç¡®ä¸€æ¬¡å¤„ç†(Exactly-once)")]),t._v(" "),s("li",[t._v("æœ€å¤šä¸€æ¬¡å¤„ç†(At-most-once)")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("çŠ¶æ€æ¸…ç†")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åŸºäºæ—¶é—´çš„TTL")]),t._v(" "),s("li",[t._v("åŸºäºå¤§å°çš„é™åˆ¶")]),t._v(" "),s("li",[t._v("æ‰‹åŠ¨æ¸…ç†ç­–ç•¥")])])])]),t._v(" "),s("h3",{attrs:{id:"ğŸš¨-å®¹é”™ä¸æ¢å¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš¨-å®¹é”™ä¸æ¢å¤"}},[t._v("#")]),t._v(" ğŸš¨ å®¹é”™ä¸æ¢å¤")]),t._v(" "),s("p",[t._v("æµå¤„ç†ç³»ç»Ÿå¿…é¡»å…·å¤‡å¼ºå¤§çš„å®¹é”™èƒ½åŠ›ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("æ£€æŸ¥ç‚¹æœºåˆ¶")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å®šæœŸä¿å­˜å¤„ç†çŠ¶æ€")]),t._v(" "),s("li",[t._v("æ”¯æŒä»æ£€æŸ¥ç‚¹æ¢å¤")]),t._v(" "),s("li",[t._v("ä¿è¯å¤„ç†è¯­ä¹‰çš„ä¸€è‡´æ€§")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("é‡è¯•ç­–ç•¥")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("æŒ‡æ•°é€€é¿é‡è¯•")]),t._v(" "),s("li",[t._v("æ­»ä¿¡é˜Ÿåˆ—å¤„ç†")]),t._v(" "),s("li",[t._v("å¤±è´¥äº‹ä»¶éš”ç¦»")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("ç›‘æ§ä¸å‘Šè­¦")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¤„ç†å»¶è¿Ÿç›‘æ§")]),t._v(" "),s("li",[t._v("ååé‡ç›‘æ§")]),t._v(" "),s("li",[t._v("é”™è¯¯ç‡ç›‘æ§")])])])]),t._v(" "),s("h2",{attrs:{id:"æ€§èƒ½ä¼˜åŒ–æŠ€å·§"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€§èƒ½ä¼˜åŒ–æŠ€å·§"}},[t._v("#")]),t._v(" æ€§èƒ½ä¼˜åŒ–æŠ€å·§")]),t._v(" "),s("h3",{attrs:{id:"ğŸ“Š-æ‰¹å¤„ç†ä¸å¾®æ‰¹å¤„ç†"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ“Š-æ‰¹å¤„ç†ä¸å¾®æ‰¹å¤„ç†"}},[t._v("#")]),t._v(" ğŸ“Š æ‰¹å¤„ç†ä¸å¾®æ‰¹å¤„ç†")]),t._v(" "),s("p",[t._v("åœ¨æµå¤„ç†ä¸­ï¼Œåˆç†ä½¿ç”¨æ‰¹å¤„ç†å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ï¼š")]),t._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾®æ‰¹å¤„ç†ç¤ºä¾‹")]),t._v("\nstream\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("window")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TumblingEventTimeWindows")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Time")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("seconds")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("aggregate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AtomicInteger")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" aggregate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          aggregate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" aggregate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Materialized")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"aggregate-store"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"ğŸ”„-å¹¶è¡Œåº¦ä¸åˆ†åŒºç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ”„-å¹¶è¡Œåº¦ä¸åˆ†åŒºç­–ç•¥"}},[t._v("#")]),t._v(" ğŸ”„ å¹¶è¡Œåº¦ä¸åˆ†åŒºç­–ç•¥")]),t._v(" "),s("p",[t._v("åˆç†çš„å¹¶è¡Œåº¦è®¾ç½®æ˜¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("åˆ†åŒºæ•°é‡")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åˆ†åŒºå¤ªå°‘ï¼šå¹¶è¡Œåº¦å—é™")]),t._v(" "),s("li",[t._v("åˆ†åŒºå¤ªå¤šï¼šèµ„æºæµªè´¹å’Œåè°ƒå¼€é”€")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("åˆ†åŒºé”®é€‰æ‹©")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç›¸å…³æ•°æ®åº”åˆ†é…åˆ°åŒä¸€åˆ†åŒº")]),t._v(" "),s("li",[t._v("é¿å…æ•°æ®å€¾æ–œ")]),t._v(" "),s("li",[t._v("è€ƒè™‘è®¿é—®æ¨¡å¼")])])])]),t._v(" "),s("h3",{attrs:{id:"ğŸ§©-ç®—å­ä¼˜åŒ–"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ§©-ç®—å­ä¼˜åŒ–"}},[t._v("#")]),t._v(" ğŸ§© ç®—å­ä¼˜åŒ–")]),t._v(" "),s("p",[t._v("å…·ä½“çš„ç®—å­å®ç°ä¹Ÿä¼šå½±å“æ€§èƒ½ï¼š")]),t._v(" "),s("ol",[s("li",[s("p",[s("strong",[t._v("çŠ¶æ€è®¿é—®ä¼˜åŒ–")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å‡å°‘çŠ¶æ€è®¿é—®é¢‘ç‡")]),t._v(" "),s("li",[t._v("ä½¿ç”¨é«˜æ•ˆçš„æ•°æ®ç»“æ„")]),t._v(" "),s("li",[t._v("æ‰¹é‡çŠ¶æ€æ“ä½œ")])])]),t._v(" "),s("li",[s("p",[s("strong",[t._v("åºåˆ—åŒ–ä¼˜åŒ–")]),t._v("ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é«˜æ•ˆçš„åºåˆ—åŒ–æ ¼å¼")]),t._v(" "),s("li",[t._v("é¿å…ä¸å¿…è¦çš„åºåˆ—åŒ–/ååºåˆ—åŒ–")]),t._v(" "),s("li",[t._v("ä½¿ç”¨äºŒè¿›åˆ¶æ ¼å¼")])])])]),t._v(" "),s("h2",{attrs:{id:"ç»“è¯­"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è¯­"}},[t._v("#")]),t._v(" ç»“è¯­")]),t._v(" "),s("p",[t._v("æ¶ˆæ¯é˜Ÿåˆ—çš„æµå¤„ç†èƒ½åŠ›æ­£åœ¨é‡æ–°å®šä¹‰æˆ‘ä»¬æ„å»ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ–¹å¼ã€‚ä»ç®€å•çš„æ¶ˆæ¯ä¼ é€’åˆ°å¼ºå¤§çš„äº‹ä»¶æµå¤„ç†ï¼Œè¿™ä¸€è½¬å˜ä½¿ç³»ç»Ÿèƒ½å¤Ÿæ›´å¥½åœ°å“åº”å®æ—¶ä¸šåŠ¡éœ€æ±‚ï¼Œæ”¯æŒå¤æ‚çš„äº‹ä»¶é©±åŠ¨æ¶æ„ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("æµå¤„ç†ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼çš„è½¬å˜â€”â€”ä»æ‰¹å¤„ç†æ€ç»´è½¬å‘å®æ—¶æ€ç»´ã€‚")])]),t._v(" "),s("p",[t._v("éšç€äº‘åŸç”Ÿå’ŒServerlessæ¶æ„çš„å…´èµ·ï¼Œæµå¤„ç†ä¸è¿™äº›æ–°æŠ€æœ¯çš„ç»“åˆå°†äº§ç”Ÿæ›´å¤šåˆ›æ–°åº”ç”¨ã€‚æœªæ¥ï¼Œæˆ‘å°†ç»§ç»­æ¢ç´¢æ¶ˆæ¯é˜Ÿåˆ—åœ¨è¾¹ç¼˜è®¡ç®—ã€äº‹ä»¶ç½‘æ ¼ç­‰æ–°å…´é¢†åŸŸçš„åº”ç”¨ï¼Œæ•¬è¯·æœŸå¾…ï¼")]),t._v(" "),s("hr"),t._v(" "),s("p",[s("em",[t._v("å¦‚æœä½ å¯¹æ¶ˆæ¯é˜Ÿåˆ—çš„æµå¤„ç†æœ‰ä»»ä½•ç–‘é—®æˆ–è§è§£ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€äº¤æµã€‚ä¹Ÿæ¬¢è¿å…³æ³¨æˆ‘çš„GitHubè·å–æ›´å¤šæŠ€æœ¯åˆ†äº«ã€‚")])])])}),[],!1,null,null,null);s.default=e.exports}}]);