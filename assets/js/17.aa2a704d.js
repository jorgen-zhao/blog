(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{369:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"架构图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#架构图"}},[s._v("#")]),s._v(" 架构图")]),s._v(" "),t("p",[t("img",{attrs:{src:"/dev/150/1.png",alt:"架构图"}})]),s._v(" "),t("h2",{attrs:{id:"tdengine基本概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tdengine基本概念"}},[s._v("#")]),s._v(" TDengine基本概念")]),s._v(" "),t("p",[s._v("给一个数据采集点建表，需要通过超级表建表，而不是建立普通表。")]),s._v(" "),t("ol",[t("li",[s._v("采集量 ⇒ 传感器、设备、其他类型的采集点采集的物理量。")]),s._v(" "),t("li",[s._v("标签 ⇒ 传感器、设备、其他类型采集点的静态属性，不随时间变化。")]),s._v(" "),t("li",[s._v("数据采集点 ⇒ 按照预设时间周期或受事件触发采集物理量的硬件或软件。")]),s._v(" "),t("li",[s._v("表 ⇒ 一个数据采集点一张表")]),s._v(" "),t("li",[s._v("超级表 ⇒ 某一特定类型的数据采集点的集合")]),s._v(" "),t("li",[s._v("子表 ⇒ 通过超级表创建的表")]),s._v(" "),t("li",[s._v("库")])]),s._v(" "),t("h2",{attrs:{id:"tdengine-压测"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tdengine-压测"}},[s._v("#")]),s._v(" TDengine 压测")]),s._v(" "),t("ul",[t("li",[s._v("配置\n"),t("ul",[t("li",[s._v("CPU: 4核 内存: 8GB 单机版")])])]),s._v(" "),t("li",[s._v("压测工具\n"),t("ul",[t("li",[s._v("taosBenchmark")])])]),s._v(" "),t("li",[s._v("压测结果")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("show tables: \nQuery OK, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10000")]),s._v(" row"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".168094s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("/20 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":37:38.485811"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" SUCC: Spent "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("66.497742")]),s._v(" seconds to insert rows: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9125750")]),s._v(" with "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" thread"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" into "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("137233.98")]),s._v(" records/second\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("/20 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(":37:38.485854"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" SUCC: insert delay, min: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".12ms, avg: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".29ms, p90: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".36ms, p95: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".41ms, p99: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(".64ms, max: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("623")]),s._v(".83ms\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h2",{attrs:{id:"数据迁移"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据迁移"}},[s._v("#")]),s._v(" 数据迁移")]),s._v(" "),t("ol",[t("li",[s._v("dataX（阿里开源）数据迁移方案，TDengine做了插件，目前暂不支持3.0版本  ⇒ 已经明确暂时不可用，等待新版使用。")]),s._v(" "),t("li",[s._v("MySQL导出CSV文件，然后TDengine导入CSV文件的方式。（TDengine异常,联系工程师团队解决）")]),s._v(" "),t("li",[s._v("接口方式查询与插入")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th"),s._v(" "),t("th",[s._v("MySQL")]),s._v(" "),t("th",[s._v("TDengine")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("数量")]),s._v(" "),t("td",[s._v("1370797")]),s._v(" "),t("td",[s._v("1359081")])]),s._v(" "),t("tr",[t("td",[s._v("时间")]),s._v(" "),t("td",[s._v("2022-12-28 22:34:54 - 2022-12-29 05:54:20")]),s._v(" "),t("td",[s._v("7h 21min")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);